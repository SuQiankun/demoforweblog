! function(e) {
	"use strict";
	var t, n, i = Array.prototype.slice;
	n = function(t) {
		this.options = e.extend({}, n.defaults, t), this.parser = this.options.parser, this.locale = this.options.locale, this.messageStore = this.options.messageStore, this.languages = {}, this.init()
	}, n.prototype = {
		init: function() {
			var t = this;
			String.locale = t.locale, String.prototype.toLocaleString = function() {
				var n, i, a, o, r, s, l;
				for(a = this.valueOf(), o = t.locale, r = 0; o;) {
					n = o.split("-"), i = n.length;
					do {
						if(s = n.slice(0, i).join("-"), l = t.messageStore.get(s, a)) return l;
						i--
					} while (i);
					if("en" === o) break;
					o = e.i18n.fallbacks[t.locale] && e.i18n.fallbacks[t.locale][r] || t.options.fallbackLocale, e.i18n.log("Trying fallback locale for " + t.locale + ": " + o), r++
				}
				return ""
			}
		},
		destroy: function() {
			e.removeData(document, "i18n")
		},
		load: function(t, n) {
			var i, a, o, r = {};
			if(t || n || (t = "i18n/" + e.i18n().locale + ".json", n = e.i18n().locale), "string" == typeof t && "json" !== t.split(".").pop()) {
				r[n] = t + "/" + n + ".json", i = (e.i18n.fallbacks[n] || []).concat(this.options.fallbackLocale);
				for(a in i) o = i[a], r[o] = t + "/" + o + ".json";
				return this.load(r)
			}
			return this.messageStore.load(t, n)
		},
		parse: function(t, n) {
			var i = t.toLocaleString();
			return this.parser.language = e.i18n.languages[e.i18n().locale] || e.i18n.languages.default, "" === i && (i = t), this.parser.parse(i, n)
		}
	}, e.i18n = function(t, a) {
		var o, r = e.data(document, "i18n"),
			s = "object" == typeof t && t;
		return s && s.locale && r && r.locale !== s.locale && (String.locale = r.locale = s.locale), r || (r = new n(s), e.data(document, "i18n", r)), "string" == typeof t ? (o = void 0 !== a ? i.call(arguments, 1) : [], r.parse(t, o)) : r
	}, e.fn.i18n = function() {
		var t = e.data(document, "i18n");
		return t || (t = new n, e.data(document, "i18n", t)), String.locale = t.locale, this.each(function() {
			var n, i, a, o, r = e(this),
				s = r.data("i18n");
			s ? (n = s.indexOf("["), i = s.indexOf("]"), -1 !== n && -1 !== i && n < i ? (a = s.slice(n + 1, i), o = s.slice(i + 1), "html" === a ? r.html(t.parse(o)) : r.attr(a, t.parse(o))) : r.text(t.parse(s))) : r.find("[data-i18n]").i18n()
		})
	}, String.locale = String.locale || e("html").attr("lang"), String.locale || (void 0 !== typeof window.navigator ? (t = window.navigator, String.locale = t.language || t.userLanguage || "") : String.locale = ""), e.i18n.languages = {}, e.i18n.messageStore = e.i18n.messageStore || {}, e.i18n.parser = {
		parse: function(e, t) {
			return e.replace(/\$(\d+)/g, function(e, n) {
				var i = parseInt(n, 10) - 1;
				return void 0 !== t[i] ? t[i] : "$" + n
			})
		},
		emitter: {}
	}, e.i18n.fallbacks = {}, e.i18n.debug = !1, e.i18n.log = function() {
		window.console && e.i18n.debug && window.console.log.apply(window.console, arguments)
	}, n.defaults = {
		locale: String.locale,
		fallbackLocale: "en",
		parser: e.i18n.parser,
		messageStore: e.i18n.messageStore
	}, e.i18n.constructor = n
}(jQuery),
function(e) {
	"use strict";

	function t(t) {
		var n = e.Deferred();
		return e.getJSON(t).done(n.resolve).fail(function(i, a, o) {
			e.i18n.log("Error in loading messages from " + t + " Exception: " + o), n.resolve()
		}), n.promise()
	}
	var n = function() {
		this.messages = {}, this.sources = {}
	};
	n.prototype = {
		load: function(n, i) {
			var a = null,
				o = null,
				r = [],
				s = this;
			if("string" == typeof n) return e.i18n.log("Loading messages from: " + n), o = t(n).done(function(e) {
				s.set(i, e)
			}), o.promise();
			if(i) return s.set(i, n), e.Deferred().resolve();
			for(a in n) Object.prototype.hasOwnProperty.call(n, a) && (i = a, r.push(s.load(n[a], i)));
			return e.when.apply(e, r)
		},
		set: function(t, n) {
			this.messages[t] ? this.messages[t] = e.extend(this.messages[t], n) : this.messages[t] = n
		},
		get: function(e, t) {
			return this.messages[e] && this.messages[e][t]
		}
	}, e.extend(e.i18n.messageStore, new n)
}(jQuery),
function(e) {
	"use strict";
	e.i18n = e.i18n || {}, e.extend(e.i18n.fallbacks, {
		ab: ["ru"],
		ace: ["id"],
		aln: ["sq"],
		als: ["gsw", "de"],
		an: ["es"],
		anp: ["hi"],
		arn: ["es"],
		arz: ["ar"],
		av: ["ru"],
		ay: ["es"],
		ba: ["ru"],
		bar: ["de"],
		"bat-smg": ["sgs", "lt"],
		bcc: ["fa"],
		"be-x-old": ["be-tarask"],
		bh: ["bho"],
		bjn: ["id"],
		bm: ["fr"],
		bpy: ["bn"],
		bqi: ["fa"],
		bug: ["id"],
		"cbk-zam": ["es"],
		ce: ["ru"],
		crh: ["crh-latn"],
		"crh-cyrl": ["ru"],
		csb: ["pl"],
		cv: ["ru"],
		"de-at": ["de"],
		"de-ch": ["de"],
		"de-formal": ["de"],
		dsb: ["de"],
		dtp: ["ms"],
		egl: ["it"],
		eml: ["it"],
		ff: ["fr"],
		fit: ["fi"],
		"fiu-vro": ["vro", "et"],
		frc: ["fr"],
		frp: ["fr"],
		frr: ["de"],
		fur: ["it"],
		gag: ["tr"],
		gan: ["gan-hant", "zh-hant", "zh-hans"],
		"gan-hans": ["zh-hans"],
		"gan-hant": ["zh-hant", "zh-hans"],
		gl: ["pt"],
		glk: ["fa"],
		gn: ["es"],
		gsw: ["de"],
		hif: ["hif-latn"],
		hsb: ["de"],
		ht: ["fr"],
		ii: ["zh-cn", "zh-hans"],
		inh: ["ru"],
		iu: ["ike-cans"],
		jut: ["da"],
		jv: ["id"],
		kaa: ["kk-latn", "kk-cyrl"],
		kbd: ["kbd-cyrl"],
		khw: ["ur"],
		kiu: ["tr"],
		kk: ["kk-cyrl"],
		"kk-arab": ["kk-cyrl"],
		"kk-latn": ["kk-cyrl"],
		"kk-cn": ["kk-arab", "kk-cyrl"],
		"kk-kz": ["kk-cyrl"],
		"kk-tr": ["kk-latn", "kk-cyrl"],
		kl: ["da"],
		"ko-kp": ["ko"],
		koi: ["ru"],
		krc: ["ru"],
		ks: ["ks-arab"],
		ksh: ["de"],
		ku: ["ku-latn"],
		"ku-arab": ["ckb"],
		kv: ["ru"],
		lad: ["es"],
		lb: ["de"],
		lbe: ["ru"],
		lez: ["ru"],
		li: ["nl"],
		lij: ["it"],
		liv: ["et"],
		lmo: ["it"],
		ln: ["fr"],
		ltg: ["lv"],
		lzz: ["tr"],
		mai: ["hi"],
		"map-bms": ["jv", "id"],
		mg: ["fr"],
		mhr: ["ru"],
		min: ["id"],
		mo: ["ro"],
		mrj: ["ru"],
		mwl: ["pt"],
		myv: ["ru"],
		mzn: ["fa"],
		nah: ["es"],
		nap: ["it"],
		nds: ["de"],
		"nds-nl": ["nl"],
		"nl-informal": ["nl"],
		no: ["nb"],
		os: ["ru"],
		pcd: ["fr"],
		pdc: ["de"],
		pdt: ["de"],
		pfl: ["de"],
		pms: ["it"],
		pt: ["pt-br"],
		"pt-br": ["pt"],
		qu: ["es"],
		qug: ["qu", "es"],
		rgn: ["it"],
		rmy: ["ro"],
		"roa-rup": ["rup"],
		rue: ["uk", "ru"],
		ruq: ["ruq-latn", "ro"],
		"ruq-cyrl": ["mk"],
		"ruq-latn": ["ro"],
		sa: ["hi"],
		sah: ["ru"],
		scn: ["it"],
		sg: ["fr"],
		sgs: ["lt"],
		sli: ["de"],
		sr: ["sr-ec"],
		srn: ["nl"],
		stq: ["de"],
		su: ["id"],
		szl: ["pl"],
		tcy: ["kn"],
		tg: ["tg-cyrl"],
		tt: ["tt-cyrl", "ru"],
		"tt-cyrl": ["ru"],
		ty: ["fr"],
		udm: ["ru"],
		ug: ["ug-arab"],
		uk: ["ru"],
		vec: ["it"],
		vep: ["et"],
		vls: ["nl"],
		vmf: ["de"],
		vot: ["fi"],
		vro: ["et"],
		wa: ["fr"],
		wo: ["fr"],
		wuu: ["zh-hans"],
		xal: ["ru"],
		xmf: ["ka"],
		yi: ["he"],
		za: ["zh-hans"],
		zea: ["nl"],
		zh: ["zh-hans"],
		"zh-classical": ["lzh"],
		"zh-cn": ["zh-hans"],
		"zh-hant": ["zh-hans"],
		"zh-hk": ["zh-hant", "zh-hans"],
		"zh-min-nan": ["nan"],
		"zh-mo": ["zh-hk", "zh-hant", "zh-hans"],
		"zh-my": ["zh-sg", "zh-hans"],
		"zh-sg": ["zh-hans"],
		"zh-tw": ["zh-hant", "zh-hans"],
		"zh-yue": ["yue"]
	})
}(jQuery),
function(e) {
	"use strict";
	var t = function(t) {
		this.options = e.extend({}, e.i18n.parser.defaults, t), this.language = e.i18n.languages[String.locale] || e.i18n.languages.default, this.emitter = e.i18n.parser.emitter
	};
	t.prototype = {
		constructor: t,
		simpleParse: function(e, t) {
			return e.replace(/\$(\d+)/g, function(e, n) {
				var i = parseInt(n, 10) - 1;
				return void 0 !== t[i] ? t[i] : "$" + n
			})
		},
		parse: function(t, n) {
			return t.indexOf("{{") < 0 ? this.simpleParse(t, n) : (this.emitter.language = e.i18n.languages[e.i18n().locale] || e.i18n.languages.default, this.emitter.emit(this.ast(t), n))
		},
		ast: function(e) {
			function t(e) {
				return function() {
					var t, n;
					for(t = 0; t < e.length; t++)
						if(null !== (n = e[t]())) return n;
					return null
				}
			}

			function n(e) {
				var t, n, i = A,
					a = [];
				for(t = 0; t < e.length; t++) {
					if(null === (n = e[t]())) return A = i, null;
					a.push(n)
				}
				return a
			}

			function i(e, t) {
				return function() {
					for(var n = A, i = [], a = t(); null !== a;) i.push(a), a = t();
					return i.length < e ? (A = n, null) : i
				}
			}

			function a(t) {
				var n = t.length;
				return function() {
					var i = null;
					return e.slice(A, A + n) === t && (i = t, A += n), i
				}
			}

			function o(t) {
				return function() {
					var n = e.slice(A).match(t);
					return null === n ? null : (A += n[0].length, n[0])
				}
			}

			function r() {
				var e = i(1, x)();
				return null === e ? null : e.join("")
			}

			function s() {
				var e = i(1, T)();
				return null === e ? null : e.join("")
			}

			function l() {
				var e = n([v, b]);
				return null === e ? null : e[1]
			}

			function d() {
				var e = n([m, y]);
				return null === e ? null : ["REPLACE", parseInt(e[1], 10) - 1]
			}

			function c() {
				var e, t = n([f, i(0, E)]);
				return null === t ? null : (e = t[1], e.length > 1 ? ["CONCAT"].concat(e) : e[0])
			}

			function h() {
				var e = n([N, g, d]);
				return null === e ? null : [e[0], e[2]]
			}

			function p() {
				var e = n([N, g, E]);
				return null === e ? null : [e[0], e[2]]
			}

			function u() {
				var e = n([I, D, S]);
				return null === e ? null : e[1]
			}
			var f, g, v, b, m, y, k, C, w, x, T, D, N, I, S, P, E, B, A = 0;
			if(f = a("|"), g = a(":"), v = a("\\"), b = o(/^./), m = a("$"), y = o(/^\d+/), k = o(/^[^{}\[\]$\\]/), C = o(/^[^{}\[\]$\\|]/), w = o(/^[^{}\[\]$\s]/), t([l, w]), x = t([l, C]), T = t([l, k]), N = function(e, t) {
					return function() {
						var n = e();
						return null === n ? null : t(n)
					}
				}(o(/^[ !"$&'()*,.\/0-9;=?@A-Z\^_`a-z~\x80-\xFF+\-]+/), function(e) {
					return e.toString()
				}), D = t([function() {
					var e = n([t([h, p]), i(0, c)]);
					return null === e ? null : e[0].concat(e[1])
				}, function() {
					var e = n([N, i(0, c)]);
					return null === e ? null : [e[0]].concat(e[1])
				}]), I = a("{{"), S = a("}}"), P = t([u, d, s]), E = t([u, d, r]), null === (B = function() {
					var e = i(0, P)();
					return null === e ? null : ["CONCAT"].concat(e)
				}()) || A !== e.length) throw new Error("Parse error at position " + A.toString() + " in input: " + e);
			return B
		}
	}, e.extend(e.i18n.parser, new t)
}(jQuery),
function(e) {
	"use strict";
	var t = function() {
		this.language = e.i18n.languages[String.locale] || e.i18n.languages.default
	};
	t.prototype = {
		constructor: t,
		emit: function(t, n) {
			var i, a, o, r = this;
			switch(typeof t) {
				case "string":
				case "number":
					i = t;
					break;
				case "object":
					if(a = e.map(t.slice(1), function(e) {
							return r.emit(e, n)
						}), o = t[0].toLowerCase(), "function" != typeof r[o]) throw new Error('unknown operation "' + o + '"');
					i = r[o](a, n);
					break;
				case "undefined":
					i = "";
					break;
				default:
					throw new Error("unexpected type in AST: " + typeof t)
			}
			return i
		},
		concat: function(t) {
			var n = "";
			return e.each(t, function(e, t) {
				n += t
			}), n
		},
		replace: function(e, t) {
			var n = parseInt(e[0], 10);
			return n < t.length ? t[n] : "$" + (n + 1)
		},
		plural: function(e) {
			var t = parseFloat(this.language.convertNumber(e[0], 10)),
				n = e.slice(1);
			return n.length ? this.language.convertPlural(t, n) : ""
		},
		gender: function(e) {
			var t = e[0],
				n = e.slice(1);
			return this.language.gender(t, n)
		},
		grammar: function(e) {
			var t = e[0],
				n = e[1];
			return n && t && this.language.convertGrammar(n, t)
		}
	}, e.extend(e.i18n.parser.emitter, new t)
}(jQuery),
function(e) {
	"use strict";
	var t = {
		pluralRules: {
			af: {
				one: "n = 1"
			},
			ak: {
				one: "n = 0..1"
			},
			am: {
				one: "i = 0 or n = 1"
			},
			ar: {
				zero: "n = 0",
				one: "n = 1",
				two: "n = 2",
				few: "n % 100 = 3..10",
				many: "n % 100 = 11..99"
			},
			ars: {
				zero: "n = 0",
				one: "n = 1",
				two: "n = 2",
				few: "n % 100 = 3..10",
				many: "n % 100 = 11..99"
			},
			as: {
				one: "i = 0 or n = 1"
			},
			asa: {
				one: "n = 1"
			},
			ast: {
				one: "i = 1 and v = 0"
			},
			az: {
				one: "n = 1"
			},
			be: {
				one: "n % 10 = 1 and n % 100 != 11",
				few: "n % 10 = 2..4 and n % 100 != 12..14",
				many: "n % 10 = 0 or n % 10 = 5..9 or n % 100 = 11..14"
			},
			bem: {
				one: "n = 1"
			},
			bez: {
				one: "n = 1"
			},
			bg: {
				one: "n = 1"
			},
			bh: {
				one: "n = 0..1"
			},
			bm: {},
			bn: {
				one: "i = 0 or n = 1"
			},
			bo: {},
			br: {
				one: "n % 10 = 1 and n % 100 != 11,71,91",
				two: "n % 10 = 2 and n % 100 != 12,72,92",
				few: "n % 10 = 3..4,9 and n % 100 != 10..19,70..79,90..99",
				many: "n != 0 and n % 1000000 = 0"
			},
			brx: {
				one: "n = 1"
			},
			bs: {
				one: "v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",
				few: "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"
			},
			ca: {
				one: "i = 1 and v = 0"
			},
			ce: {
				one: "n = 1"
			},
			cgg: {
				one: "n = 1"
			},
			chr: {
				one: "n = 1"
			},
			ckb: {
				one: "n = 1"
			},
			cs: {
				one: "i = 1 and v = 0",
				few: "i = 2..4 and v = 0",
				many: "v != 0"
			},
			cy: {
				zero: "n = 0",
				one: "n = 1",
				two: "n = 2",
				few: "n = 3",
				many: "n = 6"
			},
			da: {
				one: "n = 1 or t != 0 and i = 0,1"
			},
			de: {
				one: "i = 1 and v = 0"
			},
			dsb: {
				one: "v = 0 and i % 100 = 1 or f % 100 = 1",
				two: "v = 0 and i % 100 = 2 or f % 100 = 2",
				few: "v = 0 and i % 100 = 3..4 or f % 100 = 3..4"
			},
			dv: {
				one: "n = 1"
			},
			dz: {},
			ee: {
				one: "n = 1"
			},
			el: {
				one: "n = 1"
			},
			en: {
				one: "i = 1 and v = 0"
			},
			eo: {
				one: "n = 1"
			},
			es: {
				one: "n = 1"
			},
			et: {
				one: "i = 1 and v = 0"
			},
			eu: {
				one: "n = 1"
			},
			fa: {
				one: "i = 0 or n = 1"
			},
			ff: {
				one: "i = 0,1"
			},
			fi: {
				one: "i = 1 and v = 0"
			},
			fil: {
				one: "v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9"
			},
			fo: {
				one: "n = 1"
			},
			fr: {
				one: "i = 0,1"
			},
			fur: {
				one: "n = 1"
			},
			fy: {
				one: "i = 1 and v = 0"
			},
			ga: {
				one: "n = 1",
				two: "n = 2",
				few: "n = 3..6",
				many: "n = 7..10"
			},
			gd: {
				one: "n = 1,11",
				two: "n = 2,12",
				few: "n = 3..10,13..19"
			},
			gl: {
				one: "i = 1 and v = 0"
			},
			gsw: {
				one: "n = 1"
			},
			gu: {
				one: "i = 0 or n = 1"
			},
			guw: {
				one: "n = 0..1"
			},
			gv: {
				one: "v = 0 and i % 10 = 1",
				two: "v = 0 and i % 10 = 2",
				few: "v = 0 and i % 100 = 0,20,40,60,80",
				many: "v != 0"
			},
			ha: {
				one: "n = 1"
			},
			haw: {
				one: "n = 1"
			},
			he: {
				one: "i = 1 and v = 0",
				two: "i = 2 and v = 0",
				many: "v = 0 and n != 0..10 and n % 10 = 0"
			},
			hi: {
				one: "i = 0 or n = 1"
			},
			hr: {
				one: "v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",
				few: "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"
			},
			hsb: {
				one: "v = 0 and i % 100 = 1 or f % 100 = 1",
				two: "v = 0 and i % 100 = 2 or f % 100 = 2",
				few: "v = 0 and i % 100 = 3..4 or f % 100 = 3..4"
			},
			hu: {
				one: "n = 1"
			},
			hy: {
				one: "i = 0,1"
			},
			id: {},
			ig: {},
			ii: {},
			in: {},
			is: {
				one: "t = 0 and i % 10 = 1 and i % 100 != 11 or t != 0"
			},
			it: {
				one: "i = 1 and v = 0"
			},
			iu: {
				one: "n = 1",
				two: "n = 2"
			},
			iw: {
				one: "i = 1 and v = 0",
				two: "i = 2 and v = 0",
				many: "v = 0 and n != 0..10 and n % 10 = 0"
			},
			ja: {},
			jbo: {},
			jgo: {
				one: "n = 1"
			},
			ji: {
				one: "i = 1 and v = 0"
			},
			jmc: {
				one: "n = 1"
			},
			jv: {},
			jw: {},
			ka: {
				one: "n = 1"
			},
			kab: {
				one: "i = 0,1"
			},
			kaj: {
				one: "n = 1"
			},
			kcg: {
				one: "n = 1"
			},
			kde: {},
			kea: {},
			kk: {
				one: "n = 1"
			},
			kkj: {
				one: "n = 1"
			},
			kl: {
				one: "n = 1"
			},
			km: {},
			kn: {
				one: "i = 0 or n = 1"
			},
			ko: {},
			ks: {
				one: "n = 1"
			},
			ksb: {
				one: "n = 1"
			},
			ksh: {
				zero: "n = 0",
				one: "n = 1"
			},
			ku: {
				one: "n = 1"
			},
			kw: {
				one: "n = 1",
				two: "n = 2"
			},
			ky: {
				one: "n = 1"
			},
			lag: {
				zero: "n = 0",
				one: "i = 0,1 and n != 0"
			},
			lb: {
				one: "n = 1"
			},
			lg: {
				one: "n = 1"
			},
			lkt: {},
			ln: {
				one: "n = 0..1"
			},
			lo: {},
			lt: {
				one: "n % 10 = 1 and n % 100 != 11..19",
				few: "n % 10 = 2..9 and n % 100 != 11..19",
				many: "f != 0"
			},
			lv: {
				zero: "n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19",
				one: "n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1"
			},
			mas: {
				one: "n = 1"
			},
			mg: {
				one: "n = 0..1"
			},
			mgo: {
				one: "n = 1"
			},
			mk: {
				one: "v = 0 and i % 10 = 1 or f % 10 = 1"
			},
			ml: {
				one: "n = 1"
			},
			mn: {
				one: "n = 1"
			},
			mo: {
				one: "i = 1 and v = 0",
				few: "v != 0 or n = 0 or n != 1 and n % 100 = 1..19"
			},
			mr: {
				one: "i = 0 or n = 1"
			},
			ms: {},
			mt: {
				one: "n = 1",
				few: "n = 0 or n % 100 = 2..10",
				many: "n % 100 = 11..19"
			},
			my: {},
			nah: {
				one: "n = 1"
			},
			naq: {
				one: "n = 1",
				two: "n = 2"
			},
			nb: {
				one: "n = 1"
			},
			nd: {
				one: "n = 1"
			},
			ne: {
				one: "n = 1"
			},
			nl: {
				one: "i = 1 and v = 0"
			},
			nn: {
				one: "n = 1"
			},
			nnh: {
				one: "n = 1"
			},
			no: {
				one: "n = 1"
			},
			nqo: {},
			nr: {
				one: "n = 1"
			},
			nso: {
				one: "n = 0..1"
			},
			ny: {
				one: "n = 1"
			},
			nyn: {
				one: "n = 1"
			},
			om: {
				one: "n = 1"
			},
			or: {
				one: "n = 1"
			},
			os: {
				one: "n = 1"
			},
			pa: {
				one: "n = 0..1"
			},
			pap: {
				one: "n = 1"
			},
			pl: {
				one: "i = 1 and v = 0",
				few: "v = 0 and i % 10 = 2..4 and i % 100 != 12..14",
				many: "v = 0 and i != 1 and i % 10 = 0..1 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 12..14"
			},
			prg: {
				zero: "n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19",
				one: "n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1"
			},
			ps: {
				one: "n = 1"
			},
			pt: {
				one: "n = 0..2 and n != 2"
			},
			"pt-PT": {
				one: "n = 1 and v = 0"
			},
			rm: {
				one: "n = 1"
			},
			ro: {
				one: "i = 1 and v = 0",
				few: "v != 0 or n = 0 or n != 1 and n % 100 = 1..19"
			},
			rof: {
				one: "n = 1"
			},
			root: {},
			ru: {
				one: "v = 0 and i % 10 = 1 and i % 100 != 11",
				few: "v = 0 and i % 10 = 2..4 and i % 100 != 12..14",
				many: "v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14"
			},
			rwk: {
				one: "n = 1"
			},
			sah: {},
			saq: {
				one: "n = 1"
			},
			sdh: {
				one: "n = 1"
			},
			se: {
				one: "n = 1",
				two: "n = 2"
			},
			seh: {
				one: "n = 1"
			},
			ses: {},
			sg: {},
			sh: {
				one: "v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",
				few: "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"
			},
			shi: {
				one: "i = 0 or n = 1",
				few: "n = 2..10"
			},
			si: {
				one: "n = 0,1 or i = 0 and f = 1"
			},
			sk: {
				one: "i = 1 and v = 0",
				few: "i = 2..4 and v = 0",
				many: "v != 0"
			},
			sl: {
				one: "v = 0 and i % 100 = 1",
				two: "v = 0 and i % 100 = 2",
				few: "v = 0 and i % 100 = 3..4 or v != 0"
			},
			sma: {
				one: "n = 1",
				two: "n = 2"
			},
			smi: {
				one: "n = 1",
				two: "n = 2"
			},
			smj: {
				one: "n = 1",
				two: "n = 2"
			},
			smn: {
				one: "n = 1",
				two: "n = 2"
			},
			sms: {
				one: "n = 1",
				two: "n = 2"
			},
			sn: {
				one: "n = 1"
			},
			so: {
				one: "n = 1"
			},
			sq: {
				one: "n = 1"
			},
			sr: {
				one: "v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",
				few: "v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"
			},
			ss: {
				one: "n = 1"
			},
			ssy: {
				one: "n = 1"
			},
			st: {
				one: "n = 1"
			},
			sv: {
				one: "i = 1 and v = 0"
			},
			sw: {
				one: "i = 1 and v = 0"
			},
			syr: {
				one: "n = 1"
			},
			ta: {
				one: "n = 1"
			},
			te: {
				one: "n = 1"
			},
			teo: {
				one: "n = 1"
			},
			th: {},
			ti: {
				one: "n = 0..1"
			},
			tig: {
				one: "n = 1"
			},
			tk: {
				one: "n = 1"
			},
			tl: {
				one: "v = 0 and i = 1,2,3 or v = 0 and i % 10 != 4,6,9 or v != 0 and f % 10 != 4,6,9"
			},
			tn: {
				one: "n = 1"
			},
			to: {},
			tr: {
				one: "n = 1"
			},
			ts: {
				one: "n = 1"
			},
			tzm: {
				one: "n = 0..1 or n = 11..99"
			},
			ug: {
				one: "n = 1"
			},
			uk: {
				one: "v = 0 and i % 10 = 1 and i % 100 != 11",
				few: "v = 0 and i % 10 = 2..4 and i % 100 != 12..14",
				many: "v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14"
			},
			ur: {
				one: "i = 1 and v = 0"
			},
			uz: {
				one: "n = 1"
			},
			ve: {
				one: "n = 1"
			},
			vi: {},
			vo: {
				one: "n = 1"
			},
			vun: {
				one: "n = 1"
			},
			wa: {
				one: "n = 0..1"
			},
			wae: {
				one: "n = 1"
			},
			wo: {},
			xh: {
				one: "n = 1"
			},
			xog: {
				one: "n = 1"
			},
			yi: {
				one: "i = 1 and v = 0"
			},
			yo: {},
			yue: {},
			zh: {},
			zu: {
				one: "i = 0 or n = 1"
			}
		},
		convertPlural: function(t, n) {
			var i, a, o, r, s = new RegExp("\\d+=", "i");
			if(!n || 0 === n.length) return "";
			for(o = 0; o < n.length; o++)
				if(r = n[o], s.test(r)) {
					if(parseInt(r.slice(0, r.indexOf("=")), 10) === t) return r.slice(r.indexOf("=") + 1);
					n[o] = void 0
				}
			return n = e.map(n, function(e) {
				if(void 0 !== e) return e
			}), (i = this.pluralRules[e.i18n().locale]) ? (a = this.getPluralForm(t, i), a = Math.min(a, n.length - 1), n[a]) : 1 === t ? n[0] : n[1]
		},
		getPluralForm: function(e, t) {
			var n, i = ["zero", "one", "two", "few", "many", "other"],
				a = 0;
			for(n = 0; n < i.length; n++)
				if(t[i[n]]) {
					if(pluralRuleParser(t[i[n]], e)) return a;
					a++
				}
			return a
		},
		convertNumber: function(t, n) {
			var i, a, o, r, s, l;
			if(r = this.digitTransformTable(e.i18n().locale), s = String(t), l = "", !r) return t;
			if(n) {
				if(parseFloat(t, 10) === t) return t;
				i = [];
				for(a in r) i[r[a]] = a;
				r = i
			}
			for(o = 0; o < s.length; o++) r[s[o]] ? l += r[s[o]] : l += s[o];
			return n ? parseFloat(l, 10) : l
		},
		convertGrammar: function(e, t) {
			return e
		},
		gender: function(e, t) {
			if(!t || 0 === t.length) return "";
			for(; t.length < 2;) t.push(t[t.length - 1]);
			return "male" === e ? t[0] : "female" === e ? t[1] : 3 === t.length ? t[2] : t[0]
		},
		digitTransformTable: function(e) {
			var t = {
				ar: "٠١٢٣٤٥٦٧٨٩",
				fa: "۰۱۲۳۴۵۶۷۸۹",
				ml: "൦൧൨൩൪൫൬൭൮൯",
				kn: "೦೧೨೩೪೫೬೭೮೯",
				lo: "໐໑໒໓໔໕໖໗໘໙",
				or: "୦୧୨୩୪୫୬୭୮୯",
				kh: "០១២៣៤៥៦៧៨៩",
				pa: "੦੧੨੩੪੫੬੭੮੯",
				gu: "૦૧૨૩૪૫૬૭૮૯",
				hi: "०१२३४५६७८९",
				my: "၀၁၂၃၄၅၆၇၈၉",
				ta: "௦௧௨௩௪௫௬௭௮௯",
				te: "౦౧౨౩౪౫౬౭౮౯",
				th: "๐๑๒๓๔๕๖๗๘๙",
				bo: "༠༡༢༣༤༥༦༧༨༩"
			};
			return !!t[e] && t[e].split("")
		}
	};
	e.extend(e.i18n.languages, {
		default: t
	})
}(jQuery),
function() {
	"undefined" != typeof Waves && (Waves.attach(".bh-btn:not(.bh-disabled):not([disabled])"), Waves.init()), $("body").on("click", '[bh-btn-role="bhSelectBtnGroup"]', function(e) {
		var t = $(e.target || e.srcElement);
		t.hasClass("bh-btn") && ($(this).find(".bh-btn").removeClass("bh-active"), t.addClass("bh-active"))
	})
}(),
function(e) {
	"use strict";

	function t(t) {
		return this.each(function() {
			var i = e(this),
				a = i.data("bs.tab");
			a || i.data("bs.tab", a = new n(this)), "string" == typeof t && a[t]()
		})
	}
	var n = function(t) {
		this.element = e(t)
	};
	n.VERSION = "3.3.4", n.TRANSITION_DURATION = 150, n.prototype.show = function() {
		var t = this.element,
			n = t.closest("ul:not(.dropdown-menu)"),
			i = t.data("target");
		if(i || (i = t.attr("href"), i = i && i.replace(/.*(?=#[^\s]*$)/, "")), !t.parent("li").hasClass("bh-active")) {
			var a = n.find(".bh-active:last a"),
				o = e.Event("hide.bs.tab", {
					relatedTarget: t[0]
				}),
				r = e.Event("show.bs.tab", {
					relatedTarget: a[0]
				});
			if(a.trigger(o), t.trigger(r), !r.isDefaultPrevented() && !o.isDefaultPrevented()) {
				var s = e(i);
				this.activate(t.closest("li"), n), this.activate(s, s.parent(), function() {
					a.trigger({
						type: "hidden.bs.tab",
						relatedTarget: t[0]
					}), t.trigger({
						type: "shown.bs.tab",
						relatedTarget: a[0]
					})
				})
			}
		}
	}, n.prototype.activate = function(t, i, a) {
		function o() {
			r.removeClass("bh-active").find("> .dropdown-menu > .bh-active").removeClass("bh-active").end().find('[data-toggle="bhTab"]').attr("aria-expanded", !1), t.addClass("bh-active").find('[data-toggle="bhTab"]').attr("aria-expanded", !0), s ? (t[0].offsetWidth, t.addClass("bh-in")) : t.removeClass("bh-fade"), t.parent(".dropdown-menu").length && t.closest("li.dropdown").addClass("bh-active").end().find('[data-toggle="bhTab"]').attr("aria-expanded", !0), a && a()
		}
		var r = i.find("> .bh-active"),
			s = a && e.support.transition && (r.length && r.hasClass("bh-fade") || !!i.find("> .bh-fade").length);
		r.length && s ? r.one("bsTransitionEnd", o).emulateTransitionEnd(n.TRANSITION_DURATION) : o(), r.removeClass("bh-in")
	};
	var i = e.fn.tab;
	e.fn.tab = t, e.fn.tab.Constructor = n, e.fn.tab.noConflict = function() {
		return e.fn.tab = i, this
	};
	var a = function(n) {
		n.preventDefault(), t.call(e(this), "show")
	};
	e(document).on("click.bs.tab.data-api", '[data-toggle="bhTab"]', a)
}(jQuery),
function(e) {
	"use strict";
	e(document).on("click", ".bh-table tr", function(t) {
		if("INPUT" != t.target.nodeName) {
			var n = e(this),
				i = n.closest("table.bh-table");
			i.children("tbody");
			n.hasClass("bh-ch-active") ? n.removeClass("bh-ch-active") : (i.find("tr.bh-ch-active, td.bh-ch-active").removeClass("bh-ch-active"), n.addClass("bh-ch-active"))
		}
	}).on("mouseover", ".bh-table td", function() {
		var t = e(this);
		t.parent("tr").addClass("bh-ch-hover")
	}).on("mouseout", ".bh-table td", function() {
		var t = e(this);
		t.parent("tr").removeClass("bh-ch-hover")
	})
}(jQuery),
function() {
	$.bhDefaults = $.bhDefaults || {}, $.bhDefaults.Dialog = {
		type: "",
		title: "",
		content: "",
		className: "",
		buttons: [{
			text: "确定",
			className: "bh-btn-primary",
			callback: null
		}],
		width: 370,
		height: "auto"
	}, $.bhDialog = function(e) {
		var t = $("body"),
			n = $.extend({}, $.bhDefaults.Dialog, e || {}),
			i = {},
			a = {
				_init: function() {
					var e = $("<div class='bh-bhdialog-container'></div>"),
						i = a.NewGuid();
					e.attr("id", "dialog" + i);
					var o = $("<div class='bh-modal'></div>"),
						r = $("<div class='bh-pop bh-card bh-card-lv4 bh-dialog-con'></div>");
					n.width && r.width(n.width), n.className && r.addClass(n.className), a._createDialogIcon(r), a._createDialogBody(r, i), o.append(r), e.append(o), e.append($('<div class="bh-modal-backdrop"></div>')), t.append(e), a._checkScrollbar(), t.hasClass("bh-has-modal-body") ? a.isRetainModal = !0 : (a.isRetainModal = !1, t.addClass("bh-has-modal-body")), a._resetPos(r)
				},
				_resetPos: function(e) {
					var t = document.documentElement.clientHeight,
						n = e.height();
					e.css("margin-top", (t - n) / 2)
				},
				_checkScrollbar: function() {
					var e = window.innerWidth;
					if(!e) {
						var t = document.documentElement.getBoundingClientRect();
						e = t.right - Math.abs(t.left)
					}
					var n = document.body.clientWidth < e,
						i = a._measureScrollbar();
					a._setScrollbar(n, i)
				},
				_setScrollbar: function(e, n) {
					var a = parseInt(t.css("padding-right") || 0, 10);
					i.originalBodyPad = document.body.style.paddingRight || "", e && t.css("padding-right", a + n)
				},
				_resetScrollbar: function() {
					t.css("padding-right", i.originalBodyPad)
				},
				_measureScrollbar: function() {
					var e = document.createElement("div");
					e.className = "bh-modal-scrollbar-measure", t.append(e);
					var n = e.offsetWidth - e.clientWidth;
					return t[0].removeChild(e), n
				},
				_removeDialog: function(e) {
					$("#dialog" + e).remove(), a._resetScrollbar(), a.isRetainModal ? a.isRetainModal = !1 : t.removeClass("bh-has-modal-body")
				},
				_createDialogBody: function(e, t) {
					var i = $("<div class='bh-dialog-content'></div>"),
						o = $('<div class="content"></div>');
					o.html(a._getContent(n)), i.append(o), a._createDialogBtn(i, t), n.subContent && ($(".bh-dialog-expand", i).on("click", function() {
						$(this).hide(), $(".bh-dialog-subContent", i).show()
					}), $(".bh-dialog-collapse", i).on("click", function() {
						$(this).parent().hide(), $(".bh-dialog-expand", i).show()
					})), e.append(i), "" == n.content && (e.find(".content").css("height", "80px"), e.addClass("bh-dialog-minHeight"))
				},
				_getContent: function(e) {
					if(e.subContent) {
						var t = e.content;
						return t += '<a href="javascript:void(0)" class="bh-dialog-expand bh-mh-8">详情</a>', t += '<div class="bh-dialog-subContent" style="display: none;word-break: break-all;">' + e.subContent + '<a href="javascript:void(0)" class="bh-dialog-collapse bh-mh-8">收起</a></div>'
					}
					return e.content
				},
				_createDialogBtn: function(e, t) {
					var i = $('<div class="bh-dialog-center"></div>');
					if(n.buttons && n.buttons.length > 0)
						for(var o = n.buttons.length, r = 0; r < o; r++) {
							var s = a._createBtn(n.buttons[r], t);
							i.append(s)
						} else {
							var s = a._createBtn({
								text: "确定",
								className: "bh-btn-primary"
							}, t);
							i.append(s)
						}
					e.append(i)
				},
				_createBtn: function(e, t) {
					var n = $("<a style='cursor: pointer;' class='bh-btn'></a>");
					return e && e.text && n.text(e.text), e && e.className && n.addClass(e.className), n.click(function() {
						a._removeDialog(t), e.callback && e.callback()
					}), n
				},
				_createDialogIcon: function(e) {
					if("" != n.type) {
						var t = a._getDialogIconDom(n.type);
						e.append(t)
					}
				},
				_getDialogIconDom: function(e) {
					var t = "";
					return "success" == e ? t = "checkcircle" : "warning" == e ? t = "error" : "danger" == e && (t = "cancel"), '<div class="bh-dialog-title-con"><i class="iconfont icon-setstyle icon-' + t + " bh-dialog-icon-color" + e + '"></i><h2 class="bh-dialog-title-text">' + n.title + "</h2></div>"
				},
				NewGuid: function() {
					return a.S4() + a.S4() + "-" + a.S4() + "-" + a.S4() + "-" + a.S4() + "-" + a.S4() + a.S4() + a.S4()
				},
				S4: function() {
					return(65536 * (1 + Math.random()) | 0).toString(16).substring(1)
				}
			};
		"" == n.type && n.iconType && (n.type = n.iconType), "" !== n.content && void 0 !== n.content || (n.content = n.title, n.title = "提示"), a._init()
	}
}.call(this),
	function(e) {
		"use strict";
		e(document).on("click", ".bh-label-radio", function(t) {
			var n = e(this),
				i = n.parent();
			if(i.attr("multiple")) n.toggleClass("bh-active");
			else {
				if(n.hasClass("bh-active")) return;
				n.closest(".bh-label-radio-group").find(".bh-label-radio").removeClass("bh-active"), n.addClass("bh-active")
			}
			i.trigger("change")
		})
	}(jQuery),
	function(e) {
		"use strict";

		function t(e) {
			var t = e.closest("[bh-form-role=bhForm]");
			t.length > 0 && !t.hasClass("bh-form-S") && (t.find(".bh-row").removeClass("bh-active"), e.closest(".bh-row").addClass("bh-active"))
		}
		e(document).on("click", "input.bh-form-control", function(n) {
			t(e(this))
		}), e(document).on("click", "textarea.bh-form-control", function(n) {
			t(e(this))
		}), e(document).on("click", "input[type='radio']", function(n) {
			t(e(this))
		}), e(document).on("click", "input[type='checkbox']", function(n) {
			t(e(this))
		}), e(document).on("click", ".bh-row", function(t) {
			e(this).closest(".bh-row").siblings(".bh-row").removeClass("bh-active")
		})
	}(jQuery),
	function(e) {
		"use strict";
		e(document).on("click", function(t) {
			var n = null,
				i = e(t.target || t.srcElement);
			"bhDropdown" === i.attr("bh-dropdown-role") ? n = i : i.closest("[bh-dropdown-role=bhDropdown]").length > 0 && (n = i.closest("[bh-dropdown-role=bhDropdown]")), n ? n.find("[bh-dropdown-role=bhDropdownMenu]").toggleClass("bh-dropdown-open") : e("body").find("[bh-dropdown-role=bhDropdownMenu]").removeClass("bh-dropdown-open")
		})
	}(jQuery),
	function(e) {
		"use strict";

		function t(e, t) {
			var n = e.siblings('[bh-flex-panel-role="panel-content-wrap"]'),
				i = n.find('[bh-flex-panel-role="panel-content"]').outerHeight();
			n.height(i), t.attr("flex", "true")
		}

		function n(e, t) {
			t.find('[bh-flex-panel-role="panel-content-wrap"]').height(0), t.attr("flex", "false")
		}
		e(document).on("click", '[bh-flex-panel-role="panel-title"]', function() {
			var i = e(this),
				a = i.closest('[bh-flex-panel-role="flex-panel"]');
			"true" === a.attr("flex") ? n(i, a) : t(i, a)
		})
	}(jQuery),
	function(e) {
		e.bhAffix = function(t) {
			function n() {
				if(a.fixedContainer.length > 0) {
					var t = e(window),
						n = t.scrollTop(),
						i = a.hostContainer.offset(),
						o = i.top,
						r = (i.left, a.header ? a.header.outerHeight() : 0),
						s = a.fixedContainer.offset(),
						l = s.top,
						d = s.left,
						c = l - o,
						h = a.offset.top ? parseInt(a.offset.top, 10) : 0;
					if(c += h, n >= o - h - r) {
						var p = a.fixedContainer.data("bhAffixStyleData");
						if(!p) {
							a.offset.left && (d += parseInt(a.offset.left, 10));
							var u = c;
							a.miniHeader ? u += a.miniHeader.outerHeight() : u += r, p = {
								left: d + "px",
								position: "fixed",
								top: u
							};
							var f = a.fixedContainer.attr("style");
							a.fixedContainer.data("beforeBhAffixStyle", f).data("bhAffixStyleData", p)
						}
						a.fixedContainer.css(p).data("bhAffixFlag", !0).addClass("bh-affix-fixedFlag")
					} else {
						var f = a.fixedContainer.data("beforeBhAffixStyle"),
							g = a.fixedContainer.data("bhAffixFlag");
						f || (f = ""), g && (a.fixedContainer.attr("style", f), a.fixedContainer.data("bhAffixFlag", !1).removeClass("bh-affix-fixedFlag"))
					}
				}
			}
			var i = {
					hostContainer: "",
					header: e("header.sc-head"),
					miniHeader: e("header.sc-head-mini"),
					fixedContainer: "",
					offset: {}
				},
				a = e.extend({}, i, t);
			a.fixedContainer.length > 0 && "bhFormOutline" === a.fixedContainer.attr("bh-role-form-outline-fixed") || a.fixedContainer.length > 0 && a.hostContainer.length > 0 && "bhAffix" !== a.fixedContainer.attr("bh-affix-role") && (e(window).on("scroll.bhAffix", function() {
				n()
			}), a.fixedContainer.attr("bh-affix-role", "bhAffix"))
		}
	}(jQuery),
	function(e) {
		function t() {
			return 450
		}

		function n() {
			return 42
		}

		function i(t) {
			var n = o(t),
				i = r(t),
				s = a();
			e("body").append('<div class="bh-asideNav-container bh-animated bh-outLeft" style="display: none;" bh-aside-nav-role="bhAsideNav">' + n + i + "</div>" + s), l(), t && void 0 !== t.ready && t.ready instanceof Function && t.ready()
		}

		function a() {
			return '<div class="bh-modal-backdrop bh-animated bh-asideNav-fadeOut" style="display: none;" bh-aside-nav-role="bhAsideNavBackdrop"></div>'
		}

		function o(e) {
			return '<div class="bh-asideNav-top"><h1>' + e.title + '</h1><div class="bh-asideNav-top-close"><i class="iconfont icon-close" bh-aside-nav-role="bhAsideNavCloseBtn"></i></div></div>'
		}

		function r(e) {
			var t = e.data,
				n = t.length,
				i = e.iconFont,
				a = "";
			if(n > 0)
				for(var o = 0; o < n; o++) {
					var r = t[o],
						l = r.length;
					if(l > 0)
						for(var d = !1, c = 0; c < l; c++) {
							o < n - 1 && (d = c == l - 1);
							var h = r[c],
								p = h.children;
							if(p && p.length > 0) {
								var u = "",
									f = p.length;
								if(f > 0) {
									for(var g = 0; g < f; g++) u += s(p[g], i, "child", !1);
									u = '<ul class="bh-asideNav">' + u + "</ul>"
								}
								a += s(h, i, "", d).replace("@childContent", u)
							} else a += s(h, i, "", d)
						}
				}
			return a = '<div class="bh-asideNav-list"><ul class="bh-asideNav">' + a + "</ul></div>"
		}

		function s(e, t, n, i) {
			var a = e.text,
				o = e.icon,
				r = e.href,
				s = "",
				l = !1;
			"child" === n ? s = "" : e.children && e.children.length > 0 && (s = "bh-asideNav-dropdown", l = !0), r || (r = "javascript:void(0);"), i && (s += " bh-asideNav-splite");
			var d = '<li class="@liClass"><a href="@href"><div><i class="@iconFont @iconName"></i>@text</div></a>@childContent</li>';
			return d = d.replace("@liClass", s).replace("@href", r).replace("@iconFont", t).replace("@iconName", o).replace("@text", a), l || (d = d.replace("@childContent", "")), d
		}

		function l(i) {
			var a = e("[bh-aside-nav-role=bhAsideNav]");
			a.on("click", "[bh-aside-nav-role=bhAsideNavCloseBtn]", function() {
				c(i)
			}), e("[bh-aside-nav-role=bhAsideNavBackdrop]").on("click", function() {
				c(i)
			}), a.on("click", ".bh-asideNav-dropdown > a", function() {
				var i = e(this).parent();
				if(i.hasClass("bh-asideNav-open")) {
					var o = n();
					i.removeClass("bh-asideNav-open").css({
						height: o + "px"
					})
				} else {
					a.find(".bh-asideNav-dropdown").css({
						height: n() + "px"
					});
					var r = i.find(".bh-asideNav"),
						s = r.children("li"),
						l = s.length,
						d = l + 1,
						c = n() * d;
					a.find(".bh-asideNav-open").removeClass("bh-asideNav-open"), i.addClass("bh-asideNav-open").css({
						height: c + "px"
					})
				}
				setTimeout(function() {
					e(".bh-asideNav-container").getNiceScroll().resize()
				}, t())
			}), a.on("click", ".bh-asideNav li>a", function() {
				var t = e(this).closest("li");
				a.find(".bh-asideNav-active").removeClass("bh-asideNav-active"), t.addClass("bh-asideNav-active"), t.hasClass("bh-asideNav-dropdown") || c(i)
			}), e(".bh-asideNav-container").niceScroll({
				cursorborder: "none",
				hidecursordelay: 10,
				autohidemode: "scroll"
			})
		}

		function d() {
			var n = e("[bh-aside-nav-role=bhAsideNav]"),
				i = e("[bh-aside-nav-role=bhAsideNavBackdrop]");
			n.removeClass("bh-outLeft").addClass("bh-intoLeft").show(), i.removeClass("bh-asideNav-fadeOut").addClass("bh-asideNav-fadeIn").show(), setTimeout(function() {
				e(".bh-asideNav-container").getNiceScroll().resize()
			}, t())
		}

		function c(n) {
			var i = e("[bh-aside-nav-role=bhAsideNav]"),
				a = e("[bh-aside-nav-role=bhAsideNavBackdrop]");
			i.removeClass("bh-intoLeft").addClass("bh-outLeft"), a.removeClass("bh-asideNav-fadeIn").addClass("bh-asideNav-fadeOut"), setTimeout(function() {
				a.hide(), e(".bh-asideNav-container").getNiceScroll().resize(), n && void 0 !== n.hide && n.hide instanceof Function && n.hide()
			}, t())
		}

		function h() {
			e("[bh-aside-nav-role=bhAsideNav]").remove(), e("[bh-aside-nav-role=bhAsideNavBackdrop]").remove()
		}
		e.bhAsideNav = {
			init: function(t) {
				var n = {
					title: "",
					iconFont: "",
					data: [],
					hide: null,
					ready: null
				};
				t = e.extend({}, n, t), i(t)
			},
			show: function(e) {
				d()
			},
			hide: function(t) {
				var n = {
					hide: null
				};
				t = e.extend({}, n, t), c(t)
			},
			destroy: function(e) {
				h()
			}
		}
	}(jQuery),
	function() {
		var e, t, n;
		e = function() {
			function e(e, n) {
				this.$element = $(e), void 0 !== n && (this.options = $.extend({}, $.fn.bhButtonGroup.defaults, n), t(this.$element, this.options))
			}
			return e.prototype.setValue = function(e) {
				var t;
				e || (t = "ALL"), $(".bh-label-radio.bh-active", this.$element).removeClass("bh-active"), $(".bh-label-radio[data-id=" + t + "]").addClass("bh-active")
			}, e.prototype.getValue = function() {
				var e, t = $.makeArray($(".bh-label-radio.bh-active", this.$element));
				return t.length && (e = t.map(function(e) {
					return $(e).data("id")
				}).join(",")), "ALL" == e ? "" : e
			}, e
		}(), t = function(e, t) {
			if(t.multiple && e.attr("multiple", !0), t.data && null != t.data && t.data.length > 0) n(t.data, e, t);
			else if(t.url) {
				var i = {
						datatype: "json",
						root: "datas>code>rows",
						datafields: [{
							name: "id"
						}, {
							name: "name"
						}],
						id: "id",
						url: t.url
					},
					a = new $.jqx.dataAdapter(i, {
						loadComplete: function(i) {
							var a = [];
							if(void 0 === i.datas) {
								BH_UTILS.bhDialogDanger({
									title: "数据格式有误",
									content: "具体内容请查看控制台",
									buttons: [{
										text: "关闭",
										className: "bh-btn-default"
									}]
								});
								var o = e.data("name"),
									r = e.data("caption");
								throw console && console.error("数据格式有误，bhButtonGroup[字段:" + o + ",中文:" + r + "]期望从后台返回的结构包含：datas.code.rows,请求url：" + t.url + "，实际内容如下"), i
							}
							a = i.datas.code.rows, n(a, e, t), e.trigger("bhInputInitComplete", e)
						}
					});
				a.dataBind()
			}
		}, n = function(e, t, n) {
			t.empty(),
				n.allOption && !n.multiple && t.append($('<div class="bh-active bh-label-radio" data-id="ALL">全部</div>')), $(e).each(function() {
					var e = $('<div class="bh-label-radio"></div>');
					e.attr("data-id", this.id).attr("data-name", this.name).attr("title", this.name), e.text(this.name), t.append($(e))
				})
		}, $.fn.bhButtonGroup = function(t) {
			var n;
			return n = this.data("plugin"), n ? !0 === t ? n : "string" === $.type(t) ? (1 == n && (n = new e(this)), n[t]()) : this : this.each(function() {
				return $(this).data("plugin", new e(this, t))
			})
		}, $.fn.bhButtonGroup.defaults = {
			allOption: !0,
			multiple: !1
		}
	}.call(this),
	function(e) {
		function t(e, t) {
			var i = n(e);
			t.html(i), s(t, e), l(t, e)
		}

		function n(e) {
			var t = e.data,
				n = !1;
			if(t) {
				for(var o = "", s = 0; s < t.length; s++) {
					var l = t[s],
						d = "bh-collapse";
					l.disabled && (d += " bh-collapse-disabled", l.extend = !1);
					var c = i(l.content),
						h = r(e, l.extend, n);
					l.extend = h.extend, h.flag && (n = h.flag), o += a(d, l, c)
				}
				return o
			}
		}

		function i(e) {
			var t = "";
			if(e)
				for(var n = 0; n < e.length; n++) {
					var i = e[n],
						a = i.title,
						r = i.content,
						s = "",
						l = "";
					void 0 !== a && (s = '<div class="sc-title-borderLeft bh-mb-16">' + a + "</div>"), void 0 !== r && (l = '<div class="bh-collapse-block-item-content">' + r + "</div>");
					var d = "bh-collapse-block-item",
						c = i.attrs;
					c && c.class && (d += " " + c.class, delete c.class);
					var h = o(c);
					t += '<div class="' + d + '" ' + h + ">" + s + l + "</div>"
				}
			return t
		}

		function a(e, t, n) {
			var i = t.attrs;
			i && i.class && (e += " " + i.class, delete i.class);
			var a = o(i);
			return '<div class="' + e + '" bh-collapse-extend="' + t.extend + '" ' + a + '><div class="bh-collapse-header"><h3 class="bh-collapse-title">' + t.title + '</h3><div class="bh-collapse-toolbar bh-animate-transform-fast"><i class="iconfont icon-keyboardarrowright bh-collapse-icon"></i></div></div><div class="bh-collapse-block bh-collapse-animate-fast"><div class="bh-collapse-content">' + n + "</div></div></div>"
		}

		function o(e) {
			var t = "";
			if("object" == typeof e)
				for(var n in e) {
					var i = e[n];
					i && (t += " " + n + "=" + i)
				}
			return t
		}

		function r(e, t, n) {
			var i = n,
				a = t;
			return "multiple" === e.model ? void 0 === a && (a = !!e.extend) : void 0 === a ? a = !1 : a && (n ? a = !1 : i = !0), {
				extend: a,
				flag: i
			}
		}

		function s(t, n) {
			t.find(".bh-collapse-block").each(function() {
				var t = e(this),
					n = t.find(".bh-collapse-content").outerHeight(),
					i = t.closest(".bh-collapse").find(".bh-collapse-toolbar");
				"true" === t.closest(".bh-collapse").attr("bh-collapse-extend") ? (i.addClass("bh-collapse-rotate-90"), t.css({
					height: n
				}).closest(".bh-collapse").addClass("bh-card bh-card-lv2 active")) : t.css({
					height: 0
				})
			}), void 0 !== n.ready && n.ready instanceof Function && n.ready()
		}

		function l(t, n) {
			t.off("click", ".bh-collapse-header").on("click", ".bh-collapse-header", function(i) {
				i = i || window.event;
				var a = i.target || i.srcElement,
					o = e(a),
					r = o.closest(".bh-collapse").find(".bh-collapse-block");
				o.closest(".bh-collapse-disabled").length || ("true" !== o.closest(".bh-collapse").attr("bh-collapse-extend") ? "single" === n.model ? d(t, r, n) : p(r, n) : u(r, n))
			})
		}

		function d(e, t, n) {
			c(e) ? (u(h(e), n), setTimeout(function() {
				p(t, n)
			}, 250)) : p(t, n)
		}

		function c(e) {
			var t = !1,
				n = e.find(".active");
			return n.length > 0 && n.find(".bh-collapse-block").is(":visible") && (t = !0), t
		}

		function h(t) {
			var n;
			return t.find(".bh-collapse-block").each(function(t, i) {
				if(e(i).is(":visible")) return n = e(i), !1
			}), n
		}

		function p(e, t) {
			var n = e.closest(".bh-collapse");
			n.addClass("bh-card bh-card-lv2 active").attr("bh-collapse-extend", "true"), n.find(".bh-collapse-toolbar").removeClass("bh-collapse-rotate-0").addClass("bh-collapse-rotate-90");
			var i = e.find(".bh-collapse-content").outerHeight();
			setTimeout(function() {
				e.css({
					height: i
				})
			}, 50);
			for(var a = {}, o = n[0].attributes, r = o.length, s = 0; s < r; s++) {
				var l = o[s],
					d = l.name,
					c = l.value;
				d && "bh-collapse-extend" != d && (a[d] = c)
			}
			var h = {
				node: n,
				attrs: a
			};
			t && t.nodeExtend && setTimeout(function() {
				t.nodeExtend(h)
			}, 250)
		}

		function u(e, t) {
			var n = e.closest(".bh-collapse");
			e.css({
				height: 0
			});
			var i = {
				node: n
			};
			n.find(".bh-collapse-toolbar").removeClass("bh-collapse-rotate-90").addClass("bh-collapse-rotate-0"), setTimeout(function() {
				n.removeClass("bh-card bh-card-lv2 active").attr("bh-collapse-extend", "false"), t && t.nodeCollapse && t.nodeCollapse(i)
			}, 250)
		}
		var f;
		e.fn.bhCollapse = function(t, n) {
			var i;
			return i = this.data("bhCollapse"), i ? !0 === t ? i : "string" === e.type(t) ? i[t](n) : this : this.each(function() {
				return e(this).data("bhCollapse", new f(this, t))
			})
		}, e.fn.bhCollapse.defaults = {
			model: "single",
			extend: !1,
			data: [],
			nodeExtend: null,
			nodeCollapse: null,
			ready: null
		}, f = function() {
			function n(n, i) {
				this.settings = e.extend({}, e.fn.bhCollapse.defaults, i), this.$element = e(n), t(this.settings, this.$element)
			}
			return n
		}()
	}(jQuery),
	function(e) {
		function t(t, a) {
			var o = a.html(),
				r = i(t);
			a.html(r);
			var s = e(".bh-collapsible-panel-content", a);
			s.append(o), a.show(), s.data("height", s.outerHeight()), s.css("height", 0).hide(), n(a, t)
		}

		function n(t, n) {
			t.on("click", ".bh-collapsible-panel", function(t) {
				t = t || window.event;
				var i = t.target || t.srcElement;
				if("switch" == e(i).attr("bh-collapsible-panel-flag")) "expand" == e(i).attr("bh-collapsible-panel-role") ? o(e(i), n) : a(e(i), n);
				else if(e(i).hasClass("bh-collapsible-panel")) {
					var r = e(this).find('[bh-collapsible-panel-flag="switch"]');
					"expand" == r.attr("bh-collapsible-panel-role") && o(r, n)
				} else if(0 == e(i).closest(".bh-collapsible-panel-toolbar").length) {
					var s = e(i).closest(".bh-collapsible-panel"),
						r = s.find('[bh-collapsible-panel-flag="switch"]');
					"expand" == r.attr("bh-collapsible-panel-role") && o(r, n)
				}
			})
		}

		function i(e) {
			var t = "bh-collapsible-panel";
			return e.hasBorder && (t += " has-border"), '<div class="' + t + '"><h3 class="bh-collapsible-panel-title">' + e.title + "</h3>" + e.tag + '<div class="bh-text-caption bh-caption-default">' + e.caption + '</div><div class="bh-collapsible-panel-toolbar">' + e.toolbar + '<a href="javascript:void(0);" class="bh-btn-link" bh-collapsible-panel-flag="switch" bh-collapsible-panel-role="expand">展开</a></div><div class="bh-collapsible-panel-content bh-collapsible-panel-animate"></div></div>'
		}

		function a(t, n) {
			n && n.beforeCollapse && n.beforeCollapse(t);
			var i = e(t).closest(".bh-collapsible-panel").find(".bh-collapsible-panel-content");
			i.css({
				height: 0
			});
			var a = i.parent();
			setTimeout(function() {
				i.hide(), a.removeClass("bh-card bh-card-lv2")
			}, 450);
			var o = a.find("[bh-collapsible-panel-flag='switch']");
			o.text("展开"), o.attr("bh-collapsible-panel-role", "expand"), n && n.afterCollapse && setTimeout(function() {
				n.afterCollapse(t)
			}, 450)
		}

		function o(t, n) {
			n && n.beforeExpand && n.beforeExpand(t);
			var i = e(t).closest(".bh-collapsible-panel").find(".bh-collapsible-panel-content");
			i.parent().addClass("bh-card bh-card-lv2");
			var a = i.data("height");
			i.show(), setTimeout(function() {
				i.css({
					height: a
				})
			}, 1), e(t).text("收起"), e(t).attr("bh-collapsible-panel-role", "collapse"), n && n.afterExpand && setTimeout(function() {
				n.afterExpand(t)
			}, 450)
		}
		var r;
		r = function() {
			function n(n, i) {
				this.settings = e.extend({}, e.fn.bhCollapsiblePanel.defaults, i), this.$element = e(n), t(this.settings, this.$element)
			}
			return n.prototype.expandPanel = function() {
				o(this.$element.find('[bh-collapsible-panel-flag="switch"]'), this.settings)
			}, n.prototype.collapsePanel = function() {
				a(this.$element.find('[bh-collapsible-panel-flag="switch"]'), this.settings)
			}, n
		}(), e.fn.bhCollapsiblePanel = function(t, n) {
			var i;
			return(i = this.data("bhCollapsiblePanel")) ? !0 === t ? i : ("string" === e.type(t) && i[t](n), this) : this.each(function() {
				return e(this).data("bhCollapsiblePanel", new r(this, t))
			})
		}, e.fn.bhCollapsiblePanel.defaults = {
			title: "",
			tag: "",
			caption: "",
			toolbar: "",
			hasBorder: !0,
			beforeExpand: null,
			afterExpand: null,
			beforeCollapse: null,
			afterCollapse: null
		}
	}(jQuery),
	function(e) {
		"use strict";
		e.bhCutStr = function(t) {
			function n(e, t, a) {
				var o = a.substring(0, t),
					r = a.substring(t, a.length),
					s = i(o),
					l = "";
				if(s > 0 && s < e) {
					var d = e - s;
					if(d > h.chineseFontSize) {
						l = n(d, parseInt(d / h.chineseFontSize, 10), r)
					}
				}
				return o + l
			}

			function i(e) {
				var t = e.match(/[^\x00-\xff]/g),
					n = t ? t.length : 0,
					i = e.match(/[A-Z@]/g),
					a = i ? i.length : 0,
					o = e.length - n - a;
				return(n + a) * h.chineseFontSize + o * h.lowerEnFontSize
			}

			function a(t, n) {
				switch(n.moreBtn.showType) {
					case "expand":
						t.on("click", function() {
							var t = e(this);
							l(t.attr("data-type"), t)
						});
						break;
					default:
						t.on("mouseover", function() {
							var n = t.attr("data-full-str"),
								i = t.attr("data-guid"),
								a = e("#" + i);
							if(a.length > 0) return void a.addClass("bh-active").data("flag", "show");
							var o = t.parent(),
								r = o.width();
							s(t, r, n, i)
						}), t.on("mouseout", function() {
							var n = t.attr("data-guid");
							r(e("#" + n))
						})
				}
			}

			function o(e) {
				e.on("mouseover", function() {
					e.data("flag", "show")
				}), e.on("mouseout", function() {
					r(e)
				})
			}

			function r(e) {
				e.data("flag", "hide"), setTimeout(function() {
					"hide" === e.data("flag") && (e.removeClass("bh-active"), setTimeout(function() {
						e.remove()
					}, 250))
				}, 150)
			}

			function s(t, n, i, a) {
				var r = BH_UTILS.getElementPosition(t),
					s = window.innerHeight,
					l = parseInt(s / 2, 10),
					d = window.scrollY,
					c = '<div data-flag="content">' + i + "</div>",
					h = '<div id="' + a + '" style="width: ' + n + 'px;" class="bh-cutStr-popBox bh-card bh-card-lv2 bh-animate-transform-fast bh-animate-scale">' + c + "</div>",
					p = e(h);
				e("body").append(p);
				var u = {
						left: r.right - n + "px",
						top: r.bottom + "px"
					},
					f = "bh-animate-origin-TR",
					g = p.outerHeight(),
					v = 0,
					b = 0;
				r.top - d > l ? (b = r.top - d - e('header[bh-header-role="bhHeader"]').outerHeight() - 8, f = "bh-animate-origin-BR", v = b > g ? g : b, u.top = r.top - v + "px") : (b = s + d - r.bottom - e('footer[class="bh-footer"]').outerHeight() - 8, v = b > g ? g : b), u["max-height"] = v + "px", p.css(u).addClass(f), setTimeout(function() {
					p.addClass("bh-active")
				}, 10), o(p)
			}

			function l(t, n) {
				var i = n.parent(),
					t = n.attr("data-type"),
					a = n.prev(),
					o = "",
					r = "",
					s = "";
				"collapse" === t ? (o = n.attr("data-full-str"), r = n.attr("collapse-text"), n.attr("data-type", "expand"), s = i.attr("bh-cut-str-max-height")) : (o = n.attr("data-short-str"), r = n.attr("expand-text"), n.attr("data-type", "collapse"), s = i.attr("bh-cut-str-min-height")), a.html(o), n.html(r), i.css({
					height: s + "px"
				}), setTimeout(function() {
					e(".bh-paper-pile-dialog").length > 0 && (e.bhPaperPileDialog.resetPageFooter(), e.bhPaperPileDialog.resetDialogFooter())
				}, 255)
			}

			function d(e) {
				var t = e.outerHeight(),
					n = e.clone();
				n.css({
					display: "none"
				});
				var i = n.find('[bh-cut-str-role="bhCutStr"]'),
					a = n.find('[bh-cut-str-role="content"]'),
					o = i.attr("data-full-str"),
					r = i.attr("collapse-text");
				a.html(o), i.html(r), e.append(n).addClass("bh-collapse-animate-fast").css({
					overflow: "hidden"
				});
				var s = n.outerHeight();
				e.attr("bh-cut-str-min-height", t).attr("bh-cut-str-max-height", s).css({
					height: t + "px"
				}), n.remove()
			}
			var c = {
					dom: {
						selector: "",
						line: 0,
						content: ""
					},
					text: {
						content: "",
						number: 0
					},
					moreBtn: {
						content: "",
						expandContent: "",
						url: "",
						isOpenNewPage: !0,
						showType: "",
						compact: !1
					}
				},
				h = e.extend({}, c, t);
			return function(t) {
				var o = t.dom ? t.dom.selector : "";
				if(!(o.length > 0)) {
					var r = e.trim(t.text.content),
						s = r;
					r.length > t.text.number && (s = r.substring(0, t.text.number) + "...");
					var l = "javascript:void(0);",
						c = 'target="blank"',
						h = "",
						p = "";
					return t.moreBtn && (l = t.moreBtn.url && 0 !== t.moreBtn.url.length ? t.moreBtn.url : "javascript:void(0);", l = e.trim(l), c = t.moreBtn.isOpenNewPage ? "" : 'target="blank"', p = t.moreBtn.content ? t.moreBtn.content : "", h = l.indexOf("javascript:void(0)") > -1 || l.indexOf("javascript:;") > -1 ? '<span href="' + l + '" class="bh-cut-str-more" bh-cut-str-role="bhCutStr" ' + c + ' data-full-str="' + r + '">' + p + "</span>" : '<a href="' + l + '" class="bh-cut-str-more" bh-cut-str-role="bhCutStr" ' + c + ' data-full-str="' + r + '">' + p + "</a>"), s += h
				}
				o.each(function() {
					var o = BH_UTILS.NewGuid(),
						r = e(this);
					r.append('<div id="' + o + '"><div id="chinese-' + o + '" style="display: none;position: absolute;">是</div><div id="lower-english-' + o + '" style="display: none;position: absolute;">w</div></div>');
					var s = r.find("#" + o);
					t.chineseFontSize = s.find("#chinese-" + o).width(), t.lowerEnFontSize = s.find("#lower-english-" + o).width(), s.remove();
					var l = r.width(),
						c = t.dom.content ? e.trim(t.dom.content) : e.trim(r.text());
					if(!(c.length <= parseInt(l * t.dom.line / t.chineseFontSize, 10))) {
						var h = t.moreBtn.content ? t.moreBtn.content : "",
							p = t.moreBtn.expandContent ? t.moreBtn.expandContent : "",
							u = h ? i(h) : 0,
							f = t.chineseFontSize,
							g = l * t.dom.line - u - f - t.chineseFontSize,
							v = parseInt(g / t.chineseFontSize, 10),
							b = n(g, v, c);
						b += "...";
						var m = "javascript:void(0);",
							y = 'target="_blank"',
							k = "";
						if(t.moreBtn) {
							m = t.moreBtn.url && 0 !== t.moreBtn.url.length ? t.moreBtn.url : "javascript:void(0);", m = e.trim(m), y = t.moreBtn.isOpenNewPage ? "" : 'target="blank"';
							var C = "";
							t.moreBtn.showType && t.moreBtn.compact && (C = "bh-cut-str-compact"), k = m.indexOf("javascript:void(0)") > -1 || m.indexOf("javascript:;") > -1 ? '<span href="' + m + '" class="bh-cut-str-more ' + C + '" bh-cut-str-role="bhCutStr" ' + y + ' data-guid="' + o + '" data-short-str="' + b + '" data-full-str="' + c + '" data-type="collapse" expand-text="' + h + '" collapse-text="' + p + '">' + h + "</span>" : '<a href="' + m + '" class="bh-cut-str-more ' + C + '" bh-cut-str-role="bhCutStr" ' + y + ' data-guid="' + o + '" data-short-str="' + b + '" data-full-str="' + c + '" data-type="collapse" expand-text="' + h + '" collapse-text="' + p + '">' + h + "</a>"
						}
						r.html('<span bh-cut-str-role="content">' + b + "</span>" + k), k && (a(r.find('[bh-cut-str-role="bhCutStr"]'), t), d(r))
					}
				})
			}(h)
		}
	}(jQuery),
	function(e) {
		function t(t, i) {
			this.options = e.extend({}, e.fn.flowState.defaultOptions, i), this.$element = e(t), a(this.options, this.$element), p(this.options, this.$element), n(this.options)
		}

		function n(e) {
			for(var t = e.flowStateData.length, n = 0; n < t; n++) i(e.flowStateData[n], n, t)
		}

		function i(t, n, i) {
			var a = 0,
				o = e(".bh-flowState-box")[n];
			0 === n ? a = 96 : n === i - 1 && (a = -96), e(o).jqxTooltip("destroy"), t.isShowPop && (e(o).jqxTooltip({
				position: "bottom",
				autoHide: !1,
				top: 10,
				left: a,
				showArrow: !1,
				closeOnClick: !1,
				content: t.popHtml
			}), e(".jqx-tooltip-main").css({
				"background-color": "#ffffff",
				"box-shadow": "0 4px 20px #bbb"
			}), e(o).on("mouseout", function() {
				e(o).jqxTooltip("close")
			}))
		}

		function a(e, t) {
			var n = h(e),
				i = o(n),
				a = '<div class="bh-flowState bh-clearfix">' + i + "</div>";
			t.html(a)
		}

		function o(e) {
			if(e) {
				var t = e.length,
					n = "";
				if(0 !== t)
					for(var i = 0; i < t; i++) n += r(e, i + 1, t);
				return n
			}
		}

		function r(e, t, n) {
			var i = e[t - 1],
				a = e[t - 2],
				o = n - 1,
				r = s(i),
				d = l(i),
				c = [];
			return 1 === t ? c.push("bh-flowState-hideLeft") : t === n && c.push("bh-flowState-hideRight"), a && "success" === a.status && c.push("bh-flowState-prev-success"), '<div class="bh-flowState-box ' + c.join(" ") + '"><div class="bh-flowState-num-circle ' + r + '">' + t + '</div><div class="bh-flowState-word"><div class="bh-flowState-detail">' + i.content + '</div><a class="bh-flowState-status ' + r + '">' + i.statusDescription + '</a></div></div><div class="bh-flowState-line ' + d + ' " style="width:calc((100% - 96*' + n + "px) / " + o + ')"></div>'
		}

		function s(e) {
			return {
				success: "bh-flowState-success",
				fail: "bh-flowState-fail",
				operation: "bh-flowState-operation"
			}[e.status || e.resetStatus]
		}

		function l(e) {
			return {
				success: "bh-flowState-line-succes"
			}[e.status || e.resetStatus]
		}

		function d(e) {
			var t = "";
			return e.hasClass("bh-flowState-success") ? t = "bh-flowState-success" : e.hasClass("bh-flowState-fail") ? t = "bh-flowState-fail" : e.hasClass("bh-flowState-operation") && (t = "bh-flowState-operation"), t
		}

		function c(e) {
			var t = "";
			return e.hasClass("bh-flowState-line-succes") && (t = "bh-flowState-line-succes"), t
		}

		function h(e) {
			return e.flowStateData
		}

		function p(e, t) {
			t.css("width", e.width), t.find(".bh-flowState-line:last").css("width", "0")
		}

		function u(t, n) {
			var a = t.index - 1,
				o = n.$element.find(".bh-flowState-box"),
				r = n.$element.find(".bh-flowState-num-circle"),
				h = n.$element.find(".bh-flowState-status"),
				p = n.$element.find(".bh-flowState-line"),
				u = s(t),
				f = l(t),
				g = d(e(r[a])),
				v = c(e(p[a]));
			e(h[a]).text(t.resetStatusDecription), "success" === t.resetStatus ? e(o[a + 1]).addClass("bh-flowState-prev-success") : e(o[a + 1]).removeClass("bh-flowState-prev-success"), e(r[a]).removeClass(g), e(h[a]).removeClass(g), e(p[a]).removeClass(v), e(r[a]).addClass(u), e(h[a]).addClass(u), e(p[a]).addClass(f), i(t, a, r.length)
		}

		function f(n, i) {
			var a;
			return(a = this.data("flowState")) ? !0 === n ? a : ("string" === e.type(n) && a[n](i), this) : this.each(function() {
				return e(this).data("flowState", new t(this, n))
			})
		}
		e.fn.flowState = f, e.fn.flowState.defaultOptions = {
			width: "100%",
			flowStateData: [{
				id: "1",
				content: "个人提交",
				status: "success",
				statusDescription: "提交成功",
				popHtml: "",
				isShowPop: !1
			}]
		}, t.prototype = {
			resetFlowStatus: function(t) {
				t = e.extend({}, {
					index: NaN,
					resetStatus: "success",
					resetStatusDecription: "成功",
					isShowPop: !1,
					popHtml: ""
				}, t), u(t, this)
			}
		}
	}(jQuery),
	function(e) {
		function t(e, t) {
			var i = n(e);
			t.html(i).attr("bh-footer-role", "footer").addClass("bh-footer")
		}

		function n(e) {
			return '<div class="bh-footer-content">' + e.text + "</div>"
		}
		var i;
		i = function() {
			function n(n, i) {
				this.settings = e.extend({}, e.fn.bhHeader.defaults, i), this.$element = e(n), t(this.settings, this.$element)
			}
			return n
		}(), e.fn.bhFooter = function(e) {
			return this.each(function() {
				return new i(this, e)
			})
		}, e.fn.bhFooter.defaults = {
			text: ""
		}
	}(jQuery),
	function(e) {
		function t() {
			setTimeout(function() {
				var t = e("[bh-footer-affix-role=bhFooterAffix]");
				if(t.length > 0) {
					var n = t.parent(),
						a = s(n);
					a.articleHeight + a.articleOffset.top <= a.windowHeight ? i(n) : o(n)
				}
			}, 50)
		}

		function n(e) {
			o(e), i(e)
		}

		function i(e) {
			var t = s(e),
				n = e.find("div[bh-footer-affix-role=bhFooterAffix]"),
				i = o(e, "get");
			n.attr("bh-footer-affix-fixed", i), t.articleHeight + t.articleOffset.top <= t.windowHeight && a(n)
		}

		function a(t) {
			if(0 !== t.contents().length) {
				var n = t.parent(),
					i = "",
					a = 0;
				n.children().each(function() {
					var t = e(this);
					if("nav" === t[0].localName && (i = "navLeft"), "navLeft" === i) {
						var n = 0;
						t.children().each(function() {
							n += e(this).outerHeight()
						}), n > a && (a = n)
					} else {
						var o = t.outerHeight();
						"bhFooterAffix" == t.attr("bh-footer-affix-role") && (o = 0), a += o
					}
				});
				var o = parseInt(n.css("padding-bottom"), 10);
				o = o || 0;
				var r = parseInt(n.css("min-height"), 10);
				r = r || 0, a + o < r ? (t.removeAttr("style"), t.css({
					top: a + "px",
					bottom: "initial",
					"background-color": "transparent"
				}).removeClass("bh-card bh-card-lv1")) : t.css({
					left: 0,
					bottom: 0,
					position: "absolute"
				}), t.show()
			}
		}

		function o(e, t) {
			var n = "",
				i = e.find("div[bh-footer-affix-role=bhFooterAffix]");
			if(i[0]) {
				var a = e.outerWidth(),
					o = s(e),
					r = o.articleHeight + o.footerHeight + o.bodyHeaderHeight;
				l(i, o.divFooterHeight), n = "left:" + o.articleOffset.left + "px;width:" + a + "px;position:fixed;bottom:0;top:initial;display:block;z-index:1000;", "get" !== t && (r <= o.windowHeight ? i.css({
					left: o.articleOffset.left + "px",
					bottom: 0,
					position: "absolute",
					"background-color": "transparent"
				}).removeClass("bh-card bh-card-lv1") : i.css({
					left: o.articleOffset.left + "px",
					width: a + "px",
					position: "fixed",
					bottom: 0,
					top: "inherit",
					display: "block",
					"z-index": 1e3,
					"background-color": "#fff"
				}))
			}
			return n
		}

		function r(e) {
			var t = s(e),
				n = e.find("div[bh-footer-affix-role=bhFooterAffix]");
			if(t.windowHeight + t.scrollTop >= t.bodyHeight - 32) a(n);
			else {
				var i = n.attr("bh-footer-affix-fixed");
				t.articleHeight + t.footerHeight + t.bodyHeaderHeight <= t.windowHeight ? n.css({
					left: 0,
					bottom: 0,
					position: "absolute",
					"background-color": "transparent"
				}).removeClass("bh-card bh-card-lv1") : n.attr("style", i)
			}
		}

		function s(t) {
			var n = {},
				i = e(window),
				a = e("body"),
				o = i.scrollTop(),
				r = i.height(),
				s = 0;
			window.navigator.userAgent;
			s = window.ActiveXObject || "ActiveXObject" in window ? document.documentElement.scrollHeight : a.get(0).scrollHeight;
			var l = e("[bh-footer-role=footer]").outerHeight(),
				d = e("body header header").outerHeight();
			if(t) {
				var c = t.outerHeight(),
					h = t.offset(),
					p = 0,
					u = t.find("div[bh-footer-affix-role=bhFooterAffix]");
				u.length > 0 && (p = u.outerHeight(!0)), n.articleHeight = c, n.articleOffset = h, n.divFooterHeight = p
			}
			return n.windowHeight = r, n.scrollTop = o, n.bodyHeight = s, n.footerHeight = l, n.bodyHeaderHeight = d, n
		}

		function l(e, t) {
			e.parent().css({
				"padding-bottom": t
			})
		}
		e.bhFooterAffix = function() {
			var t = e("body main [bh-role=bhFooterAffix]").first();
			if(t[0]) {
				var i = t.parent();
				if("bhFooterAffix" === i.attr("bh-footer-affix-role")) return;
				t.wrap('<div bh-footer-affix-role="bhFooterAffix" class="bh-footer-affix bh-card bh-card-lv1"></div>');
				var a = e("[bh-paper-pile-dialog-role=bhPaperPileDialog]")[0],
					o = e("[bh-property-dialog-role=bhPropertyDialog]")[0],
					s = e("[role=dialog]").filter(function() {
						return e(this).hasClass(".jqx-window") && "none" !== e(this).css("display")
					})[0];
				e(window).scroll(function(e) {
					a || o || s || r(i)
				}), n(i)
			}
		}, e.bhFooterAffix.resetPosition = function() {
			t()
		}
	}(jQuery),
	function(e) {
		function t(t) {
			var i = t.insertContainer ? t.insertContainer.attr("bh-form-outline-role-form-guid") : "";
			if(i) return void e("div[bh-form-outline-role-outline-guid=" + i + "]").removeClass("bh-fadeOut").addClass("bh-fadeIn").show();
			i = u();
			var a = s(),
				o = l(),
				r = [];
			t.outlineContainer || (t.outlineContainer = t.insertContainer), t.outlineContainer.find("[bh-role-form-outline=title]").each(function() {
				var t = u(),
					n = e(this);
				if(!p(n)) {
					var i = n.text();
					n.attr("bh-role-form-outline-item-title-guid", t), r.push({
						title: i,
						guid: t
					})
				}
			});
			var f = 0;
			t.outlineContainer.find("[bh-role-form-outline=container]").each(function(t) {
				var n = e(this);
				if(!p(n)) {
					var i = r[f].guid;
					n.attr("bh-role-form-outline-item-guid", i);
					var a = {};
					a.editBoxCount = 0, a.enterEditBoxCount = 0, a = h(n, "input", a), a = h(n, "textarea", a), a = h(n, "select", a), a = h(n, "tree", a), r[f].statistics = a, f++
				}
			});
			var g = "",
				v = r.length;
			if(v > 0)
				for(var b = 0; b < v; b++) {
					var m = r[b],
						y = "";
					0 === b && (y = "bh-active");
					var k = m.statistics,
						C = "",
						w = "";
					k && k.editBoxCount && t.statistics && (C = k.enterEditBoxCount + "/" + k.editBoxCount, w = k.enterEditBoxCount === k.editBoxCount ? "bh-success" : ""), g += o.replace("@active", y).replace("@index", b + 1).replace("@text", m.title).replace("@success", w).replace("@count", C).replace("@guid", m.guid)
				}
			var x = "";
			if(t.offset) {
				var T = t.offset;
				(0 === T.left || T.left) && (x += "left:" + T.left + "px;"), (0 === T.right || T.right) && (x += "right:" + T.right + "px;"), (0 === T.top || T.top) && (x += "top:" + T.top + "px;"), (0 === T.bottom || T.bottom) && (x += "bottom:" + T.bottom + "px;")
			}
			a = a.replace("@content", g).replace("@style", x).replace("@outlineGuid", i).replace("@customClass", t.customClass);
			var D = "bhFormOutline_hide_" + u(),
				N = e(a);
			N.append('<div id="' + D + '" style="display: none;" class="bh-form-outline-itemText"></div>'), t.width && N.css({
				width: t.width
			}), t.className && N.addClass(t.className), t.insertContainer.append(N).attr("bh-form-outline-role-form-guid", i);
			var I = e("#" + D);
			N.find(".bh-form-outline-itemText").each(function() {
				var t = e(this),
					n = t.width(),
					i = t.text();
				I.html(i), I.width() > n && t.attr("title", i)
			}), t.statistics && (t.outlineContainer.on({
				keydown: function(e) {
					setTimeout(function() {
						d(e)
					}, 50)
				},
				click: function(e) {
					d(e)
				}
			}), t.outlineContainer.find(".jqx-dropdownlist-state-normal").each(function() {
				var t = e(this);
				t.on("select", function(e) {
					c(t.closest("[bh-role-form-outline=container]"))
				})
			}), t.outlineContainer.find(".jqx-datetimeinput").each(function() {
				var t = e(this);
				t.on("valueChanged", function(e) {
					c(t.closest("[bh-role-form-outline=container]"))
				})
			}), t.outlineContainer.find(".jqx-combobox").each(function() {
				var t = e(this);
				t.on("change", function(e) {
					setTimeout(function() {
						c(t.closest("[bh-role-form-outline=container]"))
					}, 50)
				})
			}), t.outlineContainer.find("[xtype=uploadfile],[xtype='uploadsingleimage'],[xtype='uploadmuiltimage']").each(function() {
				var t = e(this);
				t.on("bh.file.upload.done", function(e) {
					setTimeout(function() {
						c(t.closest("[bh-role-form-outline=container]"))
					}, 50)
				}), t.on("bh.file.upload.delete", function(e) {
					setTimeout(function() {
						c(t.closest("[bh-role-form-outline=container]"))
					}, 50)
				})
			}), t.outlineContainer.on("_formChange", function(t) {
				var n = e(t.target),
					i = n.attr("xtype");
				"tree" !== i && "date-local" !== i || setTimeout(function() {
					c(n.closest("[bh-role-form-outline=container]"))
				}, 50)
			})), N.on("click", "div.bh-form-outline-item", function() {
				var n = e(this),
					i = n.closest("div[bh-role-form-outline-fixed=bhFormOutline]"),
					a = n.attr("bh-role-form-outline-fixed-item-guid"),
					o = t.outlineContainer.find("[bh-role-form-outline-item-title-guid=" + a + "]"),
					r = o.offset().top;
				t.scrollOffsetTop && (r -= parseInt(t.scrollOffsetTop, 10)), e("html, html body").animate({
					scrollTop: r
				}, 450), i.find("div.bh-form-outline-item").removeClass("bh-active"), n.addClass("bh-active")
			}), t.affix && (e(window).bind("scroll", function() {
				n(t)
			}), setTimeout(function() {
				e(window).trigger("scroll")
			}, 30))
		}

		function n(t) {
			"none" == e(t.insertContainer[0]).css("display") && e(window).unbind("scroll", n), o(t), a(t), i(t)
		}

		function i(e) {
			var t = window.innerHeight,
				n = e.insertContainer.find('[bh-role-form-outline-fixed="bhFormOutline"]'),
				i = n.outerHeight(),
				a = n.offset(),
				o = a.top;
			if(!n.attr("bh-outerline-is-longer")) {
				if(t - o > i) return void n.attr("bh-outerline-is-longer", "true");
				var r = n.find(".bh-active"),
					s = r.offset().top,
					l = s - o;
				if(l > t / 2) {
					var d = -l + parseInt(t / 2, 10);
					n.css({
						top: d + "px"
					})
				}
			}
		}

		function a(t) {
			var n = e(window),
				i = n.scrollTop(),
				a = t.insertContainer.offset(),
				o = t.insertContainer.find('[bh-role-form-outline-fixed="bhFormOutline"]');
			if(0 !== o.length) {
				var r = a.top,
					s = (a.left, t.header ? t.header.outerHeight() : 0),
					l = o.offset(),
					d = l.top,
					c = l.left,
					h = d - r,
					p = t.offset.top ? parseInt(t.offset.top, 10) : 0;
				if(h += p, i >= r - p - s) {
					var u = o.data("bhAffixStyleData");
					if(!u) {
						t.offset.left && (c += parseInt(t.offset.left, 10));
						var f = h;
						t.miniHeader ? f += t.miniHeader.outerHeight() : f += s, u = {
							left: c + "px",
							position: "fixed",
							top: f
						};
						var g = o.attr("style");
						o.data("beforeBhAffixStyle", g).data("bhAffixStyleData", u)
					}
					o.css(u).data("bhOuterAffixFlag", !0).addClass("bh-affix-fixedFlag")
				} else {
					var g = o.data("beforeBhAffixStyle"),
						v = o.data("bhOuterAffixFlag");
					g || (g = ""), v && (o.attr("style", g), o.data("bhOuterAffixFlag", !1).removeClass("bh-affix-fixedFlag"))
				}
			}
		}

		function o(t) {
			var n = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop,
				i = "";
			t.insertContainer.find("[bh-role-form-outline-item-title-guid]").each(function(t) {
				var a = e(this),
					o = a.offset().top,
					r = a.attr("bh-role-form-outline-item-title-guid");
				if(0 === t && (i = r), o > n + 100) return !1;
				i = r
			});
			var a = t.insertContainer.find('[bh-role-form-outline-fixed="bhFormOutline"]');
			a.find("[bh-role-form-outline-fixed-item-guid]").removeClass("bh-active"), a.find('[bh-role-form-outline-fixed-item-guid="' + i + '"]').addClass("bh-active")
		}

		function r(t) {
			var n = "",
				i = "";
			if(t.insertContainer ? (i = t.insertContainer.attr("bh-form-outline-role-form-guid"), n = t.insertContainer.find("div[bh-form-outline-role-outline-guid=" + i + "]")) : (n = e("[bh-role-form-outline-fixed=bhFormOutline]"), i = n.attr("bh-form-outline-role-outline-guid")), n.removeClass("bh-fadeIn").addClass("bh-fadeOut"), t.destroy) {
				(t.insertContainer ? t.insertContainer : e("[bh-form-outline-role-form-guid=" + i + "]")).removeAttr("bh-form-outline-role-form-guid"), n.remove()
			}
		}

		function s() {
			return '<div class="bh-form-outline bh-animated-doubleTime bh-fadeIn @customClass" bh-role-form-outline-fixed="bhFormOutline" bh-form-outline-role-outline-guid="@outlineGuid" style="@style">@content</div>'
		}

		function l() {
			return '<div class="bh-form-outline-item @active" bh-role-form-outline-fixed-item-guid="@guid"><div class="bh-form-outline-itemIndex">@index</div><div class="bh-form-outline-itemText bh-str-cut">@text</div><div class="bh-form-outline-itemCount @success">@count</div></div>'
		}

		function d(t) {
			var n = e(t.target || t.srcElement),
				i = n[0].localName,
				a = n.closest("[bh-role-form-outline=container]");
			"click" === t.type ? "input" === i && ("radio" !== n.attr("type") && "checkbox" !== n.attr("type") || c(a)) : "input" !== i && "textarea" !== i && "select" !== i || c(a)
		}

		function c(t) {
			var n = {};
			n.editBoxCount = 0, n.enterEditBoxCount = 0, n = h(t, "input", n), n = h(t, "textarea", n), n = h(t, "select", n), n = h(t, "tree", n);
			var i = e("div[bh-role-form-outline-fixed=bhFormOutline]").find("div[bh-role-form-outline-fixed-item-guid=" + t.attr("bh-role-form-outline-item-guid") + "]").find(".bh-form-outline-itemCount"),
				a = e.trim(i.text()),
				o = n.enterEditBoxCount + "/" + n.editBoxCount;
			a != o && (n.enterEditBoxCount === n.editBoxCount ? i.addClass("bh-success") : i.removeClass("bh-success"), i.html(o)), t.data("formOutlineKeyUpCount", 0)
		}

		function h(t, n, i) {
			if("input" === n) {
				var a = {},
					o = [];
				t.find(n).each(function() {
					var t = e(this);
					if(!p(t)) {
						var n = this.type;
						if("radio" === n || "checkbox" === n) {
							var i = this.name;
							a[i] = i
						} else if("hidden" !== n) o.push(t);
						else {
							if("select" === t.parent().attr("xtype")) return;
							t.closest(".jqx-dropdownlist-state-normal").length > 0 && o.push(t)
						}
					}
				});
				var r = o.length;
				if(r > 0)
					for(var s = 0; s < r; s++) {
						i.editBoxCount++;
						var l = o[s];
						if(0 != e.trim(l.val()).length) i.enterEditBoxCount++;
						else if("file" === l.attr("type") && l.closest(".bh-file-img-container").length > 0)(l.closest(".bh-file-img-container").hasClass("saved") || l.closest(".bh-file-img-container").hasClass("success")) && i.enterEditBoxCount++;
						else {
							var d = l.closest("[xtype=uploadfile]");
							d.length > 0 && d.find("a.bh-file-upload-name-a").length > 0 && i.enterEditBoxCount++
						}
					}
				for(var c in a) {
					i.editBoxCount++;
					t.find("input[name='" + c + "']:checked").val() && i.enterEditBoxCount++
				}
			} else "select" == n ? t.find("[xtype=select]").each(function() {
				var t = e(this);
				if(!p(t)) {
					i.editBoxCount++;
					var n = t.jqxDropDownList("getSelectedItem");
					n && "" != n.value && i.enterEditBoxCount++
				}
			}) : "tree" == n ? t.find("[xtype=tree]").each(function() {
				var t = e(this);
				if(!p(t)) {
					i.editBoxCount++;
					var n = WIS_EMAP_INPUT.getValue(t, {});
					n && "" != n && i.enterEditBoxCount++
				}
			}) : t.find(n).each(function() {
				var t = e(this);
				p(t) || (i.editBoxCount++, 0 != e.trim(t.val()).length && i.enterEditBoxCount++)
			});
			return i
		}

		function p(e) {
			var t = !1,
				n = e.closest(".bh-row");
			if(n.length > 0 && "none" === n.css("display") && (t = !0), !t) {
				var i = e.closest('[bh-form-role="groupContainer"]');
				i.length > 0 && "none" === i.css("display") && (t = !0)
			}
			return t
		}

		function u() {
			return f() + f() + "-" + f() + "-" + f() + "-" + f() + "-" + f() + f() + f()
		}

		function f() {
			return(65536 * (1 + Math.random()) | 0).toString(16).substring(1)
		}
		e.bhFormOutline = {
			show: function(n) {
				var i = {
					insertContainer: "",
					outlineContainer: "",
					width: 0,
					className: "",
					offset: {},
					scrollOffsetTop: e('header[bh-header-role="bhHeader"]').outerHeight(),
					statistics: !0,
					affix: !0,
					bottom: null,
					customClass: ""
				};
				n = e.extend({}, i, n), t(n)
			},
			hide: function(t) {
				var n = {
					insertContainer: "",
					destroy: !0
				};
				t = e.extend({}, n, t), r(t)
			}
		}
	}(jQuery),
	function(e) {
		var t, n = function(t) {
			var n = {
				width: 900,
				height: document.documentElement.clientHeight
			};
			this.options = e.extend(!0, {}, n, t)
		};
		e.extend(n.prototype, {
			show: function() {
				var n = this,
					i = e('<div class="bh-gallery"><div class="bh-gallery__backdrop"></div><div class="bh-gallery__main"><div class="bh-gallery__gallery"></div></div><div class="bh-gallery__close iconfont icon-close"></div></div>');
				e("body").append(i);
				var a = e(".bh-gallery__gallery", i).css({
					width: n.options.width,
					height: n.options.height
				});
				t.run(a, this.options), this.resizeGallery(a), setTimeout(function() {
					e("body").getNiceScroll().hide()
				}, 1e3), e(".bh-gallery__close", i).click(function() {
					i.remove(), e("body").getNiceScroll().show()
				})
			},
			resizeGallery: function(t) {
				var n = e(window).width(),
					i = e(window).height(),
					a = this.options.width,
					o = this.options.height;
				a < n && t.css({
					marginLeft: (n - a) / 2
				}), o < i && t.css({
					marginTop: (i - o) / 2
				})
			}
		}), e.bhGallery = function(i) {
			t = window.Galleria, void 0 === t ? e.getScript("http://res.wisedu.com/bower_components/galleria/src/galleria.js").done(function() {
				t = window.Galleria, e.getScript("http://res.wisedu.com/fe_components/galleria/standard/galleria.wisedu.js").done(function() {
					if(void 0 === t) return void console.error("please include Galleria lib");
					"page" === i.showType ? t.run(i.selector, i) : new n(i).show()
				})
			}) : "page" === i.showType ? t.run(i.selector, i) : new n(i).show()
		}
	}(jQuery),
	function(e) {
		function t(t, i) {
			var a = BH_UTILS.NewGuid(),
				o = n(t);
			i.html(o).attr("bh-header-guid", a), $(t), v(i, t), M(i, t), e("html").on("click", function(t) {
				var n = e(t.target || t.srcElement);
				n.closest('div[bh-header-role="roleBox"]').length > 0 || n.closest('div[bh-header-role="roleSwitch"]').length > 0 || e("[bh-header-role=roleBox]").removeClass("bh-active"), n.closest('div[bh-header-role="bhHeaderBarInfoBox"]').length > 0 || n.closest('img[bh-header-role="bhHeaderUserInfoIcon"]').length > 0 || e("[bh-header-role=bhHeaderBarInfoBox]").removeClass("bh-active")
			})
		}

		function n(e) {
			var t = i(e),
				n = '<header class="bh-header sc-animated" bh-header-role="bhHeader">' + t + "</header>";
			return n += '<header class="bh-header-mini sc-animated" bh-header-role="bhHeaderMini">' + t + "</header>", n += '<header class="bh-header-bg sc-animated"></header>', e.openTheme && (n += u()), n
		}

		function i(e) {
			return '<div class="bh-headerBar"><div class="bh-headerBar-content bh-clearfix">@asideNavIcon@logo@title<div class="bh-headerBar-menu">@userImage@dropMenu@themeIcon@icons@navigate</div></div></div>'.replace("@logo", r(e)).replace("@title", s(e)).replace("@navigate", l(e)).replace("@icons", c(e)).replace("@userImage", p(e)).replace("@dropMenu", g(e)).replace("@asideNavIcon", a(e)).replace("@themeIcon", o(e))
		}

		function a(e) {
			return '<div style="' + (e.showAsideNav ? "display: block;" : "display: none;") + '" class="bh-headerBar-asideMenu" bh-header-role="bhAsideNavIcon"><i class="iconfont icon-menu"></i></div>'
		}

		function o(e) {
			var t = "";
			return e.openTheme && (t = '<div class="bh-headerBar-iconBlock" bh-theme-role="themeIcon"><i class="iconfont icon-pifu"></i></div>'), t
		}

		function r(e) {
			var t = "";
			return e.logo && (t = '<div class="bh-headerBar-logo"><img src="' + e.logo + '" /></div>'), t
		}

		function s(e) {
			var t = "";
			return e.title && (t = '<div class="bh-headerBar-title">' + e.title + "</div>"), t
		}

		function l(e) {
			var t = "",
				n = e.nav;
			if(n) {
				t = '<div class="bh-headerBar-nav-more"><i class="iconfont icon-keyboardcontrol"></i></div><div class="bh-headerBar-navigate @isHideClass">@content<div class="bh-headerBar-nav-bar bh-single-animate"></div><div class="bh-headerBar-navBar-cover"></div></div>';
				for(var i = "", a = n.length, o = a - 1; o >= 0; o--) {
					var r = BH_UTILS.NewGuid(),
						s = n[o];
					s.guid = r, 1 === a && "boolean" != typeof s.hide && (s.hide = !0), i += d(s)
				}
				var l = e.isNavHide ? "bh-nav-hide" : "";
				t = t.replace("@content", i).replace("@isHideClass", l)
			}
			return t
		}

		function d(t) {
			var n = '<a class="@itemClass" href="@href" @target bh-header-role="@guid"><div class="bh-headerBar-nav-item @active" @attribute>@title</div><b class="bh-headerBar-nav-item-tip"></b></a>',
				i = "",
				a = "",
				o = "javascript:void(0);",
				r = "",
				s = "nav-" + t.guid;
			t.active && (i = "bh-active"), t.className && (i += " " + t.className);
			var l = t.attribute;
			if(l) {
				var d = l.length;
				if(d > 0)
					for(var c = 0; c < d; c++) {
						var h = l[c].key,
							p = l[c].value;
						h && p && (a += h + '="' + p + '" ')
					}
			}
			t.href && (o = t.href, "boolean" == typeof t.isOpenNewPage ? r = t.isOpenNewPage ? 'target="_blank"' : "" : "string" == typeof t.isOpenNewPage && (r = "true" === e.trim(t.isOpenNewPage) ? 'target="_blank"' : ""));
			var u = "";
			t.hide && (u = "bh-hide");
			var f = t.title ? t.title : "";
			return n.replace("@active", i).replace("@title", f).replace("@href", o).replace("@attribute", a).replace("@itemClass", u).replace("@target", r).replace("@guid", s)
		}

		function c(e) {
			var t = "",
				n = e.icons;
			if((e.feedback || e.appDetail) && (n && n.unshift({
					className: "icon-erroroutline",
					attrs: {
						"bh-header-role": "ampSwitch"
					}
				}), h(e)), n)
				for(var i = 0, a = n.length; i < a; i++) {
					var o = n[i],
						r = o.className;
					if(r) {
						var s = o.attrs,
							l = "",
							d = o.href ? o.href : "javascript:void(0);";
						if(s)
							for(var c in s) {
								var p = s[c];
								l += c + "=" + p + " "
							}
						t += '<div class="bh-headerBar-iconBlock" ' + l + '><a href="' + d + '"><i class="iconfont ' + r + '"></i></a></div>'
					}
				}
			return t
		}

		function h(t) {
			var n = "";
			t.feedback && (n += '<div class="bh-headerBar-roleBox-title" bh-header-role="feedbackBox"><a href="javascript:void(0);"><i class="iconfont icon-assignmentlate"></i>问题反馈</a></div>'), t.appDetail && (n += '<div class="bh-headerBar-roleBox-title" bh-header-role="appDetailBox"><a href="javascript:void(0);"><i class="iconfont icon-helpoutline"></i>应用说明</a></div>');
			var i = '<div class="bh-headerBar-roleBox bh-card bh-card-lv3 bh-headerBar-popupBox-animate" bh-header-role="ampBox">' + n + "</div>";
			e("body").append(i)
		}

		function p(e) {
			var t = "",
				n = e.userImage;
			return n && (t = '<div class="bh-headerBar-imgBlock"><img src="' + n + '" bh-header-role="bhHeaderUserInfoIcon" /></div>'), t
		}

		function u() {
			return '<div class="bh-header-themelist jqx-dropdownbutton-popup"><ul><li class="selected" title="blue"><span class="bh-header-colorCard-text">蓝色皮肤</span><span class="bh-header-colorCard-blueTheme"></span><span class="bh-header-colorCard-bluePrimary"></span><span class="bh-header-colorCard-blueSuccess"></span><span class="bh-header-colorCard-blueWarning"></span><span class="bh-header-colorCard-blueDanger"></span></li><li title="purple"><span class="bh-header-colorCard-text">紫色皮肤</span><span class="bh-header-colorCard-purpleTheme"></span><span class="bh-header-colorCard-purplePrimary"></span><span class="bh-header-colorCard-purpleSuccess"></span><span class="bh-header-colorCard-purpleWarning"></span><span class="bh-header-colorCard-purpleDanger"></span></li><li title="lightBlue"><span class="bh-header-colorCard-text">淡蓝色皮肤</span><span class="bh-header-colorCard-lightBlueTheme"></span><span class="bh-header-colorCard-lightBluePrimary"></span><span class="bh-header-colorCard-lightBlueSuccess"></span><span class="bh-header-colorCard-lightBlueWarning"></span><span class="bh-header-colorCard-lightBlueDanger"></span></li><li title="green"><span class="bh-header-colorCard-text">绿色皮肤</span><span class="bh-header-colorCard-greenTheme"></span><span class="bh-header-colorCard-greenPrimary"></span><span class="bh-header-colorCard-greenSuccess"></span><span class="bh-header-colorCard-greenWarning"></span><span class="bh-header-colorCard-greenDanger"></span></li></ul></div>'
		}

		function f(e) {
			var t = "",
				n = "",
				i = "";
			if(e) {
				var a = e.length;
				if(a > 0) {
					for(var o = 0; o < a; o++) {
						var r = e[o],
							s = r.text ? r.text : "",
							l = r.href,
							d = r.id ? r.id : "";
						l || (l = "javascript:void(0);"), r.active && (i = r), n += '<div class="bh-headerBar-roleBox-title"><a id="' + d + '" href="' + l + '">' + s + "</a></div>"
					}
					t = '<div class="bh-headerBar-roleBox bh-card bh-card-lv3 bh-headerBar-popupBox-animate" bh-header-role="roleBox"><div class="bh-headerBar-roleBox-explain bh-headerBar-roleBox-title">选择角色</div>' + n + "</div>"
				}
			}
			return {
				html: t,
				active: i
			}
		}

		function g(t) {
			var n = "",
				i = t.dropMenu;
			if(i && i.length > 0) {
				var a = f(i);
				e("body").append(a.html), n = '<div class="bh-headerBar-roleSwitch" bh-header-role="roleSwitch">' + a.active.text + "</div>"
			}
			return n
		}

		function v(e, t) {
			b(e), y(e), t.openTheme && P(e), N(e, t), I(e, t), S(e), k(e)
		}

		function b(t) {
			e(window).on("scroll.bh", function(n) {
				var i = e(window),
					a = i.scrollTop(),
					o = t.find("header.bh-header-bg"),
					r = t.find("header.bh-header-mini"),
					s = t.find("header.bh-header");
				a < 44 ? (o.addClass("bh-headerBg-show").removeClass("bh-headerBg-hide"), s.addClass("bh-normalHeader-show").removeClass("bh-normalHeader-hide"), r.addClass("bh-miniHeader-hide").removeClass("bh-miniHeader-show")) : 44 == a ? (s.addClass("bh-normalHeader-show").removeClass("bh-normalHeader-hide"), r.addClass("bh-miniHeader-hide").removeClass("bh-miniHeader-show")) : (o.addClass("bh-headerBg-hide").removeClass("bh-headerBg-show"), s.addClass("bh-normalHeader-hide").removeClass("bh-normalHeader-show"), r.addClass("bh-miniHeader-show").removeClass("bh-miniHeader-hide"))
			})
		}

		function m(e) {
			var t = e.find(".bh-headerBar-navigate"),
				n = t.find(".bh-active");
			if(n.length > 0) {
				var i = n.closest("a").index();
				e.find(".bh-headerBar-navigate").data("nav-init-active-index", i), D(n, t)
			}
		}

		function y(t) {
			var n = t.find(".bh-headerBar-navigate");
			n.find(".bh-headerBar-nav-item").length > 0 && (n.on("mouseenter", ".bh-headerBar-nav-item", function() {
				n.hasClass("bh-unActive") && n.data("activeType", "bh-unActive").removeClass("bh-unActive");
				var t = e(this),
					i = n.data("nav-init-active-index");
				if(!i && 0 !== i) {
					var a = n.find(".bh-active").closest("a").index();
					n.data("nav-init-active-index", a)
				}
				D(t, n)
			}), n.on("click", ".bh-headerBar-nav-item", function() {
				n.removeData("activeType");
				var i = e(this);
				if(!i.hasClass("bh-active")) {
					var a = e("body");
					a.hasClass("sc-overflow-hide") && a.removeClass("sc-overflow-hide"), e("#bhPopover").length > 0 && e.bhPopOver.close();
					var o = i.closest("a"),
						r = o.index();
					n.find(".bh-active").removeClass("bh-active"), i.addClass("bh-active"), n.data("nav-init-active-index", r).removeClass("bh-unActive");
					var s = t.find("div.bh-headerBar-nav-more"),
						l = t.attr("bh-header-guid");
					if(s.hasClass("bh-active")) {
						s.removeClass("bh-active");
						var d = e('div[bh-header-more-guid="' + l + '"]');
						d.children(".bh-active").removeClass("bh-active"), d.children("div.bh-header-navMoreBox-bar").css({
							top: "-43px"
						})
					}
				}
			}), n.on("mouseleave", function() {
				n.data("activeType") && n.removeData("activeType").addClass("bh-unActive");
				var e = n.data("nav-init-active-index");
				D(n.find(".bh-headerBar-nav-item").closest("a").eq(e).find(".bh-headerBar-nav-item"), n)
			}))
		}

		function k(t) {
			t.on("click", "[bh-header-role=bhAsideNavIcon]", function() {
				e.bhAsideNav.show()
			})
		}

		function C(t, n) {
			t.on("mouseover", "div.bh-headerBar-nav-more", function() {
				var t = e(this),
					n = t.closest("[bh-header-guid]").attr("bh-header-guid"),
					i = BH_UTILS.getElementPosition(t),
					a = e('div[bh-header-more-guid="' + n + '"]'),
					o = a.outerWidth(),
					r = 0;
				t.closest('header[bh-header-role="bhHeaderMini"]').length > 0 ? (a.addClass("bh-header-navMoreBox-mini"), r = a.data("miniHeight")) : (a.removeClass("bh-header-navMoreBox-mini"), r = a.data("height")), a.css({
					top: i.bottom + "px",
					left: parseInt(i.right - o, 10) + "px",
					height: r + "px"
				}).data("active", !0)
			}), t.on("mouseout", "div.bh-headerBar-nav-more", function() {
				x(t)
			}), n.on("mouseover", function(n) {
				var i = e(this);
				i.data("active", !0), T(e(n.target || n.srcElement), i, t)
			}), n.on("mouseout", function() {
				x(t)
			}), n.on("click", function(n) {
				var i = e(this);
				w(e(n.target || n.srcElement).closest("a"), i, t)
			})
		}

		function w(e, t, n) {
			e.length > 0 && (t.children("a").removeClass("bh-active"), e.addClass("bh-active"), t.css({
				height: 0
			}), n.find("div.bh-headerBar-nav-more").addClass("bh-active"), n.find("div.bh-headerBar-navigate").find("div.bh-active").removeClass("bh-active"))
		}

		function x(t) {
			var n = t.attr("bh-header-guid"),
				i = e('div[bh-header-more-guid="' + n + '"]');
			i.removeData("active"), T(i.children(".bh-active"), i, t), setTimeout(function() {
				i.data("active") || i.css({
					height: 0
				})
			}, 200)
		}

		function T(t, n, i) {
			var a = t.length > 0 ? t.closest("a") : [],
				o = n.children("div.bh-header-navMoreBox-bar"),
				r = i.find("div.bh-headerBar-navigate"),
				s = n.hasClass("bh-header-navMoreBox-mini") ? 24 : 43;
			if(a.length > 0) {
				if(a.hasClass("bh-hide")) o.css({
					top: "-" + s + "px"
				});
				else {
					var l = a.index();
					n.children("a").each(function(t, n) {
						if(t < l) {
							e(n).hasClass("bh-hide") && l--
						}
					});
					var d = l * s + 1;
					o.css({
						top: d + "px"
					})
				}
				r.addClass("bh-unActive")
			} else r.removeClass("bh-unActive"), o.css({
				top: "-" + s + "px"
			})
		}

		function D(t, n) {
			var i = t.closest("a").index();
			n.each(function() {
				var t = e(this),
					n = t.children("a").eq(i),
					a = n.outerWidth(),
					o = n.offset().left,
					r = t.offset().left,
					s = o - r;
				t.find(".bh-headerBar-nav-bar").css({
					left: s + "px",
					width: a + "px"
				})
			})
		}

		function N(t, n) {
			t.on("click", "[bh-header-role=roleSwitch]", function() {
				var t = e(this),
					n = t.offset(),
					i = t.outerWidth(),
					a = t.outerHeight(),
					o = e("[bh-header-role=roleBox]"),
					r = o.outerWidth(),
					s = n.left + i - r,
					l = n.top + a + 8;
				o.css({
					left: s,
					top: l
				}).toggleClass("bh-active")
			}), e("[bh-header-role=roleBox]").on("click", ".bh-headerBar-roleBox-title", function() {
				var i = e(this);
				if(!i.hasClass("bh-headerBar-roleBox-explain")) {
					var a = e.trim(i.text()),
						o = i.children("a").attr("id");
					if(t.find("[bh-header-role=roleSwitch]").text(a), i.closest("[bh-header-role=roleBox]").removeClass("bh-active"), t.trigger("headerRoleChange", [a, i]), void 0 !== n.dropMenuCallback && n.dropMenuCallback instanceof Function) {
						var r = {
							id: o,
							text: a,
							JDom: i
						};
						n.dropMenuCallback(r)
					}
				}
			})
		}

		function I(t, n) {
			n.appDetail && e.ampAppDetail.init({
				appId: n.appDetailData.appId,
				rootPath: n.appDetailData.rootPath
			}), t.on("click", "[bh-header-role=ampSwitch]", function() {
				var t = e(this),
					n = t.offset(),
					i = t.outerWidth(),
					a = t.outerHeight(),
					o = e("[bh-header-role=ampBox]"),
					r = o.outerWidth(),
					s = n.left + i - r,
					l = n.top + a + 8;
				o.css({
					left: s,
					top: l
				}).toggleClass("bh-active")
			}), e("[bh-header-role=ampBox]").on("click", ".bh-headerBar-roleBox-title", function() {
				var t = e(this),
					i = t.attr("bh-header-role");
				"feedbackBox" === i ? AmpFeedback.window(n.feedbackData) : "appDetailBox" === i && e.ampAppDetail.show()
			})
		}

		function S(t) {
			t.on("click", "[bh-header-role=bhHeaderUserInfoIcon]", function() {
				var t = e("[bh-header-role=bhHeaderBarInfoBox]");
				if(0 !== t.length) {
					var n = e(this),
						i = n.offset(),
						a = n.outerWidth(),
						o = n.outerHeight(),
						r = t.outerWidth(),
						s = i.left + a - r,
						l = i.top + o + 8;
					t.css({
						left: s,
						top: l
					}).toggleClass("bh-active")
				}
			})
		}

		function P(e) {
			var t = e.find("div[bh-theme-role=themeIcon]"),
				n = t.outerWidth(),
				i = t.outerHeight(),
				a = t.offset(),
				o = e.find(".bh-header-themelist"),
				r = a.top + i,
				s = a.left + n - 150;
			o.css({
				top: r,
				left: s
			}), E(t, o)
		}

		function E(t, n) {
			t.on("click", function() {
				n.toggle()
			}), n.on("click", "li", function() {
				n.find(".bh-selected").removeClass("bh-selected"), e(this).addClass("bh-selected"), B({
					themesName: e(this).attr("title"),
					themesLink: e("#bhThemes")
				}), B({
					themesName: e(this).attr("title"),
					themesLink: e("#bhScenceThemes")
				}), n.hide()
			}), n.find("li").hover(function() {
				e(this).addClass("bh-active")
			}, function() {
				e(this).removeClass("bh-active")
			})
		}

		function B(e) {
			var t = e.themesLink,
				n = A(e);
			"" != n && (t.removeAttr("type"), t.attr("href", n), t.attr("type", "text/css"))
		}

		function A(e) {
			var t = e.themesLink,
				n = t.attr("href");
			if(!n) return !1;
			var i = n.split("/"),
				a = "";
			return i && i.length > 1 && (i[i.length - 2] = e.themesName, a = i.join("/")), a
		}

		function $(t) {
			var n = t.userInfo;
			if(!e.isEmptyObject(n)) {
				var i = n.image,
					a = n.info,
					o = "";
				null !== n.logoutHref && void 0 !== n.logoutHref && "" !== n.logoutHref && (o = '<a class="bh-btn bh-btn-default bh-btn-small bh-btn-danger" href="' + n.logoutHref + '">退出登录</a>');
				var r = '<div class="bh-headerBar-userIfon bh-headerBar-popupBox-animate bh-card bh-card-lv3" bh-header-role="bhHeaderBarInfoBox"><div class="bh-headerBar-userInfo-img"><img src="@image" /></div><div class="bh-headerBar-userInfo-detail">@detail</div>@logoutHtml</div>',
					s = "";
				if(a)
					for(var l = a.length, d = 0; d < l; d++) 0 === d ? s += '<div class="bh-headerBar-userIfon-name">' + a[d] + "</div>" : a[d] && (s += "<div>" + a[d] + "</div>");
				r = r.replace("@image", i).replace("@detail", s).replace("@logoutHtml", o), e("body").append(r);
				var c = e('div[bh-header-role="bhHeaderBarInfoBox"]').find("img");
				BH_UTILS.checkImageLoadComplete(c).fail(function(e, t) {
					t.attr("src", z.defaultUserImg)
				})
			}
		}

		function H(t, n) {
			if(t) {
				var i = parseInt(t.activeIndex, 10);
				if(i) {
					i -= 1;
					var a = z.nav[i].guid,
						o = n.find(".bh-headerBar-navigate"),
						r = n.attr("bh-header-guid");
					o.find(".bh-active").removeClass("bh-active");
					var s = e('div[bh-header-more-guid="' + r + '"]'),
						l = o.children('a[bh-header-role="nav-' + a + '"]').index();
					if(l >= 0) {
						var d = o.children("a").eq(l).find(".bh-headerBar-nav-item");
						d.addClass("bh-active"), o.data("nav-init-active-index", l).removeClass("bh-unActive"), n.find("div.bh-headerBar-nav-more").removeClass("bh-active"), D(d, o), s.find(".bh-active").removeClass("bh-active"), T([], s, n)
					} else {
						var c = s.children('a[bh-header-role="nav-' + a + '"]');
						s.find(".bh-active").removeClass("bh-active"), c.addClass("bh-active"), w(c, s, n), T(c, s, n)
					}
				}
			}
		}

		function O(t) {
			var n = z.$dom.find("div.bh-headerBar-navigate"),
				i = z.$dom.find("div.bh-headerBar-nav-more"),
				a = z.$dom.attr("bh-header-guid");
			"show" === t ? (n.removeClass("bh-nav-hide"), e('div[bh-header-more-guid="' + a + '"]').find("a").length > 0 && i.show()) : (n.addClass("bh-nav-hide"), i.hide())
		}

		function M(t, n) {
			var i = t.find('header[bh-header-role="bhHeader"]'),
				a = i.find("img"),
				o = a.length;
			if(o > 0) {
				var r = 0;
				a.each(function(a, s) {
					BH_UTILS.checkImageLoadComplete(e(s)).done(function() {
						++r === o && L(i, t, n)
					}).fail(function(e, a) {
						a.closest(".bh-headerBar-imgBlock").length > 0 && a.attr("src", z.defaultUserImg), ++r === o && L(i, t, n)
					})
				})
			} else L(i, t, n)
		}

		function L(t, n, i) {
			var a = t.find("div.bh-headerBar-content"),
				o = null,
				r = 0;
			a.children().each(function() {
				var t = e(this);
				t.hasClass("bh-headerBar-menu") ? o = t : r += t.outerWidth(!0)
			});
			var s = null,
				l = 0;
			o.children().each(function() {
				var t = e(this);
				t.hasClass("bh-headerBar-navigate") ? s = t : l += t.outerWidth(!0)
			});
			var d = "calc(100% - " + parseInt(r + 148, 10) + "px)",
				c = "calc(100% - " + parseInt(l + 16, 10) + "px)";
			o.css({
				width: d
			}), t.find("div.bh-headerBar-navigate").css({
				width: c
			});
			var h = n.children('header[bh-header-role="bhHeaderMini"]');
			h.find("div.bh-headerBar-menu").css({
				width: d
			}), h.find("div.bh-headerBar-navigate").css({
				width: c
			}), j(n), void 0 !== i.ready && i.ready instanceof Function && i.ready()
		}

		function j(t) {
			for(var n = t.attr("bh-header-guid"), i = t.children('header[bh-header-role="bhHeader"]').find("div.bh-headerBar-navigate"), a = t.children('header[bh-header-role="bhHeaderMini"]').find("div.bh-headerBar-navigate"), o = i.width(), r = 0, s = i.children("a"), l = a.children("a"), d = s.length, c = !1, h = "", p = 0, u = d - 1; u >= 0; u--) {
				var f = s[u];
				if((r += f.offsetWidth) > o) {
					c || (u, c = !0);
					var g = f.attributes.class;
					g && -1 !== g.value.indexOf("bh-hide") || p++, h += f.outerHTML, s.eq(u).remove(), l.eq(u).remove()
				}
			}
			e("body").append('<div bh-header-more-guid="' + n + '" class="bh-header-navMoreBox" bh-header-role="navMoreBox">' + h + '<div class="bh-header-navMoreBox-bar bh-animate-fast bh-animate-top"></div></div>');
			var v = e('div[bh-header-more-guid="' + n + '"]'),
				b = v.outerHeight(),
				y = 24 * p;
			v.data("height", b).data("miniHeight", y).css({
				height: 0,
				display: "block"
			}), p > 0 && (z.isNavHide || t.find("div.bh-headerBar-nav-more").show(), C(t, v));
			var k = v.find(".bh-active").closest("a");
			0 === k.length ? m(t) : (w(k, v, t), T(k, v, t))
		}
		var R, z = {
			nav: [],
			defaultUserImg: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAIAAABMXPacAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAFnFJREFUeNrsXQmUXFWZfve+rV5VdVXv3emk0xAJCZ0ACQmEBCIBgxgGIaARUVQE5zijOHMcnZkz5+iMjuegM8eFEUdHiQgqjjIgBySAwawCWYidQCfpTkIv6aV6qX1/673zv6rqSlV3JSTdVV3Vqbqnc5KuvHrL//3L9//3vv+iO/90kqmM4g1cEUEFgAoAlVEBoAJAZVQAqABQGRUAKgBURgWACgCVUQGgbAY35x+g5yB/bCfr6kZyCH6lLE8lJ6mdb8xbQmoXGPOvoPa6CgAzsNDACHb3se5+5BtGaswUsaXKlG/rVUbT+yw7/kfc84scX+t9K/k3tVVryzYq7/8MgFEB4LwHMVhXF3/ide7kmxhEL4dzHIOQ0fg+duzdc58JRQPCwWf5rl2xe76hL7mxBJ8VzdJ8AKUMJQxmz30UeBK+azfXtRcAyPP1eUv0wZ8YbSvK1wLEXVtJ82Kt/WZQ3iwnExzDYz1czwGu7y+m3AkpiKJpsvX5f4984ddUsJYlACB0QbI+/RWIikbzEnDNIBEU9WPPAPYPo3hoNsLJeB//9qvqtfeUqQWoK/9K/PNT7HAX/BTrafnD29TVd08ywXLJA4AOxjd//T3DQGHVbegoGFz5JmJa+4bop35A6lqL9ri6ij2nSwoAdsmnvzSrDLO+Tbvmw6SmBekqUKPcFLOgN9C8GDI1HBxlEGZKICCjIi5LsbzyKESFWb4o8FFEDMbQwCVqy26WN34RGEG5uKAs6W//kfj6r4qgcZoM0jf/EfEKB561PfUwigfLCwAU9lp/84/i7p+bqVnRXfDQMcsfHysjAPjO7fafPsAf/VPphEGh4w/Y3X/x5wFc7yHh9V/z3XtKrRgA1IjvfE255a8vIgCIASSHcgJSIjjkZvsPg8pzPQeZUh1c71sXGwCWF78NWQ+jxACAUvD17xEJxnuRHKEW+8USAzhBXfcJFPbh4FjpS9/kBbEACo1fVEHYaFkafegnkHCd/aHzeWlCiKYqiiLruj49k8Vhz8XGgoyWK6Kfe1xbetPkVEiwqtffmy97NwwjHo/xvLBo8RVXrri2vrFpejDMTkV2tlkQWEDs049yJ9/g336VHT1lTmO1Xqmu2YLksHDgmZnmtJQqcry6tv5Dt2xZu35jY3MLx/HRSGjfn3e8+sIzfp8nAY/O8Tx8fj5c6KKlofrlN8BP5idmBYLSGZ1T18DtrNvwwbvv/eyC1jZN10DrCTFsdsemu+5dtWY9ABAOBU51dXYcfMM1dFoQRMyeqxCLiH7RApDD8XkGpuHlMU45THAyDkf1vZ/+m/Uf2EQpicWiGR5JN+J6TV19fUMTwvjatTfdvvm+nX98Ydvzv1VVGTzVOQyqnAAAbnohrgb0vbqmLh6NAAzg8cHdf+7hf1p02VL4N80lOEPXDSal0Vab/SOfeOh9l7f/9L8eAZs4GwYUF0kUxeF9avQCHL0ib7j1jiXtV8ng8uMxUOqvfv0/2hYtBsWn56G2YBOxaGTF6rV/++WvWSwSBO2zUecyAgCd38x7IszKm+782P0PfWl48LQs6x/YtPmLX/23Kkc1fH5BVwQMrl51/eZ7H9C03MGWitYyAoCy52Xvcjy28fbNn/rc34VCQZ9nbPOW+x74/D8ghM8mxHOPeCy6cdPmpctWgEnlAsBWTgBIzrOp/Bl5gbdZt+GTDz5MKA34POCF7nvgC4Y5pklXIH4IomXTnVtYzE72XSxHJUcZAUAaL82ZUp2JEarS2rboM5//MstxkOI6nNW3fXgLiB6I5oxCjyIvX7G67dLFmqZlW6TAWKrKCAD90lWT1oaoirJk2dW33HYniB5UFbKn+x96uLauQVNV+NVZXQtk5qzx80KMQLLaV11/IzGyAGAEiQpSGQFgtK0gzqZMz8Pz/EfvexAYDkYIyM7Nt374ypVrIAakD6B54umGri2/erXFaicZRIBaHbSsWJD5tCyf6XCuuPKay9uvsjucosXaNG/+Hfd8Qs/2EnkzPl1valnQ2NSSaU+kuqW8aCiDMOUtmRaw8tq1kOiCrxctlo2b7q5raILkqyDhhxCb3TG/tc3IKNgZC5YxRRpFWxVhOJrSErFabZCpJsnlZZe3r33/RlWRC4g+Qi0L2gD31A1AtnHJqrIDAC++LumFKTEgxtbU1RNgOZoG0odfZx5vz+0CG5vnAxCm9A1DbFtOL7uuvACoYsn72y8DJwPOx0iQHIvFapIfjl+6fEWBnM8Z8RPqrK6BsJ+ocyirl7XfWquXFwCfrA5tubyhuWUBOGIKLshu5wWREMoLgihaaIELk4QSm80OwQayCoskrV+z5jMOXx1rlAsAAqLtfBTi7crV61RNBXGD2FmzWE8nJcOFsgBKRUnieEFV1MuWLFt02VKkK5fwarkAIGFiwwR0/4YNH6xyOEHxWXZW16wn0g4BLgqXhpAD8MMnzvKxAPN1MQYB52m7dPGaG26W5dnQ+kl3gDEL4XfeggUrr10HWYhZDWJouQAgUxw0cLL4c/td99bVV5mVfTKrq1cSJVVt7Y0fqKmtTzIujaJyAUClaEAz004wgpbWtjvuvi8cDEIwQLP35hDSNRWI7w0336Yl1B+G1yinGbH98dTshyzLt95xz9JlV0VCQYTwbKk/E49H19x4y7z5rckFLH6D7dHKqRRxRJbGdS5ByYkgWDZt/jgQUDpba+gg4bDbHetvvi1dbjoQt8YILiMAFIp2x1ILsyD/NVl54el/JgBVzmqHsyaZissUvRYtzmRAMUsRu6L2gMGmJTLLRAguly5HvxapGtO5sgMgTPAfIg6m2MOl88W9jWL2C9oZtZ9QxSLeAPCxx/21xfL+xQcAqPePfPUQkIuSAh2KW7/rbThVVA1git4xC/gfSOGN2GwvCTEoejJYc1yxFN0HlkTLsj2zDoDbYIvreUoLAPADQxo/m1fskK0qRRUAUkOnaO8sGgFkIRD/mdIYpdI18fWYLTRbPmFP1D6qcxUAskaIsDtmJR2FC71QAvlHyQEAY3ukylP4kuQLYUfQYCsA5M6NIS0yChkbuxTLjpLx/iUHAIxjiuWZkLNAJ48Q/PNArU5RBYBzjW0Rx64CKCkk2z/z15VO7C1dAGD8MlhzLN856m+CNR2yVIIPW4oAaBT92Fc3rOctNXsx7HglUsWU5CjR7ulBwj7qbfDng66A6J8JVTOlOkq3ff2Izj3mq5fp9O+QRcwrUcfTwRqmhEdJ7x9wUhW/7wUM0DRarRKEnvDXPB2oZkp7lDQAmDK9Cu/yB6mhI3zet4oQj8hej3A4YLFqhmAQtkhvwZ/PKC1a5sCIiasipSIhPKWYUBvVORoOGSGLvVaUrImlK5RJr+2nkyRv/qHEiATdcsDpjDuasLnoSkdIYXEEISKJfjigAkDOUcXiuxoc/mBs0B2QNZ3D2KDYwakSSzSNqH43HxUtVjvHC2ANKLG6P3MtFzWn2omhqbFIiGqxRl7k5JSosUEkQtqctram6o6YcjQiVwDIMVZVSVaOrWpw1lVJ/WOB8WBEBwvAGocMgwGJM5qqwA9KjJTss2ODudIhsdYBwHNgRUAG5L2EkipJvKSxpsFpBVe0ksW9cTVmkAoAWaOBMZbVOEG+OmirwLcvbGgK2U6MhWuoi2WIkYhVaX2nie0gaHaHk5RFJI6B/7Nj1WK2rLNdUl+9oN7BsayRwMbKstfXOne6/ZUgfGb4D+9TXnueNQeXEB81CK1zWK9Z1FzX2CIzFpZqk/09g1LynhiZ1gBxgGf0thrx6kXzLm2uAY9lTKwCkmxVpPvI8P9trVhAakROHj39xPdOhoNIjnzy4X9mOS75/iJgIGCqVi86ZW1oDB+vjQ8ghhD0HqkZHIOoEeNqRx3L6qRmAEU/422Q1W47sPOVx7/zNTkWYRCe/9EHi/74s909fdIIH36z74nvETmGWdx95K2Az7ti7U1gB+lla6DLhBWDUmuUrxX1CPwkuc5ZaKtuYGHU3u6quUYRauC7aR8FJmK12fa+8sLPHvkXRY5DJI/2djMsW7V4eZkCoJzq9D7/i6GXfmskFoiDgEAopzoPe8ZcK9dt4Hj+DAYMZMNE5asBBh0JkhbgqUJNPooyRA90kwakhYM114VsC5HpW0kGPUUWq23nC7974j//1TCMdM+m4PHDdXarrb7ZEKVyAuD0Cc/vnxh7+XfyuAsUFFwEmhATz/M9Xe+MDQ+uXHsTLwiZ3QTAt4DTiFiaQtI84KWSHkoDALKWeedw9Sq3ox3MBewAZSUHyCJZtz/39JPf/xZ8I7OBH8dx0d6u0IGdDjkkNTTrkv1iBgBRah3ti7z8dN9zT0VHhhJ0BQg9NnQjK4kVxN6uztGhgVXrb4F4MOnNGWzuMWYJWBfqhuFUx8AOMCUh1tlbv0ER6xKin5xmQdTd+YdnnvzeNyGJgxOe4ayUEQUgR1hVFPepLv/+nbWYWOYt1HnxIgRACnnkbb/q+t/HPf09IPp0+73kXzohmToLGPSfOOb3uK+58RaM8KT3BkyPhPBpnzyfuHgWcYh0yvWKo82Cc1B7yWbft+Plrd/5mvmoXBbjAGokCHySSsH96Lo+euxto6ujYcFCrbrxogLAOdjd9dg3h453wnMC05z0KpLJEaf0YIJ40HP8bTkWXbHuJsikJrU0hK90jUUaUKjFoikMtzPY7Kyps/J40hp30Wo9+U7Hf3/jK5oiQ1DJStkoNbuJcmymp4J7iwQDowf2LGxp1prbLhIAqt49/NYPv6XE4+Dfc74FBtIkhBoGzfzPREzmT7x9SLRYlq9am9k5RRCEU93Hf//U1iPH3t33Ts+rHQP7Dx93D/RcsfwqjjtTdgMz8o6NPPb1v/eOjwqiZUq9DolCjvsBFQFsXB37Fy2YrzYtnPN5gMP17l9+/B1iGOd4ExhEBsqo68ZUGYHgnt36WPPCS9Zs+FB8ojkoOPJTx4/2Hdk/bLUnUKOY6IHhvjvu2VJb38Ak+q+CHOGiT33/W4O9p8AL5dA7FuOzlFfN7xLy1tZHr/tqXaj1ijmcCVvkcPfW72qa9p7vYcMzQzScWjPG5rvU5Fc/eGRkoA80egIwMtTfJ1gsoMJWkZNEHv4NgTTo96VlKlik7c/9+tDeP+WUfhLyc0wxJDCgJ578oaRE5zAAxusve0dHOO69jQyZjJDNKREgo+7R4d/95Ltm8WfiCKfTaWSxI3qmTASPxAv+od5tTz/Oi+JZ5Gu6+3PPEcD9eEZG9DdfnasA2CK+k9tf5Pnzmlinpk9g04YyqT0Z5FD7dv3x2O4Xax12g1BwVp+9/2PzGhvSLdJlWVm1csXSpUsVVSOUWdpkP7jtN+7x8TTlpxktKMxNLfnzcrw8z/XueEkq8E5nhQJA79wfjUYxvoDzg0+RJNOziEAPTYKO08EAs/yzv9x6qRCtr7LEZOW6ZZfcv+WuWFxOVUYR+uzHN9skEaxk1QKHNTLy0kvbLJKU9ic8y4pmHxYBTi9J0vkYZfKLwUAA93TOPQBYQx89uPeCpJ+6GyA/HAfyNylTxtdBdse7T+7e/uraVtuiWgmS4gc+/pFFba2aroPWr1zevnH99VUsWdPqmF/FvbZrz8joeFrKCUKVOCfHgfO5oMll+K7n0BuokC8wFwQAi3/Uc7pvej1QwLGAS4nHZS17EwYIyM+9+BKIb0WLTUBMTU31xzbfDkdCkL/x+tUA2NIGS6Pd9Dlv7NufyS8NwzBPKCvT2NUBrNDd3SnGI3MMANLXpSjKNHo/gD+RQaUT3TPQZAcldhw+0tPTy0zMgzmr7HA8XMXt8aaPBzy6urr5KV7e3GjDREu/oJsCI47FYni0fy4BgCnxHT00vc4bCCNwFDlb+YM9+fz+nXv2pj8JhSOme2HZvsHhdIx1jYyOjI3l9PKJXBdf6AIJQE7pPzGXABDikfFTJ6bZg4ma3ONswQNkvWPX7vSv0VgcUGY5dnhkLBJNtXh1uVwBfyDn1QHaadwVwObv7ixcGMg/AKxnWI5Gpt17xiQtPJdTT0VRPPL2O8PDrhQAcRkl6qnBUHhkLLUJVW9//9l8feK0dBr3ExgaEKPBOQOA4eqH+DltAJJlMnPdSS4v5Ha739x/IPkreGez8RJCkUh00DWa/HBwcIhMkTJ8ANqf85znA0AkEubD3rkBAGJo8NSxaRDQSYmxYPaUzA3P7r1/TgEQjyen4wHv04OpjcqHXa5cbsT0P9NeHmdSg74TcwMAVo4GB/tn2PuKJioBEDBzBBhBONTRYeq+GQPk5HXgcj39qV2BRkbGJjn6VJo9E52gND58GhVmfWO+AYhHQl7PDC0gpbO5CgbA9wcGhjqPHmPMHR7iyfVxcLn+AdMCVFUdBQqUDQBKhN8ZyQjCTP+72NDmAgDjw/oMAkCW106UjKdyElmOv/7mPhMAOZVqwJGj425wRBAM/AH/pG8lZoEwnRkAIfeYKEfnAACqZyRfbZ+TRjDV7oF3Hjj4lqpqOlwIJYMzHnV7IC3w+rwxk5uiTCAzp72m/1yqynhH5gIAI4P5OlXSCKZGAlEQj3d39/T1EUKTpR3Q0Gg07hp1+7w+8EuZFpCsPM9YFRAk2Mg/XuoAQLYSdA3OPABkGoEARjCFjHq93jf3H8xYoYsUVR0Ydnm83swSyEzY52Qxsaz/5LFCAJDPKUlRjUe97jy2/wQJmstFMc6efmFA93ft2SsrZ1qNGsToPT3EG/GsFaKI4dg8vZxBacwzJhHDwGzpAmD4xrV4LL/9V1Eig9VB1tlcqOPwEc7RmLY2juV6+wc4LYwnmo8m1R/0Py/yh4Q7NuZqjIcNW3XpAsDpKrhgjsvnOZMsHozAXECHsrJTgbUilk9W7kDUPX2neS2UjhnJ5MsEMB8IQLAJB4OCpqil7IKwf7wQ3SeTdMgwsp+dGERT8MROQKDsQyMjTMyXngRNsU+ar3tAhBBj5DRT3VS6QTg0PJDHCDwpEkylQwBABtthw+Gw3+dLHkbPPss/7aGDDQbzXxHKp7z0WKRA/VdzJcaI6iqTrhKjxBa2Zh00QUzzGH4zwlF8qL90ATBXQgW8BXoBMWkEWeZlvg2pU5B4Ws8n1jcmDubywj6z6C/GweEBRIwSBQBpqhzw4YK1oE/SoazJMgpeWZ2Yi0TUBIBOhN/878cAYSDq94iaXKIAmO+HBgOF2wOAJqjOpH3h6ZkwQCmZ8D+JZYeFsEU9HmcC7hIFwIKoHIsWdBOGKdWhZBgwEtMQlCaqlWbxh+UKcRfJCXpOLVUL4GMhpsDbkEyuDiXDgKEn346nqWW5iMsf+5xyA5QZHShRANSAbxZaAKTmtjLCABgBmJ0JAyEp9okLFocQDo+6ShSASMDPZPcOKJQRcJnTW4joZhigZjSmCEKEYClcZw7zPfygm83rCom8AWAVOEVRmFkwAnOG68ye5GAB1HzBw9wVEfEWhpOYgm1IBf4tOjLE5pUI5Q0ADrIwZjZGws9wyXfqU97fUAEAc92VaKW4gK+cIIwDPr+NpaUIgBosYBIw1Rlz5qY/Ka9kKDGzoRArYF4q7EJahFRV5fz5ZKJ50xc1XKilSznKG5RyiNHMl8uIWSZTomYTA6sDYjFWwzSjn1DejU/VdBwLliIAUa976huQ+UpBc0YCQeCVZHkYCCjCvCDyehhyA6aQ+5HJqmKL5bMk9/8CDACwy99BIeOUywAAAABJRU5ErkJggg=="
		};
		e.fn.bhHeader = function(t, n) {
			var i;
			return i = this.data("bhHeader"), i ? !0 === t ? i : "string" === e.type(t) ? i[t](n) : this : this.each(function() {
				return e(this).data("bhHeader", new R(this, t))
			})
		}, e.fn.bhHeader.defaults = {
			openTheme: !1,
			showAsideNav: !1,
			logo: "",
			title: "",
			icons: [],
			img: "",
			isNavHide: !1,
			nav: [],
			dropMenu: [],
			userInfo: {},
			feedback: !1,
			feedbackData: {
				sourceId: "",
				sourceName: "",
				uploadImageUrl: "",
				submitUrl: ""
			},
			appDetail: !1,
			appDetailData: {
				appId: "",
				rootPath: ""
			},
			ready: null
		}, R = function() {
			function n(n, i) {
				this.settings = e.extend({}, e.fn.bhHeader.defaults, i), z.nav = this.settings.nav, z.isNavHide = this.settings.isNavHide, this.$element = e(n), z.$dom = this.$element, t(this.settings, this.$element)
			}
			return n.prototype.resetNavActive = function(t) {
				t = e.extend({}, {
					activeIndex: NaN
				}, t), H(t, this.$element)
			}, n.prototype.showNav = function() {
				O("show")
			}, n.prototype.hideNav = function() {
				O("hide")
			}, n
		}()
	}(jQuery),
	function(e) {
		function t(e, t) {
			p = e.source, u = t, f = e.contentContainer, g = e.mode;
			var i = l(e.source);
			u.html(i), n(e.activeIndex), o()
		}

		function n(e) {
			i(a(e) + "")
		}

		function i(e) {
			if(null != e) {
				var t = u.find(".bh-menu-link-item[menuId='" + e + "']"),
					n = t.text(),
					i = t.attr("data-title");
				if(!1 === u.triggerHandler("activeChange", [e, n, i, t])) return !1;
				h && (u.find(".bh-menu-link-item[menuId='" + h + "']").removeClass("bh-active"), f.find(".bh-menu-content[id='" + h + "']").hide()), h = e, t.addClass("bh-active"), f.find(".bh-menu-content[id='" + h + "']").show()
			}
		}

		function a(e) {
			var t = null;
			return p && (t = p[e].id), t
		}

		function o() {
			u.on("click", ".bh-menu-link-item", function() {
				if(e(this).hasClass("bh-disabled")) return !1;
				if("link" == g) {
					var t = e(this).attr("menu-data-url");
					window.open(t)
				} else {
					i(e(this).attr("menuId"))
				}
			})
		}

		function r(e) {
			var t = a(e);
			u.find(".bh-menu-link-item[menuId='" + t + "']").addClass("bh-disabled")
		}

		function s(e) {
			var t = a(e);
			u.find(".bh-menu-link-item[menuId='" + t + "']").removeClass("bh-disabled")
		}

		function l(e) {
			var t = "";
			if(e) {
				t = '<div class="bh-menu-link">';
				for(var n = 0, i = e.length; n < i; n++) t += d(e[n]);
				t += "</div>"
			}
			return t
		}

		function d(e) {
			var t = "";
			return e && (t = '<div class="bh-menu-link-item" menuId="' + e.id + '" menu-data-url="' + e.url + '" data-title="' + e.title + '">', t += e.title, t += "</div>"), t
		}
		var c, h, p, u, f, g;
		c = function() {
			function n(n, i) {
				this.settings = e.extend({}, e.fn.bhMenu.defaults, i), this.$element = e(n), t(this.settings, this.$element)
			}
			return n.prototype.enableItem = function(e) {
				s(e)
			}, n.prototype.disableItem = function(e) {
				r(e)
			}, n
		}(), e.fn.bhMenu = function(t, n) {
			var i;
			return(i = this.data("bhMenu")) ? !0 === t ? i : ("string" === e.type(t) && i[t](n), this) : this.each(function() {
				return e(this).data("bhMenu", new c(this, t))
			})
		}, e.fn.bhMenu.defaults = {
			source: [],
			activeIndex: 0,
			contentContainer: e("body"),
			mode: "tab"
		}
	}(jQuery),
	function() {
		function e(e, t) {
			e.toggleClass("jqx-widget", !0), e.data("jqxWidget", t)
		}

		function t(e) {
			var t = e.val() || e.find("input").val();
			if(t) {
				var n = e.jqxNumberInput("decimalDigits");
				if(n) {
					for(var i = (t + "").split("."), a = i[1] || "0", o = 0; o < n - 1; o++) a[o] || (a += "0");
					t = [i[0] || "0", a].join(".")
				}
			}
			return t
		}

		function n(e, t) {
			if(this.each(function(t, n) {
					var i = $(n),
						o = i.data("we.bhNumRange"),
						r = {};
					"object" == typeof e && (r = e), o || i.data("we.bhNumRange", o = new a(n, r))
				}), "string" == typeof e) return this.data("we.bhNumRange")[e](t)
		}
		var i = ['<div class="bh-num-range">', '<div class="bh-num-range__input-wrap bh-pull-left">', '<div class="bh-num-range__input bh-num-input__1 "></div>', "</div>", '<span class="bh-num-range__linkLine"></span>', '<div class="bh-num-range__input-wrap bh-pull-right">', '<div class="bh-num-range__input bh-num-input__2"></div>', "</div>", "</div>"].join(""),
			a = function(t, n) {
				return this.$elem = $(t), this.template = i, this.$input1 = null, this.$line = null, this.$input2 = null, this.options = $.extend({}, a.DEFAULT, n), this.init(), e(this.$elem, this), this
			};
		a.DEFAULT = {
			spinButtons: !0,
			inputMode: "simple",
			decimal: null,
			decimalDigits: 0,
			promptChar: "",
			width: null,
			input1: null,
			input2: null
		}, a.prototype.init = function() {
			var e = this.$elem;
			e.html(this.template), this.$input1 = e.find(".bh-num-input__1"), this.$input2 = e.find(".bh-num-input__2"), this.$line = e.find(".bh-num-range__linkLine");
			var t, n = $.extend(!0, this.options, {}),
				i = n.input1,
				a = n.input2;
			delete n.input1, delete n.input2, t = null !== n.width ? Math.floor((n.width - 15) / 2) : Math.floor((this.$elem.width() - 15) / 2), this.$elem.find(".bh-num-range__input-wrap").width(t), delete n.width, i = $.extend({
				width: t
			}, n, i), a = $.extend({
				width: t
			}, n, a), this.$input1.jqxNumberInput(i), this.$input2.jqxNumberInput(a)
		}, a.prototype.bindEvent = function() {
			var e = this;
			this.$input1.on("change", function(t) {
				var n = t.args.value;
				e.$input2.jqxNumberInput({
					min: n
				})
			}), this.$input2.on("change", function(t) {
				var n = t.args.value;
				e.$input1.jqxNumberInput({
					max: n
				})
			})
		}, a.prototype.upgradeInputWidth = function() {
			var e = Math.floor((this.$elem.width() - 20) / 2);
			this.$input1.jqxNumberInput("width", e), this.$input2.jqxNumberInput("width", e)
		}, a.prototype.val = function(e) {
			return arguments.length ? this.setValue(e) : this.getValue()
		}, a.prototype.setValue = function(e) {
			"" !== e.input1 && this.$input1.val(e.input1), "" !== e.input2 && this.$input2.val(e.input2)
		}, a.prototype.getValue = function() {
			var e = [t(this.$input1), t(this.$input2)].join(",");
			return "," == e ? "" : e
		}, a.prototype.disabled = function(e) {
			"boolean" == typeof e && (e = {
				input1: e,
				input2: e
			}), this.$input1.jqxNumberInput("disabled", e.input1), this.$input2.jqxNumberInput("disabled", e.input2)
		}, $.fn.bhNumRange = n, $.fn.bhNumRange.constructor = a
	}(),
	function() {
		function e(e) {
			var n = e.$element,
				i = e.settings;
			switch(i.mode) {
				case "simple":
					n.html(m), t(e), 0 == i.pagerButtonsCount && (n.find('[pager-flag="simpleOnliOne"]').text(i.pagenum + 1), i.pagenum > 0 && n.find('[pager-flag="simplePrev"]').removeClass("bh-btn-disabled"));
					break;
				case "advanced":
					n.html(b), s(n, i)
			}
			n.find('[pager-flag="gotoPage"]').val(i.pagenum + 1), c(e), n.children(".bh-pager").removeClass("bh-hide"), l(e)
		}

		function t(e) {
			var t = e.settings,
				i = e.$element,
				a = t.pagesize,
				o = e.getTotal(),
				r = t.pagerButtonsCount,
				s = Math.ceil(o / a),
				l = "",
				d = 0,
				c = 1 == s || 0 == s,
				h = t.pagenum + 1 == s;
			0 == r || 1 == s || 0 == s ? (0 != s && (d = 1), l = '<div class="bh-pager-simple-numHtml" pager-flag="addNumBtn"><a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn bh-simplePager-active" pager-flag="simpleOnliOne">' + d + "</a></div>", i.find('[pager-flag="pageNumEle"]').append(l), i.find('[pager-flag="simplePrev"]').addClass("bh-btn-disabled"), (c || h) && i.find('[pager-flag="simpleNext"]').addClass("bh-btn-disabled")) : (l = '<div class="bh-pager-simple-numHtml" pager-flag="addNumBtn"></div>', i.find('[pager-flag="pageNumEle"]').append(l), n(t, i, s)), i.find("#bh-pager-simple-total").text(o)
		}

		function n(e, t, n) {
			var a, o = n - e.pagerButtonsCount;
			o > 2 ? (a = i(e, t, n), t.find('[pager-flag="addNumBtn"]').html(a)) : r(t, n - 1, n);
			var s = $(t.find("[pager-flag=simpleGotoPage]")),
				l = s.filter(function(t) {
					return parseInt(s[t].innerText) == e.pagenum + 1
				});
			l.addClass("bh-simplePager-active");
			var d = parseInt(l.text());
			1 == d && t.find("[pager-flag=simplePrev]").addClass("bh-btn-disabled"), d == n && t.find("[pager-flag=simpleNext]").addClass("bh-btn-disabled")
		}

		function i(e, t, n) {
			var i = "",
				r = a(e),
				s = e.pagerButtonsCount,
				l = e.pagenum,
				d = s + l < n - 1,
				c = l - 1 > 2,
				h = '<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">1</a>',
				p = '<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">' + n + "</a>",
				u = '<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn ellipsis" pager-flag="changeRightEllipsis">...</a>',
				f = '<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn ellipsis" pager-flag="changeLeftEllipsis">...</a>';
			if(0 == l || l <= s) i = h + o(t, e.pagerButtonsCount + 1, n) + u + p;
			else {
				var g = o(t, e.pagerButtonsCount + 1, n, r - 1);
				c && d ? i = h + f + g + u + p : c ? i = h + f + g + p : d && (i = h + g + u + p)
			}
			return i
		}

		function a(e) {
			var t = 0,
				n = e.pagerButtonsCount,
				i = e.pagenum + 1,
				a = i % n,
				o = parseInt(i / n);
			return 0 == a ? t = i - Math.floor(n / 2) : 1 == a ? t = 1 == o ? i : i - (n - 1) : 2 == a ? t = i : a > 2 && (t = n * o + 2), t
		}

		function o(e, t, n, i) {
			var a = 1,
				o = "";
			i && (a = i);
			for(var r = 1; r < t && (a += 1) != n; r++) o += '<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">' + a + "</a>";
			return o
		}

		function r(e, t, n) {
			for(var i = 0, a = "", o = 1; o < t; o++) i = o + 1, a += '<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">' + i + "</a>";
			var r = '<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">1</a>' + a + '<a href="javascript:void(0);" class="waves-effect bh-pager-btn bh-pager-simpleBtn" pager-flag="simpleGotoPage">' + n + "</a>";
			e.find('[pager-flag="addNumBtn"]').html(r)
		}

		function s(e, t) {
			e.find('[pager-flag="pagerOptionSel"]').jqxDropDownList({
				source: t.pageSizeOptions,
				selectedIndex: t.selectedIndex,
				width: "60",
				height: "26",
				dropDownHeight: "100",
				enableBrowserBoundsDetection: !0
			})
		}

		function l(e) {
			var t = e.$element,
				i = e.settings,
				a = e.settings.mode;
			if(t.off("click", '[pager-flag="prev"]').on("click", '[pager-flag="prev"]', function() {
					var t = e.getPagenum();
					t <= 1 || (h(t - 1, e), c(e), g(e, $(this)))
				}),
				t.off("click", '[pager-flag="next"]').on("click", '[pager-flag="next"]', function() {
					var t = e.getPagenum();
					t >= p(e) || (h(t + 1, e), c(e), g(e, $(this)))
				}), t.off("keyup", '[pager-flag="gotoPage"]').on("keyup", '[pager-flag="gotoPage"]', function(t) {
					if(13 == t.keyCode) {
						var n = e.getPagenum();
						if(n < 1 || n > p(e)) return void h(1, e);
						h(n, e), c(e), g(e, $(this))
					}
				}), "advanced" == a && t.off("select", '[pager-flag="pagerOptionSel"]').on("select", '[pager-flag="pagerOptionSel"]', function(t) {
					h(0, e), c(e), g(e, $(this))
				}), "simple" == a) {
				var o = Math.ceil(e.getTotal() / i.pagesize);
				i.pagerButtonsCount;
				t.off("click", '[pager-flag="changeRightEllipsis"]').on("click", '[pager-flag="changeRightEllipsis"]', function() {
					t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");
					var a = t.find('[pager-flag="changeRightEllipsis"]').prev();
					i.pagenum = parseInt(a.text()), n(i, t, o), g(e, $('[pager-flag="changeRightEllipsis"]', t))
				}), t.off("click", '[pager-flag="changeLeftEllipsis"]').on("click", '[pager-flag="changeLeftEllipsis"]', function() {
					var a = t.find('[pager-flag="changeLeftEllipsis"]').next(),
						r = parseInt(a.text());
					i.pagenum = r - i.pagerButtonsCount, n(i, t, o), t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");
					var s = t.find("[pager-flag=simpleGotoPage]")[i.pagerButtonsCount];
					$(s).addClass("bh-simplePager-active"), g(e, $('[pager-flag="changeLeftEllipsis"]', t))
				}), t.off("click", '[pager-flag="simplePrev"]').on("click", '[pager-flag="simplePrev"]', function() {
					var n = t.find('[pager-flag="simpleNext"]').hasClass("bh-btn-disabled");
					t.find('[pager-flag="simplePrev"]').hasClass("bh-btn-disabled") || (n && t.find('[pager-flag="simpleNext"]').removeClass("bh-btn-disabled"), u(i, t, o), g(e, $(this)))
				}), t.off("click", '[pager-flag="simpleNext"]').on("click", '[pager-flag="simpleNext"]', function() {
					var n = t.find('[pager-flag="simpleNext"]').hasClass("bh-btn-disabled"),
						a = t.find('[pager-flag="simplePrev"]').hasClass("bh-btn-disabled");
					n || (a && t.find('[pager-flag="simplePrev"]').removeClass("bh-btn-disabled"), f(i, t, o), g(e, $(this)))
				}), t.off("click", 'a[pager-flag="simpleGotoPage"]').on("click", 'a[pager-flag="simpleGotoPage"]', function() {
					var a = $(this),
						r = parseInt(a.text());
					i.pagenum = r - 1, n(i, t, o);
					var s = t.find('a[pager-flag="simpleGotoPage"]').filter(function() {
						return $(this).text() == r
					});
					g(e, s)
				})
			}
		}

		function d(e) {
			var t = 1,
				n = 1,
				i = e.getPagenum(),
				a = e.getTotal(),
				o = e.getPagesize();
			return n = i * o < a ? i * o : a, t = o * (i - 1) + 1, 0 == a && (t = 0, n = 0), t + "-" + n
		}

		function c(e) {
			var t = d(e);
			e.$element.find('[pager-flag="pageInfo"]').html(t + " 总记录数 " + e.settings.totalSize)
		}

		function h(e, t) {
			(isNaN(e) || e < 1) && (e = 1);
			var n = p(t);
			e > n && (e = n), t.$element.find('[pager-flag="gotoPage"]').val(e)
		}

		function p(e) {
			var t = e.getTotal(),
				n = e.getPagesize();
			return Math.ceil(t / n)
		}

		function u(e, t, i) {
			if(0 == e.pagerButtonsCount) {
				var a = parseInt(t.find('[pager-flag="simpleOnliOne"]')[0].innerText) - 1;
				t.find('[pager-flag="simpleOnliOne"]').text(a), 1 == a && t.find('[pager-flag="simplePrev"]').addClass("bh-btn-disabled")
			} else {
				var o = t.find(".bh-simplePager-active");
				o.prev().prev().hasClass("ellipsis") ? e.pagenum = parseInt(o.text()) - Math.floor(e.pagerButtonsCount / 2) : e.pagenum = parseInt(o.text()) - e.pagerButtonsCount + 1, n(e, t, i), t.find(".bh-simplePager-active").removeClass("bh-simplePager-active");
				var r = t.find("[pager-flag=simpleGotoPage]"),
					s = r.filter(function(e) {
						return parseInt(r[e].innerText) == parseInt(o.text()) - 1
					});
				s.addClass("bh-simplePager-active"), 1 == parseInt(s.text()) && t.find("[pager-flag=simplePrev]").addClass("bh-btn-disabled")
			}
		}

		function f(e, t, i) {
			if(0 == e.pagerButtonsCount) {
				var a = parseInt(t.find('[pager-flag="simpleOnliOne"]')[0].innerText) + 1;
				t.find('[pager-flag="simpleOnliOne"]').text(a), a == i && t.find('[pager-flag="simpleNext"]').addClass("bh-btn-disabled")
			} else {
				var o = t.find(".bh-simplePager-active").text();
				e.pagenum = parseInt(o), n(e, t, i)
			}
		}

		function g(e, t) {
			var n = e.getPagenum() - 1,
				i = e.getPagesize(),
				a = e.getTotal();
			t.trigger("pagersearch", [n, i, a])
		}
		var v, b = '<div class="bh-pager bh-hide"><div class="bh-pull-left"><a href="javascript:void(0);" class="bh-pager-btn waves-effect" pager-flag="prev"><i class="iconfont icon-keyboardarrowleft bh-pager-left-arrow"></i></a><a href="javascript:void(0);" class="bh-pager-btn waves-effect" pager-flag="next"><i class="iconfont icon-keyboardarrowright bh-pager-right-arrow"></i></a><span class="bh-pager-num" pager-flag="pageInfo"></span><label class="bh-pager-label">跳转至</label><input type="text" class="bh-form-control bh-pager-input" pager-flag="gotoPage"/><span>页</span></div><div class="bh-pull-right"><div pager-flag="pagerOptionSel" class="bh-pull-right"></div><label class="bh-pull-right bh-pager-label bh-pager-right-text">每页显示</label></div></div>',
			m = '<div class="bh-pager bh-hide"><div class="bh-pull-left"><a href="javascript:void(0);" class="waves-effect bh-pager-simplePrev bh-pager-btn" pager-flag="simplePrev"><i class="iconfont icon-keyboardarrowleft"></i></a><div class="bh-pageNum-con" pager-flag="pageNumEle"></div><a href="javascript:void(0);" class="waves-effect bh-pager-simpleNext bh-pager-btn" pager-flag="simpleNext"><i class="iconfont icon-keyboardarrowright"></i></a></div><div class="bh-pull-right"><label class="bh-pull-right bh-pager-label bh-mh-16">共<span id="bh-pager-simple-total"></span>条</label></div></div>';
		$.fn.pagination = function(e, t) {
			var n = new v(this, e);
			return !0 === e ? n : this
		}, $.fn.pagination.defaults = {
			mode: "advanced",
			pagesize: 10,
			pageSizeOptions: [10, 20, 50, 100],
			selectedIndex: 0,
			pagenum: 0,
			totalSize: 0,
			pagerButtonsCount: 0
		}, v = function() {
			function t(t, n) {
				this.settings = $.extend({}, $.fn.pagination.defaults, n);
				for(var i = n.pagesize, a = this.settings.pageSizeOptions, o = 0; o < a.length; o++) a[o] == i && (this.settings.selectedIndex = o);
				this.$element = $(t), e(this)
			}
			return t
		}(), v.prototype.getPagenum = function() {
			return "advanced" == this.settings.mode ? parseInt(this.$element.find('[pager-flag="gotoPage"]').val()) : "simple" == this.settings.mode ? 0 == this.pageSizeOptions ? parseInt(this.$element.find('[pager-flag="simpleOnliOne"]')[0].innerText) : parseInt(this.$element.find(".bh-simplePager-active").text()) : void 0
		}, v.prototype.getPagesize = function() {
			return "advanced" == this.settings.mode ? this.$element.find('[pager-flag="pagerOptionSel"]').jqxDropDownList("val") : "simple" == this.settings.mode ? this.settings.pagesize : void 0
		}, v.prototype.getTotal = function() {
			return this.settings.totalSize
		}
	}.call(void 0),
	function(e) {
		function t(t) {
			var i = e("body");
			i.scrollTop(0);
			var o = "",
				l = u();
			t = a(t, l), l.length > 0 && (l.find(".bh-paper-pile-closeIcon").hide(), l.find(".bh-paper-pile-dialog-container").addClass("bh-bg-transparent")), setTimeout(function() {
				if(l.length > 0) l.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").hide();
				else {
					var t = "",
						n = r();
					t = n || e("[bh-container-role=container]"), t && t.length > 0 && t.addClass("bh-border-transparent").addClass("bh-bg-transparent")
				}
			}, 450), t.titleContainer.addClass("bh-animated-doubleTime").removeClass("bh-paper-pile-dialog-parentTitle-toRestore").addClass("bh-paper-pile-dialog-parentTitle-toSmall"), setTimeout(function() {
				t.titleContainer.addClass("bh-paper-pile-dialog-parentTitle-change")
			}, 720);
			var c = t.titleContainer.attr("bh-paper-pile-dialog-role-title-guid");
			if(c) o = e("div[bh-paper-pile-dialog-role-guid=" + c + "]"), o.removeClass("bh-negative-zIndex").show(), o.find("div.bh-paper-pile-dialog-container").removeClass("bh-paper-pile-dialog-outDown").addClass("bh-paper-pile-dialog-intoUp"), setTimeout(function() {
				void 0 !== t.open && t.open instanceof Function && t.open()
			}, 900), void 0 !== t.openBefore && t.openBefore instanceof Function && t.openBefore();
			else {
				var h = N(),
					p = m();
				t = s(t);
				var f = "",
					v = "bhFooterNoActiveFlag";
				t.footer && (f = t.footer, v = "");
				var b = t.layoutRole ? t.layoutRole : "",
					k = t.layoutClass ? t.layoutClass : "",
					w = t.referenceContainer.outerWidth(),
					x = t.titleContainer.offset();
				x || g("触发纸质弹框的页面没有h2");
				var D = x.top,
					I = t.referenceContainer.offset().left,
					S = D + 32,
					P = "";
				P += "left:" + I + "px;", P += "top:" + S + "px;", P += "width:" + w + "px;";
				var E = d();
				P += "height:-moz-calc(100% - " + parseInt(S + E.footerHeight) + "px);", P += "height:-webkit-calc(100% - " + parseInt(S + E.footerHeight) + "px);", P += "height:calc(100% - " + parseInt(S + E.footerHeight) + "px);";
				var B = t.title ? 68 : 0,
					A = E.windowHeight - E.footerHeight - S - B;
				p = p.replace("@title", t.title).replace("@footerHtml", f).replace("@footerClass", v).replace("@content", t.content).replace("@guid", h).replace("@style", P).replace("@bodyStyle", "min-height:" + A + "px").replace(/@layoutRole/g, b).replace("@layoutClass", k), o = e(p), 0 === t.insertContainer.length && (t.insertContainer = i), t.title || (o.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]").hide(), t.layoutRole && -1 !== t.layoutRole.indexOf("navLeft") || o.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").css("margin-top", "24px")), t.hideCloseIcon && o.find("[bh-paper-pile-dialog-role=bhPaperPileDialogCloseIcon]").hide(), t.aside ? o.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").before(t.aside) : o.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").before('<aside bh-paper-pile-dialog-role="aside"></aside>'), t.insertContainer.append(o);
				var $ = 1,
					H = i.data("bh-paper-pile-dialog"),
					O = {
						titleContainer: t.titleContainer,
						insertContainer: t.insertContainer,
						referenceContainer: t.referenceContainer,
						addDialogFlagClass: t.addDialogFlagClass,
						toHideContainer: t.toHideContainer,
						close: t.close,
						autoDestroy: t.autoDestroy,
						closeBefore: t.closeBefore,
						guid: h,
						index: $
					};
				if(H ? ($ = H.length + 1, O.index = $, H.push(O)) : H = [O], i.data("bh-paper-pile-dialog", H), o.attr("bh-paper-pile-dialog-role-index", $), t.titleContainer.attr("bh-paper-pile-dialog-role-title-guid", h), t.referenceContainer.attr("bh-paper-pile-dialog-role-container-guid", h), t.toHideContainer) {
					var M = t.toHideContainer.length;
					if(M > 1)
						for(var L = 0; L < M; L++) t.toHideContainer[L].attr("bh-paper-pile-dialog-role-hide-container-guid", h);
					else {
						t.toHideContainer.attr("bh-paper-pile-dialog-role-hide-container-guid", h);
						var j = t.multipleHideContainer,
							R = j.length;
						if(R > 0)
							for(var z = 0; z < R; z++) {
								var _ = j[z];
								_.length > 0 && _.attr("bh-paper-pile-dialog-role-hide-container-guid", h)
							}
					}
				}
				if(t.addDialogFlagClass && o.addClass(t.addDialogFlagClass), t.footer) {
					o.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").css({
						"padding-bottom": 66
					})
				}
				o.data("closeFun", t.close), o.data("closeBeforeFun", t.closeBefore);
				var F = n(o);
				if(t.compile && t.compile(F.dialogHeader, F.dialogSection, F.dialogFooter, F.dialogAside), setTimeout(function() {
						T(o, t), t.openDialogDom.length > 0 && (t.openDialogDom.attr("bh-paper-pile-dialog-bind-btn", h), t.openDialogDom.trigger("ready", [F.dialogHeader, F.dialogSection, F.dialogFooter, F.dialogAside])), void 0 !== t.ready && t.ready instanceof Function && t.ready(F.dialogHeader, F.dialogSection, F.dialogFooter, F.dialogAside)
					}, 910), t.openDialogDom.length > 0 && t.openDialogDom.trigger("render", [F.dialogHeader, F.dialogSection, F.dialogFooter, F.dialogAside]), void 0 !== t.render && t.render instanceof Function) {
					var F = n(o);
					t.render(F.dialogHeader, F.dialogSection, F.dialogFooter, F.dialogAside)
				}
			}
			if(t.toHideContainer) {
				var M = t.toHideContainer.length;
				if(M > 1)
					for(var L = 0; L < M; L++) t.toHideContainer[L].hide();
				else {
					t.toHideContainer.hide();
					var j = t.multipleHideContainer,
						R = j.length;
					if(R > 0)
						for(var z = 0; z < R; z++) {
							var _ = j[z];
							_.length > 0 && _.hide()
						}
				}
			}
			setTimeout(function() {
				y(o, t), o.find("div.bh-paper-pile-dialog-container").removeClass("bh-paper-pile-dialog-intoUp"), C(o), BH_UTILS && BH_UTILS.wavesInit()
			}, 900), e("[bh-footer-role=footer]").hide()
		}

		function n(e) {
			var t = e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"),
				n = e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),
				i = n.children("section"),
				a = e.find("[bh-paper-pile-dialog-role=aside]");
			return {
				dialogHeader: t,
				dialogSection: i,
				dialogFooter: e.find("[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").children("footer"),
				dialogAside: a
			}
		}

		function i(t) {
			return e('[bh-paper-pile-dialog-bind-btn="' + t + '"]')
		}

		function a(e, t) {
			if(t) e = o(e, t, !0);
			else {
				var n = r();
				n && n.length > 0 && (e = o(e, n, !1))
			}
			return e
		}

		function o(e, t, n) {
			if(t && t.length > 0 && (e.titleContainer || (n ? e.titleContainer = t.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]") : t.children("h2").length > 0 ? e.titleContainer = t.children("h2") : e.titleContainer = t.children("hgroup")), e.referenceContainer || (e.referenceContainer = n ? t.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]") : t), !e.toHideContainer))
				if(n) {
					var i = e.referenceContainer.closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]");
					e.toHideContainer = i.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]");
					var a = i.children(".bh-paper-pile-dialog-container").children("aside"),
						o = i.find('[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]'),
						r = i.find('[bh-paper-pile-dialog-role="pageFooter"]');
					e.multipleHideContainer.push(a), e.multipleHideContainer.push(r), o.hasClass("bhFooterNoActiveFlag") || e.multipleHideContainer.push(o)
				} else {
					var s = t.attr("bh-layout-role");
					s && s.indexOf("navLeft") > -1 ? e.toHideContainer = [t.children("section"), t.children("nav")] : e.toHideContainer = t.children("section")
				}
			return e
		}

		function r() {
			var t = null,
				n = e("body");
			if(n.children("main").length > 0) {
				var i = n.children("main").children("article");
				i.length > 0 && (t = i)
			}
			return t
		}

		function s(t) {
			var n = t.content,
				i = e(n),
				a = i.children("h2"),
				o = i.children("footer"),
				r = !1;
			if((0 === t.openDialogDom.length || i.length > 0) && "article" === i[0].localName && i.children("section").length > 0 && (r = !0), t.title ? (t.title = '<h2 class="bh-paper-pile-dialog-headerTitle" bh-paper-pile-dialog-role="bhPaperPileDialogHeader">' + t.title + "</h2>", r && a.remove()) : a.length > 0 ? (a.addClass("bh-paper-pile-dialog-headerTitle").attr("bh-paper-pile-dialog-role", "bhPaperPileDialogHeader"), t.title = a[0].outerHTML, a.remove()) : t.openDialogDom.length > 0 && "false" !== t.openDialogDom.attr("bh-show-head") && (t.title = '<h2 class="bh-paper-pile-dialog-headerTitle" bh-paper-pile-dialog-role="bhPaperPileDialogHeader"></h2>'), t.footer ? (t.footer = '<footer class="bh-clearfix">' + t.footer + "</footer>", r && o.remove()) : o.length > 0 ? (o.addClass("bh-clearfix"), t.footer = o[0].outerHTML, o.remove()) : t.openDialogDom.length > 0 && "false" !== t.openDialogDom.attr("bh-show-footer") && (t.footer = '<footer class="bh-clearfix"></footer>'), r) {
				var s = i.children("aside");
				s.length > 0 && (t.aside = s[0].outerHTML, s.remove()), t.layoutRole = i.attr("bh-layout-role"), t.layoutClass = i.attr("class"), t.content = i[0].innerHTML
			} else t.content = "<section>" + t.content + "</section>";
			return t
		}

		function l(e) {
			var t = d(),
				n = e.offset().top,
				i = t.windowHeight - t.footerHeight - n;
			e.css("min-height", i + "px")
		}

		function d() {
			return {
				windowHeight: e(window).height(),
				footerHeight: e("[bh-footer-role=footer]").outerHeight(),
				headerHeight: e("[bh-header-role=bhHeader]").outerHeight()
			}
		}

		function c(t) {
			var n = "",
				i = "",
				a = "",
				o = "";
			if(t.titleContainer ? (i = t.titleContainer, o = i.attr("bh-paper-pile-dialog-role-title-guid")) : t.referenceContainer ? (a = t.titleContainer, o = a.attr("bh-paper-pile-dialog-role-container-guid")) : t.guid && (o = t.guid), !o) {
				var r = u();
				n = r || e("div[bh-paper-pile-dialog-role=bhPaperPileDialog]"), o = n.attr("bh-paper-pile-dialog-role-guid")
			}
			if(n || (n = e("div[bh-paper-pile-dialog-role-guid=" + o + "]")), n.length > 0) {
				if("true" === n.attr("hide-flag")) return;
				n.attr("hide-flag", "true");
				var s = n.attr("bh-paper-pile-dialog-role-index");
				s = parseInt(s, 10);
				var l = e("body").data("bh-paper-pile-dialog"),
					d = l.length;
				if(t.isHideAll && (s = 1), s < d)
					for(var c = d; c >= s; c--) {
						var p = l[c - 1];
						if(p) {
							var f = p.guid;
							o = f, p.ignoreAllCallback = !0, h(f, p)
						}
					} else {
						for(var g = 0; g < d; g++) {
							var p = l[g],
								f = p.guid;
							if(f === o) {
								t = e.extend({}, p, t);
								break
							}
						}
						h(o, t)
					}
			}
			e.bhPropertyDialog.showScrollBar()
		}

		function h(t, n) {
			n.guid = t;
			var a = i(t);
			if(a.length > 0) {
				var o = a.triggerHandler("closeBefore");
				if("boolean" == typeof o && !o) return void e("[bh-paper-pile-dialog-role-guid=" + t + "]").attr("hide-flag", "false")
			}
			if(!n.ignoreCloseBeforeCallback && !n.ignoreAllCallback && n.closeBefore && n.closeBefore instanceof Function) {
				n.closeBefore() ? p(t, n) : e("[bh-paper-pile-dialog-role-guid=" + t + "]").attr("hide-flag", "false")
			} else p(t, n)
		}

		function p(t, a) {
			var o = e("[bh-paper-pile-dialog-role-guid=" + t + "]"),
				s = e("[bh-paper-pile-dialog-role-title-guid=" + t + "]"),
				l = o.find("div.bh-paper-pile-dialog-container");
			o.find('div[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]').remove(), l.removeClass("bh-paper-pile-dialog-intoUp").addClass("bh-paper-pile-dialog-outDown"), s.removeClass("bh-paper-pile-dialog-parentTitle-toSmall").removeClass("bh-paper-pile-dialog-parentTitle-change").addClass("bh-paper-pile-dialog-parentTitle-toRestore");
			var d = s.closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]");
			setTimeout(function() {
				if(d.length > 0) d.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").show();
				else {
					var t = r(),
						n = "";
					n = t || e("[bh-container-role=container]"), n && n.length > 0 && n.removeClass("bh-border-transparent").removeClass("bh-bg-transparent")
				}
				l.removeClass("bh-bg-transparent"), f({
					titleContainer: "",
					referenceContainer: "",
					dialogContainer: "",
					guid: ""
				}), D({
					titleContainer: "",
					referenceContainer: ""
				})
			}, 450), setTimeout(function() {
				d.length > 0 && d.find(".bh-paper-pile-closeIcon").show(), o.addClass("bh-negative-zIndex").hide();
				var r = i(t);
				setTimeout(function() {
					if(!a.ignoreCloseCallback && !a.ignoreAllCallback && a.close && a.close instanceof Function) {
						var e = n(o);
						a.close(e.dialogHeader, e.dialogSection, e.dialogFooter, e.dialogAside)
					}
					r.length > 0 && r.removeAttr("bh-paper-pile-dialog-bind-btn").trigger("close")
				}, 150), (a && a.destroy || a && a.autoDestroy) && v(a), a.toShowContainer ? a.toShowContainer.show() : e("body").find("[bh-paper-pile-dialog-role-hide-container-guid=" + t + "]").show(), 0 === e("body").find('[bh-paper-pile-dialog-role="bhPaperPileDialog"]').length && e('[bh-footer-role="footer"]').show()
			}, 900)
		}

		function u() {
			var t = "",
				n = e("body").find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]");
			return n.length > 0 && n.each(function() {
				var n = e(this);
				parseInt(n.attr("bh-paper-pile-dialog-role-index"), 10) > 0 && (t = n)
			}), t
		}

		function f(e) {}

		function g(e) {
			console && console.error && console.error(e)
		}

		function v(t) {
			var n = P(t);
			if(n) b(n);
			else {
				e("body").find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]").each(function() {
					b(e(this).attr("bh-paper-pile-dialog-role-guid"))
				})
			}
		}

		function b(t) {
			var n = e("div[bh-paper-pile-dialog-role-guid=" + t + "]");
			if(0 !== n.length) {
				var i = n.attr("bh-paper-pile-dialog-role-index");
				i = parseInt(i, 10), e("[bh-paper-pile-dialog-role-title-guid=" + t + "]").removeAttr("bh-paper-pile-dialog-role-title-guid").off("click"), e("[bh-paper-pile-dialog-role-container-guid=" + t + "]").removeAttr("bh-paper-pile-dialog-role-container-guid"), n.remove();
				var a = e("body").data("bh-paper-pile-dialog"),
					o = a.length;
				if(1 === o) e("body").removeData("bh-paper-pile-dialog");
				else {
					for(var r = [], s = 0; s < o; s++) {
						var l = a[s],
							d = l.index;
						d != i && (d > i ? (l.index = d - 1, r.push(l)) : r.push(l))
					}
					e("body").data("bh-paper-pile-dialog", r)
				}
			}
		}

		function m() {
			var t = e('[bh-footer-role="footer"]').clone(),
				n = "",
				i = "bhNoPageFooterFlag";
			return t.length > 0 ? (t.removeAttr("bh-footer-role").removeAttr("style").removeAttr("id").attr("bh-paper-pile-dialog-role", "pageFooter"), n = t[0].outerHTML, i = "") : n = '<footer bh-paper-pile-dialog-role="pageFooter"></footer>', '<div class="bh-paper-pile-dialog @layoutRole ' + i + '" style="@style" bh-paper-pile-dialog-role="bhPaperPileDialog" bh-paper-pile-dialog-role-guid="@guid"><div class="bh-paper-pile-dialog-container bh-animated-doubleTime bh-paper-pile-dialog-intoUp"><i class="iconfont icon-close bh-pull-right bh-paper-pile-closeIcon" bh-paper-pile-dialog-role="bhPaperPileDialogCloseIcon"></i>@title<div class="bh-paper-pile-body bh-card bh-card-lv1 @layoutClass" bh-paper-pile-dialog-role="bhPaperPileDialogBody" bh-layout-role="@layoutRole" style="@bodyStyle">@content</div>' + n + '<div class="bh-paper-pile-dialog-footer bh-border-v @footerClass" bh-paper-pile-dialog-role="bhPaperPileDialogFooter">@footerHtml</div></div></div>'
		}

		function y(e, t, n) {
			var i = "";
			if(t.footer) {
				var a = e.outerWidth(),
					o = e.offset().left;
				i = "left:" + o + "px;width:" + a + "px;position:fixed;bottom:0;top:auto;display:block;", "get" !== n && (e.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]").removeClass("bh-paper-pile-dialog-footer-on-relative"), e.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").css({
					left: o + "px",
					width: a + "px",
					position: "fixed",
					bottom: "0",
					top: "auto",
					display: "block"
				}).removeClass("bh-paper-pile-dialog-footer-relative"))
			}
			return i
		}

		function k(t) {
			var n = {},
				i = e(window),
				a = e("body"),
				o = i.scrollTop(),
				r = i.height(),
				s = 0;
			window.navigator.userAgent;
			s = window.ActiveXObject || "ActiveXObject" in window ? document.documentElement.scrollHeight : a.get(0).scrollHeight;
			var l = t.find('[bh-paper-pile-dialog-role="pageFooter"]').outerHeight();
			if(t) {
				var d = t.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),
					c = d.outerHeight(!0),
					h = t.outerHeight(),
					p = t.offset(),
					u = d.offset(),
					f = 0,
					g = t.find('div[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]');
				g.length > 0 && (f = g.outerHeight(!0)), n.dialogBodyHeight = c, n.dialogBodyOffset = u, n.dialogOffset = p, n.dialogHeight = h, n.dialogFooterHeight = f
			}
			return n.windowHeight = r, n.scrollTop = o, n.bodyHeight = s, n.footerHeight = l, n
		}

		function C(e) {
			var t = k(e),
				n = e.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]"),
				i = y(e, {
					footer: !0
				}, "get");
			n.attr("bh-paper-pile-dialog-role-footer-fixed", i);
			var a = t.bodyHeight - t.footerHeight,
				o = t.dialogBodyHeight + t.dialogOffset.top;
			o <= t.windowHeight && (o < a ? x(n, "low") : x(n))
		}

		function w(t) {
			var n = k(t);
			t.find("div[bh-paper-pile-dialog-role=bhPaperPileDialogFooter]").each(function() {
				var i = e(this);
				if("none" !== i.css("display")) {
					if(n.windowHeight + n.scrollTop + n.footerHeight >= n.bodyHeight) x(i, "low"), i.addClass("bh-border-v").removeClass("bh-border"), t.find('[bh-paper-pile-dialog-role="bhPaperPileDialogBody"]').addClass("bhRelativeFlag").removeClass("bhFixedFlag");
					else {
						var a = i.attr("bh-paper-pile-dialog-role-footer-fixed");
						i.attr("style", a).removeClass("bh-border-v").addClass("bh-border"), t.find('[bh-paper-pile-dialog-role="bhPaperPileDialogBody"]').removeClass("bhRelativeFlag").addClass("bhFixedFlag")
					}
					return !1
				}
			})
		}

		function x(t, n) {
			if(0 !== t.contents().length) {
				var i = e("[bh-footer-role=footer]").outerHeight(),
					a = t.closest('div[bh-paper-pile-dialog-role="bhPaperPileDialog"]'),
					o = a.find("[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"),
					r = o.attr("bh-layout-role"),
					s = a.find("[bh-paper-pile-dialog-role=bhPaperPileDialogHeader]"),
					l = t.outerHeight(),
					d = l + i,
					c = 0,
					h = "";
				o.children().each(function() {
					var t = e(this);
					if("nav" === t[0].localName && (h = "navLeft"), "navLeft" === h) {
						var n = 0;
						t.children().each(function() {
							n += e(this).outerHeight()
						}), n > c && (c = n)
					} else {
						var i = t.outerHeight();
						c += i
					}
				});
				var p = parseInt(o.css("min-height"), 10);
				if(p = p || 0, c + l < p) {
					t.removeAttr("style");
					var u = s.length > 0 ? s.outerHeight() : 0;
					c += u, c += 24, t.css({
						bottom: "auto"
					}).addClass("bh-paper-pile-dialog-footer-relative"), r.indexOf("navLeft") > -1 && o.addClass("bh-paper-pile-dialog-footer-on-relative")
				} else "absolute" !== t.css("position") ? t.css({
					left: 0,
					bottom: d + "px",
					position: "relative"
				}) : t.css({
					top: "auto",
					bottom: "0"
				}), o.removeClass("bh-paper-pile-dialog-footer-on-relative");
				t.show()
			}
		}

		function T(t, n) {
			t.on("click", "i[bh-paper-pile-dialog-role=bhPaperPileDialogCloseIcon]", function() {
				var t = e(this).closest("[bh-paper-pile-dialog-role=bhPaperPileDialog]").attr("bh-paper-pile-dialog-role-guid");
				n.guid = t, c(n)
			}), n.hideCloseIcon ? n.titleContainer.css({
				cursor: "default"
			}) : n.titleContainer.on("click", function() {
				var t = e(this).attr("bh-paper-pile-dialog-role-title-guid");
				n.guid = t, c(n)
			}), n.footer && e(window).scroll(function(e) {
				w(t)
			})
		}

		function D(t) {
			var n = P(t);
			n && setTimeout(function() {
				var i = e("div[bh-paper-pile-dialog-role-guid=" + n + "]");
				if(i.find('[bh-paper-pile-dialog-role="bhPaperPileDialogFooter"]').html()) {
					var a = k(i);
					a.dialogBodyHeight + a.dialogOffset.top < a.windowHeight ? C(i) : y(i, {
						footer: !0
					}), f(t)
				}
			}, 50)
		}

		function N() {
			return I() + I() + "-" + I() + "-" + I() + "-" + I() + "-" + I() + I() + I()
		}

		function I() {
			return(65536 * (1 + Math.random()) | 0).toString(16).substring(1)
		}

		function S(t) {
			var n = P(t);
			if(n) {
				l(e("div[bh-paper-pile-dialog-role-guid=" + n + "]").find("div[bh-paper-pile-dialog-role=bhPaperPileDialogBody]"))
			}
		}

		function P(e) {
			var t = "";
			if(e.guid) t = e.guid;
			else if(e.titleContainer) t = e.titleContainer.attr("bh-paper-pile-dialog-role-title-guid");
			else if(e.referenceContainer) t = e.referenceContainer.attr("bh-paper-pile-dialog-role-container-guid");
			else {
				var n = u();
				n.length > 0 && (t = n.attr("bh-paper-pile-dialog-role-guid"))
			}
			return t
		}
		e(document).on("click", "[bh-paper-pile-dialog]", function() {
			var t = e.trim(e(this).attr("bh-paper-pile-dialog")),
				n = {
					openDialogDom: e(this)
				};
			t && (n.content = e("#" + t).html()), e.bhPaperPileDialog.show(n)
		}), e.bhPaperPileDialog = {
			show: function(n) {
				var i = {
					openDialogDom: "",
					titleContainer: "",
					insertContainer: e("#levityPlaceholder"),
					referenceContainer: "",
					addDialogFlagClass: "",
					toHideContainer: "",
					multipleHideContainer: [],
					hideCloseIcon: !1,
					title: "",
					content: "",
					footer: "",
					aside: "",
					close: null,
					autoDestroy: !0,
					closeBefore: null,
					open: null,
					openBefore: null,
					ready: null,
					render: null
				};
				n = e.extend({}, i, n), t(n)
			},
			resetPageFooter: function(e) {},
			resetMinHeight: function(t) {
				var n = {
					titleContainer: "",
					referenceContainer: "",
					guid: ""
				};
				t = e.extend({}, n, t), S(t)
			},
			resetDialogFooter: function(e) {},
			hide: function(t) {
				var n = {
					titleContainer: "",
					referenceContainer: "",
					guid: "",
					isHideAll: !1,
					ignoreAllCallback: !1,
					ignoreCloseCallback: !1,
					ignoreCloseBeforeCallback: !1,
					destroy: !0
				};
				t = e.extend({}, n, t), c(t)
			},
			destroy: function(t) {
				var n = {
					titleContainer: "",
					referenceContainer: "",
					guid: ""
				};
				t = e.extend({}, n, t), v(t)
			}
		}
	}(jQuery);
var JPlaceHolder = {
	_check: function() {
		return "placeholder" in document.createElement("input")
	},
	init: function(e) {
		this._check() || this.fix(e)
	},
	fix: function(e) {
		e = e || document, jQuery("input[placeholder], textarea[placeholder]", $(e)).each(function(e, t) {
			var n = $(this),
				i = n.attr("placeholder");
			n.wrap($('<div role="bh-placeholder-wrap"></div>').css({
				position: "relative",
				zoom: "1",
				border: "none",
				background: "none",
				padding: "none",
				margin: "none"
			}));
			var a = n.position(),
				o = n.height(),
				r = o,
				s = parseInt(n.css("padding-left")),
				l = parseInt(n.css("padding-top")),
				d = (parseInt(n.css("padding-bottom")), parseInt(n.css("margin-left"))),
				c = parseInt(n.css("margin-top"));
			"TEXTAREA" === n[0].tagName && (r = 14);
			var h = n.css("font-size") ? n.css("font-size") : "14px",
				p = r + "px",
				u = $('<span role="bh-placeholder"></span>').text(i).css({
					"font-size": h,
					zIndex: "2",
					position: "absolute",
					left: a.left + d + "px",
					top: a.top + c + l + "px",
					height: o + "px",
					lineHeight: p,
					paddingLeft: s + "px",
					color: "#aaa",
					overflow: "hidden",
					"text-overflow": "ellipsis",
					"white-space": "nowrap",
					"max-width": "100%"
				}).appendTo(n.parent());
			n.focusin(function(e) {
				u.hide()
			}).focusout(function(e) {
				n.val() ? u.hide() : u.show()
			}).keyup(function(e) {
				n.val() && u.hide()
			}), u.click(function(e) {
				u.hide(), n.focus()
			})
		})
	},
	resize: function(e) {
		e = e || document, jQuery("input[placeholder], ", $(e)).each(function(e, t) {
			var n = $(this).parent('[role="bh-placeholder-wrap"]');
			if(0 != n.length) {
				var i = $(this).height();
				$('[role="bh-placeholder"]', n).css({
					"line-height": i
				})
			}
		})
	}
};
! function() {
	$.bhPopOver = function(e) {
		$("#bhPopover").length && $("#bhPopover").remove(), e = $.extend({}, $.bhPopOver.prototype.dafaults, e), "string" == typeof e.selector && (e.selector = $(e.selector));
		var t = $('<div style="display: none" id="bhPopover" style="z-index: ' + e.zIndex + '"><style>#bhPopover {z-index: ' + e.zIndex + "!important;}</style><div>" + e.content + "</div></div>");
		$("body").append(t);
		var n = document.documentElement.clientWidth,
			i = $(e.selector).offset().left,
			a = e.width || 300,
			o = 0;
		i - a / 2 < 24 && (o = Math.abs(i - a / 2 - 24)), i + a / 2 > n - 24 && (o = n - 100 - i - a / 2);
		var r = $(e.selector).offset().top,
			s = $(e.selector).height(),
			l = 0,
			d = "bottom";
		window.scrollY + document.documentElement.clientHeight - r - s < (e.height || 200) && (d = "top"), e.offset && e.offset.left && (o += e.offset.left), e.offset && e.offset.top && (l += e.offset.top), t.jqxPopover({
			offset: {
				left: o,
				top: l
			},
			arrowOffsetValue: -o,
			showArrow: e.showArrow,
			autoClose: e.autoClose,
			isModal: e.isModal,
			title: e.title,
			selector: e.selector,
			width: e.width,
			height: e.height,
			showCloseButton: e.showCloseButton,
			position: d
		}), setTimeout(function() {
			t.jqxPopover("open");
			var n = $("#bhPopover");
			null != e.title && "" != e.title || ($(".jqx-popover-title h4", n).hide(), $(".jqx-popover-title", n).css("padding-top", "6px")), n.on("close", function() {
				e.beforeClose && e.beforeClose(n), $(this).jqxPopover("destroy"), e.close && e.close(n)
			}), e.ready && e.ready.call(n, n)
		}, 0)
	}, $.bhPopOver.close = function() {
		var e = $("#bhPopover");
		e.length && e.jqxPopover("close")
	}, $.bhPopOver.prototype.dafaults = {
		title: void 0,
		content: void 0,
		selector: void 0,
		width: 300,
		height: null,
		autoClose: !0,
		showCloseButton: !0,
		isModal: !1,
		ready: null,
		beforeClose: null,
		close: null,
		zIndex: 18100
	}
}(),
function(e) {
	function t() {
		return 450
	}

	function n(n) {
		if(n.insertContainer && 0 === n.insertContainer.length) return void(void 0 !== window.console && window.console.error("insertContainer 要插入的容器不存在"));
		var r = e("div[bh-property-dialog-role=bhPropertyDialog]");
		if(n = f(n), n = i(n), 0 === r.length) {
			var s = o(),
				l = "";
			n.footer && (l = "default" === n.footer ? a() : n.footer), s = s.replace("@title", n.title).replace("@content", n.content).replace("@footer", n.footer), r = e(s), l || r.find("[bh-property-dialog-role=footer]").hide(), n.insertContainer.append(r), c(), p(r, n);
			var d = r.find("[bh-property-dialog-role=header]"),
				h = r.find("[bh-property-dialog-role=body]"),
				u = r.find("[bh-property-dialog-role=footer]"),
				v = d.children(),
				b = h.children(),
				m = u.children();
			n.compile && n.compile(v, b, m);
			var y = BH_UTILS.NewGuid();
			r.attr("bh-property-dialog-guid", y), setTimeout(function() {
				n.openDialogDom.length > 0 && (n.openDialogDom.attr("bh-property-dialog-bind-btn", y), n.openDialogDom.trigger("ready", [d, h, u])), void 0 !== n.ready && n.ready instanceof Function && n.ready(v, b, m), BH_UTILS && BH_UTILS.wavesInit(), r.find("[bh-property-dialog-role=body]").niceScroll({
					zindex: 99999,
					horizrailenabled: !1
				})
			}, t())
		} else setTimeout(function() {
			void 0 !== n.open && n.open instanceof Function && n.open()
		}, t());
		n.hideCover || r.find(".bh-property-dialog-cover").show().removeClass("bh-property-dialog-cover-fadeOut").addClass("bh-property-dialog-cover-fadeIn"), g(r, n), r.show(), r.find("div.bh-property-dialog-container").removeClass("bh-outRight").addClass("bh-intoRight"), setTimeout(function() {
			e("body").addClass("sc-overflow-hide")
		}, t() + 50)
	}

	function i(t) {
		var n = null;
		if(t.content) {
			var i = e(t.content)[0];
			i && "section" !== i.localName && (n = e("<section>" + t.content + "</section>"))
		} else {
			var o = t.insertContainer;
			o && o[0] && "aside" === o[0].localName && (n = e(t.selector ? "<div>" + o.find(t.selector).html() + "</div>" : "<div>" + o.find("script").html() + "</div>"))
		}
		if(t.title) {
			var r = e("<h3>" + t.title + "</h3>"),
				s = r.children();
			0 === s.length || s.length > 1 ? t.title = r[0].outerHTML : 1 === s.length && "h3" !== s[0].localName && (t.title = r[0].outerHTML)
		} else if(n) {
			var l = n.children("h3");
			l.length > 0 && (t.title = l[0].outerHTML)
		}
		var d = n ? n.children("section") : "";
		if(d.length > 0 && (t.content = d[0].outerHTML), t.footer) "default" === t.footer && (t.footer = a());
		else {
			var c = n ? n.children("footer") : "";
			c.length > 0 && (c.children().length > 0 ? t.footer = c[0].outerHTML : t.footer = a())
		}
		return t
	}

	function a() {
		return '<footer><a class="bh-btn bh-btn-primary bh-btn-large" bh-property-dialog-role="okBtn">确定</a><a class="bh-btn bh-btn-default bh-btn-large" bh-property-dialog-role="cancelBtn">取消</a></footer>'
	}

	function o() {
		return '<div class="bh-property-dialog" bh-property-dialog-role="bhPropertyDialog"><div class="bh-property-dialog-container bh-animated bh-outRight bh-card bh-card-lv2"><i class="iconfont icon-close bh-pull-right bh-cursor-point" bh-property-dialog-role="closeIcon"></i><div class="bh-mb-16" bh-property-dialog-role="header">@title</div><div bh-property-dialog-role="body">@content</div><div class="bh-property-dialog-footer bh-animated bh-outDown" bh-property-dialog-role="footer">@footer</div></div><div class="bh-property-dialog-cover bh-animated bh-property-dialog-cover-fadeIn"></div></div>'
	}

	function r(n) {
		if(void 0 !== n.close && n.close instanceof Function) {
			var i = n.close();
			if("boolean" == typeof i && !i) return
		}
		var a = e("div[bh-property-dialog-role=bhPropertyDialog]");
		if(a.length > 0) {
			var o = s(a);
			if(o.length > 0) {
				var r = o.triggerHandler("beforeClose");
				if("boolean" == typeof r && !r) return
			}
			a.find("div.bh-property-dialog-container").removeClass("bh-intoRight").addClass("bh-outRight"), a.find("div.bh-property-dialog-cover").removeClass("bh-property-dialog-cover-fadeIn").addClass("bh-property-dialog-cover-fadeOut"), setTimeout(function() {
				o.length > 0 && o.removeAttr("bh-property-dialog-bind-btn").trigger("close"), a.hide(), a.find("div.bh-property-dialog-footer").hide().removeClass("bh-intoUp").addClass("bh-outDown"), (n.destroy || n.autoDestroy) && a.remove(), setTimeout(function() {
					e("body").removeClass("sc-overflow-hide")
				}, 50)
			}, t())
		}
	}

	function s(t) {
		var n = t.attr("bh-property-dialog-guid");
		return e('[bh-property-dialog-bind-btn="' + n + '"]')
	}

	function l() {
		e("div[bh-property-dialog-role=bhPropertyDialog]").find("div.bh-property-dialog-footer").removeClass("bh-intoUp").addClass("bh-outDown"), c()
	}

	function d() {
		e("div[bh-property-dialog-role=bhPropertyDialog]").find("div.bh-property-dialog-footer").removeClass("bh-outDown").addClass("bh-intoUp").show(), c(!0)
	}

	function c(n) {
		var i = "100% - 56px";
		n && (i = "100% - 56px - 52px"), e("div[bh-property-dialog-role=bhPropertyDialog]").find("[bh-property-dialog-role=body]").attr("style", "height: -moz-calc(" + i + ");height: -webkit-calc(" + i + ");height: calc(" + i + ");overflow: hidden;"), setTimeout(function() {
			e("body").addClass("sc-overflow-hide")
		}, t() + 50)
	}

	function h() {
		var t = e("div[bh-property-dialog-role=bhPropertyDialog]");
		t.length > 0 && (u(t), t.remove())
	}

	function p(t, n) {
		t.on("click", "i[bh-property-dialog-role=closeIcon]", function() {
			n.close = n.hide, e.bhPropertyDialog.hide(n)
		}), t.on("click", "[bh-property-dialog-role=okBtn]", function() {
			n.close = n.ok, e.bhPropertyDialog.hide(n)
		}), t.on("click", "[bh-property-dialog-role=cancelBtn]", function() {
			n.close = n.cancel, e.bhPropertyDialog.hide(n)
		})
	}

	function u(e) {
		e.off("click")
	}

	function f(t) {
		var n = e("body");
		if(!t.insertContainer) {
			if(n.find("[bh-paper-pile-dialog-role=bhPaperPileDialog]").length > 0) {
				var i = "",
					a = n.find("div[bh-paper-pile-dialog-role=bhPaperPileDialog]");
				a.length > 0 && a.each(function() {
					var t = e(this);
					parseInt(t.attr("bh-paper-pile-dialog-role-index"), 10) > 0 && (i = t)
				}), i.length > 0 && (t.insertContainer = i.children().children("aside"))
			} else if(n.children("main").length > 0) {
				var o = n.children("main").children("article");
				if(o.length > 0) {
					var r = o.children("aside");
					r.length > 0 ? t.insertContainer = r : (t.insertContainer = e("<aside></aside>"), o.append(t.insertContainer))
				}
			}
		}
		return t
	}

	function g(t, n) {
		var i = e(window),
			a = i.height(),
			o = i.scrollTop(),
			r = v(n.insertContainer),
			s = e('header[bh-header-role="bhHeader"]'),
			l = s.outerHeight(),
			d = e('header[bh-header-role="bhHeaderMini"]'),
			c = d.outerHeight(),
			h = !!s.hasClass("bh-normalHeader-hide"),
			p = h ? c : l,
			u = e("body").get(0).scrollHeight,
			f = e('[bh-footer-role="footer"]'),
			g = f.offset().top,
			b = f.outerHeight(),
			m = 0,
			y = l - c;
		o > r.top && (m = o - r.top + p);
		var k = r.height;
		h ? k = a + o + b >= u ? u - o - b - 4 - y : a - c : g > a && (k = a - r.top), t.css({
			top: m,
			height: k
		})
	}

	function v(e) {
		var t = e.outerHeight();
		return t ? {
			top: e.offset().top,
			height: t
		} : v(e.parent())
	}

	function b() {
		e("body").removeClass("sc-overflow-hide")
	}
	e(document).on("click", "[bh-property-dialog]", function() {
		var t = e(this),
			n = e.trim(t.attr("bh-property-dialog")),
			i = {
				openDialogDom: t
			};
		n && (i.selector = "#" + n), e.bhPropertyDialog.show(i)
	}), e.bhPropertyDialog = {
		show: function(t) {
			var i = {
				openDialogDom: "",
				insertContainer: "",
				title: "",
				content: "",
				footer: "",
				selector: "",
				hideCover: !1,
				autoDestroy: !0,
				ok: null,
				cancel: null,
				open: null,
				hide: null,
				ready: null
			};
			n(e.extend({}, i, t))
		},
		hide: function(t) {
			var n = {
				close: null,
				destroy: !0
			};
			r(e.extend({}, n, t))
		},
		footerHide: function() {
			l()
		},
		footerShow: function() {
			d()
		},
		destroy: function() {
			h()
		},
		showScrollBar: function() {
			b()
		}
	}
}(jQuery),
function(e) {
	function t(e) {
		e["progress-timer"] = setTimeout(function() {
			n(e);
			var i = e.getProgress();
			e.$element.find(".bh-current-progress-info").text(Math.round(i || 0)), t(e)
		}, 100)
	}

	function n(e) {
		var t = e["progress-timer"];
		clearTimeout(t)
	}

	function i(e) {
		var t = a(e.options);
		e.$element.html(t), e.setProgress(e.options.defaultProgress || e.options.total)
	}

	function a(e) {
		return '<div class="bh-progressbar-container" style="width:' + e.width + 'px"><div class="bh-progressbar">   <div class="bh-bg-progress"></div>   <div class="bh-current-progress" style="width:' + e.defaultProgress / e.total * 100 + '%">       <div class="bh-progress-head"></div>   </div></div><div class="bh-progress-info bh-mt-4" style="display:' + (e.showInfo ? "block" : "") + '">   <span class="bh-current-progress-info">' + e.defaultProgress + '</span>/<span class="bh-total-progress">' + e.total + "</span></div></div>"
	}
	var o;
	o = function() {
		function a(t, n) {
			this.options = e.extend(!0, {}, e.fn.bhProgressBar.defaults, n), this.$element = e(t), i(this)
		}
		return a.prototype.setProgress = function(n) {
			this.stopProgress(), t(this);
			var i = n / this.options.total,
				a = this.options.time * (n - this.getProgress()) / this.options.total * 1e3,
				o = this;
			return this.$element.find(".bh-current-progress").animate({
				width: 100 * i + "%"
			}, a, function() {
				var t = o.getProgress();
				o.$element.find(".bh-current-progress-info").text(Math.round(t || 0)), e.isFunction(o.options.progressFinished) && o.options.progressFinished(t, o.$element), o.stopProgress()
			}), this.$element
		}, a.prototype.getProgress = function() {
			var e = this.$element.find(".bh-current-progress");
			return Math.round(e.width() / e.parent().width() * this.options.total)
		}, a.prototype.stopProgress = function() {
			return n(this), this.$element.find(".bh-current-progress").stop()
		}, a
	}(), e.fn.bhProgressBar = function(t, n) {
		var i;
		return i = this.data("bhProgressBar"), !0 === t ? i : i ? "string" === e.type(t) ? i[t](n) : this : this.each(function() {
			return e(this).data("bhProgressBar", new o(this, t))
		})
	}, e.fn.bhProgressBar.defaults = {
		total: 100,
		time: 5,
		width: "100",
		showInfo: !1,
		defaultProgress: 0,
		progressFinished: null
	}
}(jQuery),
function(e) {
	function t(t, a) {
		var o = n(t),
			r = e(o);
		a.append(r), t.readonly || i(r, t)
	}

	function n(e) {
		var t = parseInt(e.score, 10),
			n = "";
		e.size && (n = "font-size: " + e.size + "px");
		for(var i = '<i class="iconfont icon-star" style="' + n + '"></i><i class="iconfont icon-staroutline" style="' + n + '"></i>', a = "", o = 0; o < 5; o++) a += o + 1 <= t ? '<div class="bh-star-item bh-active">' + i + "</div>" : '<div class="bh-star-item">' + i + "</div>";
		a = '<div class="bh-star-list ' + e.starClass + '">' + a + "</div>";
		var r = "";
		return e.isShowNum && (r = '<div class="bh-star-num ' + e.textClass + '"><span bh-star-role="number">' + t + "</span><span>" + e.text + "</span></div>"), '<div class="bh-star" bh-star-role="bhStar" bh-star-score="' + t + '">' + a + r + "</div>"
	}

	function i(t, n) {
		t.on("click", ".bh-star-item", function() {
			var i = e(this).index() + 1;
			n.score = i, a(t, i, n)
		}), t.on("mouseover", ".bh-star-item", function() {
			var i = e(this).index() + 1;
			a(t, i, n)
		}), t.on("mouseout", ".bh-star-list", function() {
			var e = parseInt(n.score, 10);
			a(t, e, n)
		})
	}

	function a(t, n, i) {
		t.find("div.bh-star-item").each(function(t) {
			t < n ? e(this).addClass("bh-active") : e(this).removeClass("bh-active")
		}), i.isShowNum && t.attr("bh-star-score", n).find('span[bh-star-role="number"]').html(n)
	}
	var o;
	o = function() {
		function n(n, i) {
			this.settings = e.extend({}, e.fn.bhStar.defaults, i), this.$element = e(n), t(this.settings, this.$element)
		}
		return n.prototype.getScore = function() {
			return this.$element.find('[bh-star-role="bhStar"]').attr("bh-star-score")
		}, n
	}(), e.fn.bhStar = function(t, n) {
		var i;
		return i = this.data("bhStar"), i ? !0 === t ? i : "string" === e.type(t) ? i[t](n) : this : this.each(function() {
			return e(this).data("bhStar", new o(this, t))
		})
	}, e.fn.bhStar.defaults = {
		score: 0,
		size: 0,
		isShowNum: !0,
		text: "分",
		textClass: "",
		starClass: "",
		readonly: !1
	}
}(jQuery),
function(e) {
	function t(t, i) {
		C.items = t.items, C.activeItemStepId = t.active, C.finishedItemStepIds = t.finished, C.wizardContainer = i, C.contentContainer = t.contentContainer, C.change = t.change, e(t.items).each(function(e, n) {
			d(e, n, t.items.length)
		}), C.wizardElement = e(C.wizardContainer).children(".bh-wizard-item"), e(t.items).each(function(e, t) {
			f(e)
		}), t.isAddClickEvent && v(), n(), C.wizardElement.each(function(t, n) {
			C.wizardElement && C.wizardElement.length > 0 && (e(n).hasClass("active") ? e("#" + e(n).attr("stepid")).removeClass("bh-hide") : e("#" + e(n).attr("stepid")).addClass("bh-hide"))
		})
	}

	function n() {
		var t = C.wizardElement.length;
		if(t > 0) {
			var n = C.wizardContainer,
				i = n.width(),
				a = e(".bh-wizard-item:hidden", n).length,
				o = t - a,
				r = Math.floor(i / o);
			C.wizardElement.find(".title").width(r - 40);
			var s = 0;
			C.wizardElement.each(function() {
				e(this).is(":hidden") || (s += e(this).outerWidth())
			});
			var l = i - s,
				d = r - 40 + l;
			C.wizardElement.find(".title").last().width(d)
		}
	}

	function i(e) {
		C.activeItemStepId = e
	}

	function a() {
		var e = m(),
			t = o(e);
		null != t && l(t)
	}

	function o(e) {
		var t = null,
			n = e - 1;
		if(null != C.items[n]) {
			var i = C.items[n].stepId;
			t = C.wizardElement.parent().find("[stepid='" + i + "']").is(":hidden") ? o(n) : i
		}
		return t
	}

	function r(e) {
		var t = null,
			n = e + 1;
		if(null != C.items[n]) {
			var i = C.items[n].stepId;
			t = C.wizardElement.parent().find("[stepid='" + i + "']").is(":hidden") ? r(n) : i
		}
		return t
	}

	function s() {
		var e = m(),
			t = r(e);
		null != t && l(t)
	}

	function l(e) {
		var t = C.activeItemStepId,
			n = m();
		i(e), f(n), C.contentContainer.find("#" + t).addClass("bh-hide"), f(m()), C.contentContainer.find("#" + C.activeItemStepId).removeClass("bh-hide"), void 0 !== C.change && C.change instanceof Function && C.change({
			stepId: e
		})
	}

	function d(t, n, i) {
		var a = e('<div class="bh-wizard-item" stepid="' + n.stepId + '"><div class="left-arrow"></div><div class="title bh-str-cut" title="' + n.title + '"><i></i>' + n.title + '</div><div class="right-arrow"></div></div>');
		0 == t ? e(a).addClass("bh-wizard-item-first") : t == i - 1 && e(a).addClass("bh-wizard-item-last"), C.wizardContainer.append(a)
	}

	function c(e) {
		for(var t = !1, n = 0; n < C.finishedItemStepIds.length; n++)
			if(C.finishedItemStepIds[n] == e) {
				t = !0;
				break
			}
		return t
	}

	function h(e) {
		if(C.finishedItemStepIds) {
			var t = C.finishedItemStepIds.length;
			t > 0 ? C.finishedItemStepIds[t] = e : C.finishedItemStepIds[0] = e
		}
	}

	function p(e) {
		return b(C.activeItemStepId) == e
	}

	function u(e) {
		var t = C.finishedItemStepIds.length,
			n = !1;
		if(t > 0)
			for(var i = 0; i < t; i++)
				if(e == b(C.finishedItemStepIds[i])) {
					n = !0;
					break
				}
		return n
	}

	function f(t) {
		var n = C.wizardElement[t],
			i = e("i", e(n));
		i.removeClass(), u(t) ? (e(n).addClass("finished"), i.addClass("iconfont icon-checkcircle")) : e(n).removeClass("finished"), p(t) ? (e(n).addClass("active"), i.addClass("iconfont icon-edit")) : e(n).removeClass("active")
	}

	function g(e) {
		return e == C.activeItemStepId
	}

	function v() {
		C.wizardElement.unbind("click").click(function() {
			var t = e(this),
				n = t.attr("stepid");
			g(n) || l(n)
		})
	}

	function b(e) {
		for(var t = -1, n = 0; n < C.items.length; n++)
			if(C.items[n].stepId == e) {
				t = n;
				break
			}
		return t
	}

	function m() {
		for(var e = 0, t = 0; t < C.items.length; t++)
			if(C.items[t].stepId == C.activeItemStepId) {
				e = t;
				break
			}
		return e
	}

	function y(t, i) {
		if(t) {
			var a = C.items[0].stepId,
				o = C.items[C.items.length - 1].stepId,
				r = C.wizardContainer.find(".bh-wizard-item[stepid=" + t + "]");
			r.length > 0 && i(r), C.wizardElement = e(C.wizardContainer).children(".bh-wizard-item"), t == a ? C.wizardElement.eq(0).addClass("bh-wizard-item-first") : t == o && C.wizardElement.last().addClass("bh-wizard-item-last"), n()
		}
	}
	e.fn.bhStepWizard = function(t, n) {
		var i;
		if(!(i = this.data("bhStepWizard"))) return this.each(function() {
			return e(this).data("bhStepWizard", new k(this, t))
		});
		if(!0 === t) return i;
		if("string" === e.type(t)) {
			return i[t](n)
		}
	}, e.fn.bhStepWizard.defaults = {
		items: [],
		active: "",
		finished: [],
		isAddClickEvent: !0,
		contentContainer: e("body"),
		change: null
	};
	var k, C = {};
	k = function() {
		function i(n, i) {
			this.settings = e.extend({}, e.fn.bhStepWizard.defaults, i), this.$element = e(n), t(this.settings, this.$element)
		}
		return i.prototype.resetFinishedItems = function(e) {
			var t = C.finishedItemStepIds.indexOf(e);
			C.finishedItemStepIds = C.finishedItemStepIds.splice(t, t + 1);
			for(var n = 0; n < C.finishedItemStepIds.length; n++) {
				f(b(C.finishedItemStepIds[n]))
			}
		}, i.prototype.activeNextItem = function() {
			s()
		}, i.prototype.activePrevItem = function() {
			a()
		}, i.prototype.changeToActive = function(e) {
			l(e)
		}, i.prototype.changeToFinished = function(e) {
			if(e || (e = C.activeItemStepId), !c(e)) {
				h(e);
				f(b(e))
			}
		}, i.prototype.resetWidth = function() {
			n()
		}, i.prototype.isLastStep = function() {
			var e = C.items[C.items.length - 1].stepId;
			return C.activeItemStepId == e
		}, i.prototype.getFinishedIndexs = function() {
			var e = [];
			if(C.finishedItemStepIds && C.finishedItemStepIds.length > 0)
				for(var t = 0; t < C.finishedItemStepIds.length; t++) e.push(b(C.finishedItemStepIds[t]));
			return e
		}, i.prototype.getStepIdByIndex = function(e) {
			var t = -1;
			return C.items && C.items.length > 0 && C.items[e] && (t = C.items[e].stepId), t
		}, i.prototype.deleteItem = function(e) {
			y(e, function(e) {
				e.remove()
			})
		}, i.prototype.showItem = function(e) {
			y(e, function(e) {
				e.show()
			})
		}, i.prototype.hideItem = function(e) {
			y(e, function(e) {
				e.hide()
			})
		}, i.prototype.getActiveItem = function() {
			return C.activeItemStepId
		}, i
	}()
}(jQuery),
function(e) {
	function t(e, t) {
		for(var i = '<div class="bh-timeLine">@content</div>', a = '<div class="bh-timeLine-row @rowClass" @rowAttrs><div class="bh-timeLine-index"><div>@index</div></div><div class="bh-timeLine-content">@content</div></div>', o = "", r = e.data, s = r.length, l = 0; l < s; l++) {
			var d = r[l],
				c = d.index,
				h = d.content,
				p = d.attr,
				u = "",
				f = "";
			if(p) {
				var g = n(d.attr);
				u = g.class, f = g.attr
			}
			o += a.replace("@index", c).replace("@content", h).replace("@rowClass", u).replace("@rowAttrs", f)
		}
		var v = i.replace("@content", o);
		t.html(v)
	}

	function n(e) {
		var t = "",
			n = "";
		if("object" == typeof e && null !== e)
			for(var i in e) {
				var a = e[i];
				"class" !== i ? a && (n += " " + i + "=" + a) : t = a
			} else n = e;
		return {
			attr: n,
			class: t
		}
	}
	e.fn.bhTimeLine = function(t, n) {
		var a;
		return a = this.data("bhTimeLine"), a ? !0 === t ? a : "string" === e.type(t) ? a[t](n) : this : this.each(function() {
			return e(this).data("bhTimeLine", new i(this, t))
		})
	}, e.fn.bhTimeLine.defaults = {
		data: []
	};
	var i;
	i = function() {
		function n(n, i) {
			this.settings = e.extend({}, e.fn.bhStar.defaults, i), this.$element = e(n), t(this.settings, this.$element)
		}
		return n
	}()
}(jQuery),
function(e) {
	"use strict";

	function t(t) {
		var a = new Date,
			r = n(t, a),
			s = e(r);
		t.rangeBoxDom = s, t.$rootElement.html(s), o(s, t);
		var c = i(t, a),
			h = e(c);
		t.popupBoxDom = h;
		var p = e("body");
		p.append(h), d(t, a), l(t), p.on("click", function(n) {
			var i = e(n.target || n.srcElement);
			if(i.closest('div[bh-time-picker-role="rangeBox"]').length > 0 || i.closest('div[bh-time-picker-role="selectBoxCont"]').length > 0 || i.closest("div.jqx-calendar").length > 0 || i.closest("div.jqx-listbox").length > 0) return void p.removeData("bhTimePick");
			var a = t.rangeBoxDom;
			if(a.hasClass("bh-active")) {
				if(p.data("bhTimePick")) return void p.removeData("bhTimePick");
				a.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click()
			}
		})
	}

	function n(e, t) {
		var n, i;
		n = e.settings.time.start && "today" !== e.settings.time.start ? E(e.settings.time.start) : t, i = e.settings.time.end && "today" !== e.settings.time.end ? E(e.settings.time.end) : t;
		var a = D(n, e),
			o = D(i, e),
			r = a + "-" + o,
			s = "";
		e.settings.width && (s = "width: " + parseInt(e.settings.width, 10) + "px;");
		var l = "";
		return e.settings.isDisable && (l = '<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>'), '<div class="bh-timePicker-rangeBox bh-clearfix" bh-time-picker-role="rangeBox" style="' + s + '"><div class="bh-timePicker-rangeBox-selectIcon bh-left" bh-time-picker-role="rangeBoxPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="rangeBoxSelectTime">' + r + '</div><div class="bh-timePicker-rangeBox-selectIcon bh-right" bh-time-picker-role="rangeBoxNext">&gt;</div>' + l + '</div><div class="bh-clearfix"></div>'
	}

	function i(e, t) {
		var n = a(e, t),
			i = 0,
			o = t.getFullYear(),
			r = e.settings.range.max && "today" !== e.settings.range.max ? E(e.settings.range.max).getFullYear() : o,
			s = e.settings.range.min && "today" !== e.settings.range.min ? E(e.settings.range.min).getFullYear() : o,
			l = e.settings.range.max && o >= r,
			d = e.settings.range.min && o <= s;
		return i = r, i > o && (i = o), '<div class="bh-timePick-selectBoxCont" bh-time-picker-role="selectBoxCont"><div class="bh-timePick-selectBox bh-card bh-card-lv2" bh-time-picker-role="selectBox"><ul class="bh-timePick-tab" bh-time-picker-role="selectTab"><li class="bh-timePick-tabItem bh-active">自定义选择</li><li class="bh-timePick-tabItem">按月选择</li></ul><div class="bh-timePick-tabContent" bh-time-picker-role="selectTabContent"><div class="bh-timePick-custom bh-active"><div class="bh-timePick-customTime bh-clearfix" bh-time-picker-role="selectCustom"><div class="bh-timePick-selectType" bh-time-picker-role="selectType"></div><div class="bh-timePick-selectStart" bh-time-picker-role="selectStart"></div><div class="bh-timePick-selectConnect"></div><div class="bh-timePick-selectEnd" bh-time-picker-role="selectEnd"></div></div><a class="bh-btn bh-btn-primary bh-btn-block" bh-time-picker-role="selectOk" href="javascript:void(0);">确定</a></div><div class="bh-timePick-selectMonthCont" bh-time-picker-role="selectMonthBlock"><div class="bh-timePick-selectMonth bh-timePicker-rangeBox bh-clearfix"><div class="bh-timePicker-rangeBox-selectIcon bh-left ' + (d ? "bh-disabled" : "") + '" bh-time-picker-role="selectMonthPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="selectMonthYear">' + i + '年</div><div class="bh-timePicker-rangeBox-selectIcon bh-right ' + (l ? "bh-disabled" : "") + '" bh-time-picker-role="selectMonthNext">&gt;</div></div><div class="bh-timePicker-selectMonthList bh-clearfix" bh-time-picker-role="selectMonthList">' + n + "</div></div></div></div></div>"
	}

	function a(e, t, n) {
		var i = "",
			a = t.getFullYear(),
			o = 0,
			r = 0,
			s = 0,
			l = 0;
		if(e.settings.range.max)
			if("today" !== e.settings.range.max) {
				var d = E(e.settings.range.max);
				o = d.getFullYear(), r = d.getMonth()
			} else {
				var c = new Date;
				o = c.getFullYear(), r = c.getMonth()
			}
		if(e.settings.range.min)
			if("today" !== e.settings.range.min) {
				var h = E(e.settings.range.min);
				s = h.getFullYear(), l = h.getMonth()
			} else {
				var c = new Date;
				s = c.getFullYear(), l = c.getMonth()
			}
		for(var p = 0; p < 12; p++) {
			var u = p + 1,
				f = "";
			o && s ? s !== o ? s < a && a < o ? f = "bh-pre" : s === a ? p >= l && (f = "bh-pre") : a === o && p <= r && (f = "bh-pre") : l <= p && p <= r && (f = "bh-pre") : o ? o > a ? f = "bh-pre" : p <= r && (f = "bh-pre") : s ? s < a ? f = "bh-pre" : p >= l && (f = "bh-pre") : f = "bh-pre", i += '<div class="bh-timePick-monthItem ' + f + '" data-month="' + u + '" bh-time-picker-role="selectMonthItem">' + u + "月</div>"
		}
		return i
	}

	function o(t, n) {
		t.on("click", function(i) {
			switch(n.$rootElement.removeData("selectType"), e(i.target || i.srcElement).attr("bh-time-picker-role")) {
				case "rangeBoxPre":
					P("pre", n);
					break;
				case "rangeBoxNext":
					P("next", n);
					break;
				case "rangeBoxSelectTime":
					r(n, t)
			}
		})
	}

	function r(t, n) {
		var i = t.popupBoxDom,
			a = i.children('div[bh-time-picker-role="selectBox"]');
		if(n.hasClass("bh-active")) s(t);
		else {
			var o = BH_UTILS.getElementPosition(n),
				r = {
					top: o.bottom,
					left: o.left + 20,
					display: "block"
				},
				l = 0;
			e("body").find(".jqx-window").each(function() {
				var t = parseInt(e(this).css("z-index"), 10);
				t > l && (l = t)
			}), l > 9999 && (r["z-index"] = l), i.css(r), n.addClass("bh-active"), setTimeout(function() {
				a.addClass("bh-active")
			}, 10)
		}
	}

	function s(e) {
		var t = e.popupBoxDom,
			n = t.children('div[bh-time-picker-role="selectBox"]');
		n.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(), n.removeClass("bh-active"), setTimeout(function() {
			t.hide()
		}, 450), e.rangeBoxDom.removeClass("bh-active")
	}

	function l(t) {
		t.popupBoxDom.on("click", ".bh-timePick-tabItem", function() {
			var n = e(this);
			if(!n.hasClass("bh-active")) {
				var i = n.index();
				n.closest("ul").find("li").removeClass("bh-active"), n.addClass("bh-active");
				var a = t.popupBoxDom.children('div[bh-time-picker-role="selectBox"]').children('div[bh-time-picker-role="selectTabContent"]').children();
				a.removeClass("bh-active"), a.eq(i).addClass("bh-active")
			}
		});
		var n = t.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),
			i = n.children('div[bh-time-picker-role="selectStart"]'),
			a = n.children('div[bh-time-picker-role="selectEnd"]'),
			o = n.find('div[bh-time-picker-role="selectType"]');
		i.on("change", function(e) {
			I(t, n), S(n, "start", t)
		}), a.on("change", function(e) {
			I(t, n), S(n, "end", t)
		}), i.on("mouseover", function(e) {
			t.$rootElement.removeData("selectType")
		}), a.on("mouseover", function(e) {
			t.$rootElement.removeData("selectType")
		}), o.on("change", function(e) {
			var n = e.args;
			if(n) {
				var i = n.item.value;
				t.$rootElement.data("selectType", "fixed"), p({
					value: i
				}, t)
			}
		}), t.popupBoxDom.on("click", '[bh-time-picker-role="selectOk"]', function() {
			var e = i.jqxDateTimeInput("getDate"),
				o = a.jqxDateTimeInput("getDate"),
				r = t.getValue(),
				l = r.startTime,
				d = r.endTime;
			T(t, e, o), s(t);
			var c = n.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("getSelectedItem").value;
			t.$rootElement.trigger("selectedTime", [l, d, c]), void 0 !== t.settings.selectedTime && t.settings.selectedTime instanceof Function && t.settings.selectedTime(l, d, c)
		}), t.popupBoxDom.on("click", '[bh-time-picker-role="selectMonthPre"]', function() {
			e(this).hasClass("bh-disabled") || w(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'), "pre", t)
		}), t.popupBoxDom.on("click", '[bh-time-picker-role="selectMonthNext"]', function() {
			e(this).hasClass("bh-disabled") || w(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'), "next", t)
		}), t.popupBoxDom.on("click", '[bh-time-picker-role="selectMonthItem"]', function() {
			x(e(this), t)
		})
	}

	function d(e, t) {
		var n = e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),
			i = n.find('div[bh-time-picker-role="selectType"]'),
			a = n.find('div[bh-time-picker-role="selectStart"]'),
			o = n.find('div[bh-time-picker-role="selectEnd"]');
		e.startTimeDom = a, e.endTimeDom = o, e.$selectType = i, c(i, e), h(a, t, "start", e), h(o, t, "end", e), p({
			value: e.settings.defaultType
		}, e)
	}

	function c(t, n) {
		var i = [{
				name: "自定义",
				value: "custom"
			}, {
				name: "全部",
				value: "all"
			}, {
				name: "今天",
				value: "today"
			}, {
				name: "本周",
				value: "currentWeek"
			}, {
				name: "上周",
				value: "lastWeek"
			}, {
				name: "本月",
				value: "currentMonth"
			}, {
				name: "上月",
				value: "lastMonth"
			}, {
				name: "本季度",
				value: "currentQuarter"
			}, {
				name: "上季度",
				value: "lastQuarter"
			}, {
				name: "今年",
				value: "currentYear"
			}, {
				name: "去年",
				value: "lastYear"
			}, {
				name: "近7天",
				value: "last7Day"
			}, {
				name: "近30天",
				value: "last30Day"
			}],
			a = 0;
		e.grep(i, function(e, t) {
			if(n.settings.defaultType === e.value) return a = t, !0
		}), t.jqxDropDownList({
			width: "80px",
			source: i,
			selectedIndex: a,
			autoDropDownHeight: !0,
			valueMember: "value",
			displayMember: "name"
		})
	}

	function h(e, t, n, i) {
		var a;
		a = "start" === n ? i.settings.time.start && "today" !== i.settings.time.start ? E(i.settings.time.start) : t : i.settings.time.end && "today" !== i.settings.time.end ? E(i.settings.time.end) : t, e.jqxDateTimeInput({
			value: a,
			width: "124px",
			culture: "zh-CN",
			formatString: i.settings.format,
			showFooter: !0,
			clearString: "清除",
			enableBrowserBoundsDetection: !0,
			todayString: "今天"
		})
	}

	function p(e, t) {
		var n = new Date,
			i = f(n),
			a = 0,
			o = 0;
		switch(e.value) {
			case "custom":
				var r = t.settings.time.start;
				a = r && "today" !== r ? E(r) : n;
				var s = t.settings.time.end;
				o = s && "today" !== s ? E(s) : n;
				break;
			case "all":
				a = null, o = null;
				break;
			case "today":
				a = n, o = n;
				break;
			case "currentWeek":
				a = new Date(i.time - 864e5 * (i.week - 1)), o = n;
				break;
			case "lastWeek":
				var l = i.time - 864e5 * (i.week - 1);
				a = new Date(l - 6048e5), o = new Date(l - 864e5);
				break;
			case "currentMonth":
				a = new Date(i.time - 864e5 * (i.day - 1)), o = n;
				break;
			case "lastMonth":
				var d = v(i);
				a = d.startTime, o = d.endTime;
				break;
			case "currentQuarter":
				a = y(i).startTime, o = n;
				break;
			case "lastQuarter":
				var c = k(i);
				a = c.startTime, o = c.endTime;
				break;
			case "currentYear":
				a = E(i.year + "/1/1"), o = n;
				break;
			case "lastYear":
				a = E(parseInt(i.year - 1) + "/1/1"), o = E(parseInt(i.year - 1) + "/12/31");
				break;
			case "last7Day":
				a = new Date(i.time - 6048e5), o = n;
				break;
			case "last30Day":
				a = new Date(i.time - 2592e6), o = n
		}
		u(t, a, o)
	}

	function u(e, t, n, i) {
		var a = e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),
			o = a.children('div[bh-time-picker-role="selectStart"]'),
			r = a.children('div[bh-time-picker-role="selectEnd"]'),
			s = r.jqxDateTimeInput("getDate");
		if(!(t && n || (null === t ? o.jqxDateTimeInput({
				disabled: !0
			}) : o.jqxDateTimeInput({
				disabled: !1
			}), null === n ? r.jqxDateTimeInput({
				disabled: !0
			}) : r.jqxDateTimeInput({
				disabled: !1
			}), t || n))) {
			var l = e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),
				d = e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),
				c = d.jqxDropDownList("getSelectedItem");
			if("all" === c.value) return void l.html(c.label)
		}
		o.jqxDateTimeInput("disabled") && o.jqxDateTimeInput({
			disabled: !1
		}), r.jqxDateTimeInput("disabled") && r.jqxDateTimeInput({
			disabled: !1
		}), e.settings.time.start = t, e.settings.time.end = n, t > s ? (r.jqxDateTimeInput("setDate", n), o.jqxDateTimeInput("setDate", t)) : (o.jqxDateTimeInput("setDate", t), r.jqxDateTimeInput("setDate", n));
		var h = o.jqxDateTimeInput("getDate"),
			p = r.jqxDateTimeInput("getDate"),
			u = e.getValue(),
			f = u.startTime,
			g = u.endTime;
		if(T(e, h, p), i) {
			var v = a.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("getSelectedItem").value;
			e.$rootElement.trigger("selectedTime", [f, g, v]), void 0 !== e.settings.selectedTime && e.settings.selectedTime instanceof Function && e.settings.selectedTime(f, g, v)
		}
	}

	function f(e) {
		var t = new Date(e),
			n = {};
		return n.year = t.getFullYear(), n.month = t.getMonth(), n.day = t.getDate(), n.hour = t.getHours(), n.minute = t.getMinutes(), n.second = t.getSeconds(), n.week = t.getDay(), n.time = t.getTime(), n
	}

	function g(e) {
		return 0 == e % 4 && (e % 100 != 0 || e % 400 == 0)
	}

	function v(e) {
		var t = e.month,
			n = e.year,
			i = t - 1;
		0 === t && (n -= 1, i = 11);
		var a = m(n, i + 1);
		return {
			startTime: new Date(b({
				year: n,
				month: i + 1,
				day: 1
			})),
			endTime: new Date(b({
				year: n,
				month: i + 1,
				day: a
			}))
		}
	}

	function b(e) {
		return e.year + "/" + e.month + "/" + e.day
	}

	function m(e, t) {
		return 1 === t || 3 === t || 5 === t || 7 === t || 8 === t || 10 === t || 12 === t ? 31 : 4 === t || 6 === t || 9 === t || 11 === t ? 30 : g(e) ? 29 : 28
	}

	function y(e) {
		var t = C(e.month);
		return {
			startTime: new Date(b({
				year: e.year,
				month: t.startMonth + 1,
				day: 1
			}))
		}
	}

	function k(e) {
		var t = C(e.month).startMonth,
			n = t - 1,
			i = e.year;
		0 === t && (n = 11, i -= 1);
		var a = C(n),
			o = m(i, a.endMonth + 1);
		return {
			startTime: new Date(b({
				year: i,
				month: a.startMonth + 1,
				day: 1
			})),
			endTime: new Date(b({
				year: i,
				month: a.endMonth + 1,
				day: o
			}))
		}
	}

	function C(e) {
		var t = 0,
			n = 2;
		return e >= 9 ? (t = 9, n = 11) : e >= 6 ? (t = 6, n = 8) : e >= 3 && (t = 3, n = 5), {
			startMonth: t,
			endMonth: n
		}
	}

	function w(e, t, n) {
		var i = e.find('[bh-time-picker-role="selectMonthPre"]').removeClass("bh-disabled"),
			o = e.find('[bh-time-picker-role="selectMonthNext"]').removeClass("bh-disabled"),
			r = e.find('div[bh-time-picker-role="selectMonthYear"]'),
			s = parseInt(r.text(), 10),
			l = 0;
		n.settings.range.max && (l = "today" === n.settings.range.max ? (new Date).getFullYear() : new Date(n.settings.range.max).getFullYear());
		var d = 0;
		n.settings.range.min && (d = "today" === n.settings.range.min ? (new Date).getFullYear() : new Date(n.settings.range.min).getFullYear()), "pre" === t ? s-- : s++, r.html(s + "年");
		var c = a(n, E(s + "/12/1"), t);
		e.find('div[bh-time-picker-role="selectMonthList"]').html(c), "pre" === t ? s === d && i.addClass("bh-disabled") : s === l && o.addClass("bh-disabled")
	}

	function x(e, t) {
		if(e.hasClass("bh-pre")) {
			var n = e.closest('div[bh-time-picker-role="selectMonthBlock"]'),
				i = parseInt(n.find('div[bh-time-picker-role="selectMonthYear"]').text(), 10),
				a = parseInt(e.attr("data-month"), 10),
				o = m(i, a);
			t.$rootElement.removeData("selectType"), t.rangeBoxDom.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(), u(t, new Date(i + "/" + a + "/1"), new Date(i + "/" + a + "/" + o), !0)
		}
	}

	function T(e, t, n) {
		var i = e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),
			a = e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),
			o = a.jqxDropDownList("getSelectedItem");
		if("all" === o.value) return void i.html(o.label);
		var r = D(t, e),
			s = D(n, e);
		i.html(r + "-" + s)
	}

	function D(e, t) {
		return /dd/i.test(t.settings.format) ? e.getFullYear() + "年" + N(e.getMonth() + 1) + "月" + e.getDate() + "日" : e.getFullYear() + "年" + N(e.getMonth() + 1) + "月"
	}

	function N(e) {
		return e < 10 ? "0" + e : e
	}

	function I(e, t) {
		t.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("selectIndex", 0)
	}

	function S(t, n, i) {
		e("body").data("bhTimePick", "selectTime");
		var a = t.children('div[bh-time-picker-role="selectStart"]'),
			o = t.children('div[bh-time-picker-role="selectEnd"]'),
			r = a.jqxDateTimeInput("getDate"),
			s = o.jqxDateTimeInput("getDate");
		if(r > s)
			if("end" === n) {
				var l = f(r);
				o.jqxDateTimeInput("setDate", new Date(l.year, l.month, l.day))
			} else {
				var d = f(s);
				a.jqxDateTimeInput("setDate", new Date(d.year, d.month, d.day))
			}
		else if("start" === n) {
			if(i.settings.range.min) {
				var c;
				c = "today" !== i.settings.range.min ? new Date(i.settings.range.min) : new Date, r < c && a.jqxDateTimeInput("setDate", c)
			}
		} else if(i.settings.range.max) {
			var h;
			h = "today" !== i.settings.range.max ? new Date(i.settings.range.max) : new Date, s > h && o.jqxDateTimeInput("setDate", h)
		}
	}

	function P(e, t) {
		var n = t.popupBoxDom.find('div[bh-time-picker-role="selectBox"]'),
			i = t.$rootElement.find('div[bh-time-picker-role="rangeBox"]');
		i.hasClass("bh-active") && i.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click();
		var a;
		a = "pre" === e ? n.find('div[bh-time-picker-role="selectStart"]').jqxDateTimeInput("getDate") : n.find('div[bh-time-picker-role="selectEnd"]').jqxDateTimeInput("getDate");
		var o, r = f(a);
		if("pre" === e) {
			if(0 === r.month ? (r.month = 11, r.year = r.year - 1) : r.month = r.month - 1, t.settings.range.min) {
				var s = "today" === t.settings.range.min ? new Date : E(t.settings.range.min);
				o = f(s), s > new Date(a.getTime() - 2592e6) && (r = o)
			}
		} else if(11 === r.month ? (r.month = 0, r.year = r.year + 1) : r.month = r.month + 1, t.settings.range.max) {
			var l = "today" === t.settings.range.max ? new Date : E(t.settings.range.max);
			o = f(l), l < new Date(a.getTime() + 2592e6) && (r = o)
		}
		var d = {},
			c = {};
		o && r.year === o.year ? r.month !== o.month ? (d = {
			year: r.year,
			month: r.month,
			day: 1
		}, c = {
			year: r.year,
			month: r.month,
			day: m(r.year, r.month + 1)
		}) : "pre" === e ? (d = {
			year: r.year,
			month: r.month,
			day: o.day
		}, c = {
			year: r.year,
			month: r.month,
			day: m(r.year, r.month + 1)
		}) : (d = {
			year: r.year,
			month: r.month,
			day: 1
		}, c = {
			year: r.year,
			month: r.month,
			day: o.day
		}) : (d = {
			year: r.year,
			month: r.month,
			day: 1
		}, c = {
			year: r.year,
			month: r.month,
			day: m(r.year, r.month + 1)
		});
		var h = r.month + 1 < 10 ? "0" + parseInt(r.month + 1, 10) : r.month + 1,
			p = d.year + "/" + h + "/" + N(d.day),
			g = c.year + "/" + h + "/" + c.day;
		u(t, E(p), E(g), !0)
	}

	function E(e) {
		if("string" == typeof e) {
			var t = Date.parse(e),
				n = new Date(t);
			if(isNaN(n)) {
				var i = e.split("-");
				n = new Date(i[0], --i[1], i[2])
			}
			return n
		}
		return e
	}
	var B;
	e.fn.bhTimePicker = function(t, n) {
		var i;
		return i = this.data("bhTimePicker"), i ? !0 === t ? i : "string" === e.type(t) ? i[t](n) : this : this.each(function() {
			return e(this).data("bhTimePicker", new B(this, t))
		})
	}, B = function() {
		function n(n, i) {
			var a = {
				defaultType: "custom",
				width: "",
				format: "yyyy-MM-dd",
				range: {
					max: "",
					min: ""
				},
				time: {
					start: "",
					end: ""
				},
				isDisable: !1,
				selectedTime: null,
				ready: null
			};
			this.settings = e.extend({}, a, i), this.settings.format = this.settings.format.replace(/mm/g, "MM"), this.$rootElement = e(n), t(this)
		}
		return n.prototype.getValue = function() {
			var e = null,
				t = null;
			return this.startTimeDom.jqxDateTimeInput("disabled") || (e = this.startTimeDom.jqxDateTimeInput("getText")), this.endTimeDom.jqxDateTimeInput("disabled") || (t = this.endTimeDom.jqxDateTimeInput("getText")), {
				startTime: e,
				endTime: t,
				type: this.popupBoxDom.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("getSelectedItem").value
			}
		}, n.prototype.setValue = function(e) {
			u(this, e.startTime ? E(e.startTime) : this.startTimeDom.jqxDateTimeInput("getDate"), e.endTime ? E(e.endTime) : this.endTimeDom.jqxDateTimeInput("getDate")), I(this, this.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'))
		}, n.prototype.setDisable = function() {
			this.$rootElement.children('div[bh-time-picker-role="rangeBox"]').append('<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>')
		}, n.prototype.setEnable = function() {
			this.$rootElement.find('div[bh-time-picker-role="disableBlock"]').remove()
		}, n.prototype.setType = function(e) {
			this.popupBoxDom.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("selectItem", e)
		}, n.prototype.remove = function() {
			this.$selectType.jqxDropDownList("destroy"), this.popupBoxDom.remove(), this.$rootElement.remove()
		}, n
	}()
}(jQuery),
function(e) {
	"use strict";
	e.bhTip = function(t) {
		function n(e) {
			var t = "",
				n = e.options,
				i = n.length;
			if(i >= 1 && "" !== n[0].text && null !== n[0].text) {
				for(var a = 0; a < i; a++) t += '<a href="javascript:void(0);" class="bh-tip-btn" bh-tip-btn-role="tipBtn">' + n[a].text + "</a>";
				t = '<div class="bh-tip-btn-group">' + t + "</div>"
			}
			return '<div class="bh-tip bh-tip-animate-top-opacity bh-tip-' + e.state + '" bh-tip-role="bhTip"><div class="bh-tip-top-bar"></div><div class="bh-card bh-card-lv4"><a class="bh-tip-closeIcon" bh-tip-btn-role="closeIcon">×</a><div class="bh-tip-content"><i class="iconfont ' + e.iconClass + '" ></i> <span>' + e.content + "</span> " + t + "</div></div></div>"
		}

		function i(t) {
			var n = e("body"),
				i = n.find("div.jqx-window"),
				a = 0;
			if(i.length > 0) {
				var o = null,
					r = 0;
				if(i.each(function() {
						if("none" !== this.style.display) {
							var e = parseInt(this.style.zIndex, 10);
							e > r && (r = e, o = this)
						}
					}), o) {
					var s = e(o),
						l = s.outerHeight(),
						d = window.innerHeight;
					a = parseInt((d - l) / 2, 10) - 48
				}
			}
			n.append(t), t.css({
				position: "fixed"
			});
			var c = 16;
			a && (c = a);
			var h = t.outerWidth();
			t.css({
				top: c + "px",
				left: "calc(50% - " + h / 2 + "px)",
				opacity: 1
			});
			var p = t.find(".bh-tip-content");
			12 * e.trim(p.text()).length + 16 + 8 > 192 && p.css({
				"margin-right": "16px"
			})
		}

		function a(e, t) {
			if(h) {
				return setTimeout(function() {
					e && o(e)
				}, t)
			}
		}

		function o(e) {
			e.css({
				opacity: 0,
				top: "-40px"
			}), setTimeout(function() {
				e.remove(), c.onClosed && c.onClosed()
			}, 250)
		}

		function r(e, t, n, i) {
			var o, s, l = n,
				i = i,
				t = t;
			e.off("mouseenter").on("mouseenter", function() {
				h = !1, o = +new Date, clearTimeout(t);
				var e = o - l;
				e < i && (i -= e)
			}), e.off("mouseleave").on("mouseleave", function() {
				h = !0, s = +new Date, t = a(e, i), r(e, t, s, i)
			})
		}

		function s(t, n) {
			t.off("click", "a[bh-tip-btn-role=closeIcon]").on("click", "a[bh-tip-btn-role=closeIcon]", function() {
				o(t)
			}), t.off("click", "a[bh-tip-btn-role=tipBtn]").on("click", "a[bh-tip-btn-role=tipBtn]", function(t) {
				var i = e(t.target).index(),
					a = {};
				a = n.options[i], void 0 !== a.callback && a.callback instanceof Function && a.callback()
			})
		}

		function l(e) {
			var t = "";
			switch(e.state) {
				case "success":
					t = "icon-checkcircle";
					break;
				case "warning":
					t = "icon-erroroutline";
					break;
				case "danger":
					t = "icon-error";
					break;
				case "primary":
					t = "icon-info"
			}
			return e.iconClass = e.iconClass ? e.iconClass : t, e
		}
		var d = {
				content: "",
				state: "success",
				iconClass: "",
				options: [{
					text: "",
					callback: null
				}],
				hideWaitTime: 5e3,
				onClosed: function() {}
			},
			c = e.extend({}, d, t),
			h = !0;
		! function(t) {
			t = l(t);
			var o = n(t),
				d = e(o);
			i(d);
			var c = +new Date;
			r(d, a(d, t.hideWaitTime), c, t.hideWaitTime), s(d, t)
		}(c)
	}
}(jQuery),
function(e) {
	function t(e) {
		return String(e).replace(/[\u0391-\uFFE5]/g, "***").length
	}

	function n(e, t) {
		e.toggleClass("jqx-widget", !0), e.data("jqxWidget", t)
	}

	function i(e) {
		return String(e).replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\n|\t/g, "<br>")
	}

	function a(e, t) {
		var n = this,
			i = n.data("we.bhTxtInput");
		return i ? "string" == typeof e ? i[e](t) : void 0 : (n.data("we.bhTxtInput", new o(this, e)), n)
	}
	var o = function(t, i) {
		return this.$container = e(t), this.$inner = void 0, this.$txtArea = void 0, this.$curLen = void 0, this.options = {
			limit: i.limit || 140,
			name: i.name,
			easyCheck: i.textareaEasyCheck || !1,
			autoHeight: void 0 !== i.autoHeight && i.autoHeight,
			height: i.height || void 0,
			readonly: i.readonly || !1,
			placeholder: i.placeholder || ""
		}, this.init(), n(this.$container, this), this
	};
	o.prototype.render = function() {
		var t = e('<div class="bh-txt-input"><textarea class="bh-txt-input__txtarea" placeholder="' + this.options.placeholder + '" style="max-height: 480px;word-break: break-all;' + (void 0 !== this.options.height ? "height:" + this.options.height + "px;" : "") + '"></textarea><div class="bh-txt-input__foot"><span class="bh-txt-input__cur-len">0</span>/<span class="bh-txt-input__max-len">' + this.options.limit + "</span></div></div>");
		!0 === this.options.readonly && (t.find(".bh-txt-input__foot").hide(), t.find("textarea").attr("readonly", !0)), t.find(".bh-txt-input__txtarea").attr({
			name: this.options.name
		}).end().appendTo(this.$container), this.$inner = t, this.$txtArea = t.find(".bh-txt-input__txtarea"), this.$curLen = t.find(".bh-txt-input__cur-len"), this.$heightHook = e('<div style="z-index: -1000;word-break: break-all;padding: 2px;position: fixed;opacity: 0;"></div>').width(this.$txtArea.width()), e("body").append(this.$heightHook)
	}, o.prototype.init = function() {
		this.render(), !0 !== this.options.readonly && this.bindEvents()
	}, o.prototype.bindEvents = function() {
		var t = this;
		this.$container.on("input", ".bh-txt-input__txtarea", e.proxy(this.inputHandler, this)), this.$txtArea.on("focus", function() {
			t.$inner.toggleClass("bh-txt-input--focus", !0)
		}).on("blur", function() {
			t.$inner.toggleClass("bh-txt-input--focus", !1), t.$inner.trigger("c-blur")
		}), 9 == document.documentMode && this.$txtArea.on("keyup", function(t) {
			var n = t.keyCode;
			"8" != n && 46 != n || e(this).trigger("input")
		})
	}, o.prototype.inputHandler = function(e) {
		var t = e.target.value;
		if(this.options.autoHeight && void 0 === this.options.height) {
			this.$heightHook.html(i(t));
			var n = this.$heightHook.height();
			n >= 74 ? this.$txtArea.height() != n && this.$txtArea.height(n) : this.$txtArea.height() > 74 && this.$txtArea.height(74)
		}
		this.checkLen(t)
	}, o.prototype.checkLen = function(e) {
		var n;
		n = this.options.easyCheck || this.options.textareaEasyCheck ? e.length : t(e), this.$inner.toggleClass("bh-txt-input--outlen", n > this.options.limit), this.$curLen.text(n)
	}, o.prototype.val = function(e) {
		return arguments.length ? this.setValue(arguments[0]) : this.getValue()
	}, o.prototype.getValue = function() {
		return e.trim(this.$txtArea.val())
	}, o.prototype.setValue = function(e) {
		return this.checkLen(e), this.$txtArea.val(e).trigger("input")
	}, o.prototype.disabled = function(e) {
		this.$txtArea.prop("disabled", e), this.$inner.toggleClass("bh-txt-input--disabled", e)
	}, o.prototype.readonly = function(e) {
		this.$txtArea.prop("readonly", e)
	}, e.fn.bhTxtInput = a, e.fn.bhTxtInput.prototype.constructor = o, window.BhTxtInput = o
}(jQuery), "undefined" == typeof BhUIManagers && (BhUIManagers = {}),
	function(e) {
		e.fn.bhGetWizardManager = function() {
			return BhUIManagers[this[0].id + "_Wizard"]
		}, e.bhDefaults = e.bhDefaults || {}, e.bhDefaults.wizard = {
			items: [],
			active: "",
			active2: null,
			finished: [],
			isAddClickEvent: !0,
			contentContainer: e("body"),
			change: null
		}, e.bhWizard = e.bhWizard || {}, e.fn.bhWizard = function(t) {
			var n = e.extend({}, e.bhDefaults.wizard, t || {});
			if(this.each(function() {
					e.bhWizard.bhAddWizard(this, n)
				}), 0 == this.length) return null;
			if(1 == this.length) return e(this[0]).bhGetWizardManager();
			var i = [];
			return this.each(function() {
				i.push(e(this).bhGetWizardManager())
			}), i
		}, e.bhWizard.bhAddWizard = function(t, n) {
			if(!t.userWizard) {
				var i = {
						addItem: function(t, n, a) {
							var o = e('<div class="bh-wizard-item" stepid="' + n.stepId + '"><div class="left-arrow"></div><div class="title bh-str-cut" title="' + n.title + '"><i></i>' + n.title + '</div><div class="right-arrow"></div></div>');
							0 == t ? e(o).addClass("bh-wizard-item-first") : t == a - 1 && e(o).addClass("bh-wizard-item-last"), i.wizardContainer.append(o)
						},
						resetActiveItem: function(e) {
							i.activeItemStepId = e
						},
						resetFinishedItems: function(e) {
							i.finishedItemStepIds = e;
							for(var t = 0; t < i.finishedItemStepIds.length; t++) {
								var n = i.finishedItemStepIds[t],
									o = a.getIndexByStepId(n);
								a.refreshElementByIndex(o)
							}
						},
						activeNextItem: function() {
							var e = a.getActiveItemIndex(),
								t = e + 1,
								n = i.items[t].stepId;
							i.changeToActive(n)
						},
						activePrevItem: function() {
							var e = a.getActiveItemIndex(),
								t = e - 1,
								n = i.items[t].stepId;
							i.changeToActive(n)
						},
						changeToActive: function(e) {
							var t = i.activeItemStepId,
								o = a.getActiveItemIndex();
							i.resetActiveItem(e), a.refreshElementByIndex(o), i.contentContainer.find("#" + t).addClass("bh-hide");
							var r = a.getActiveItemIndex();
							a.refreshElementByIndex(r), i.contentContainer.find("#" + i.activeItemStepId).removeClass("bh-hide"), n && void 0 !== n.change && n.change instanceof Function && n.change({
								stepId: e
							})
						},
						changeToFinished: function(e) {
							if(!a.isExistInFinisheds(e)) {
								a.addToFinisheds(e);
								var t = a.getIndexByStepId(e);
								a.refreshElementByIndex(t)
							}
						}
					},
					a = {
						isExistInFinisheds: function(e) {
							for(var t = !1, n = 0; n < i.finishedItemStepIds.length; n++)
								if(i.finishedItemStepIds[n] == e) {
									t = !0;
									break
								}
							return t
						},
						addToFinisheds: function(e) {
							if(i.finishedItemStepIds) {
								var t = i.finishedItemStepIds.length;
								t > 0 ? i.finishedItemStepIds[t] = e : i.finishedItemStepIds[0] = e
							}
						},
						init: function() {
							i.wizardElement.each(function(t, n) {
								e(n).hasClass("active") ? e("#" + e(n).attr("stepid")).removeClass("bh-hide") : e("#" + e(n).attr("stepid")).addClass("bh-hide")
							})
						},
						isActive: function(e) {
							return a.getIndexByStepId(i.activeItemStepId) == e
						},
						isFinished: function(e) {
							var t = i.finishedItemStepIds.length,
								n = !1;
							if(t > 0)
								for(var o = 0; o < t; o++)
									if(e == a.getIndexByStepId(i.finishedItemStepIds[o])) {
										n = !0;
										break
									}
							return n
						},
						refreshElementByIndex: function(t) {
							var n = i.wizardElement[t],
								o = e("i", e(n));
							o.removeClass(), a.isFinished(t) ? (e(n).addClass("finished"), o.addClass("iconfont icon-checkcircle")) : e(n).removeClass("finished"), a.isActive(t) ? (e(n).addClass("active"), o.addClass("iconfont icon-edit")) : e(n).removeClass("active")
						},
						isActiveItem: function(e) {
							return e == i.activeItemStepId
						},
						addClickEvent: function() {
							i.wizardElement.unbind("click").click(function() {
								var t = e(this),
									n = t.attr("stepid");
								a.isActiveItem(n) || i.changeToActive(n)
							})
						},
						getIndexByStepId: function(e) {
							for(var t = 0, n = 0; n < i.items.length; n++)
								if(i.items[n].stepId == e) {
									t = n;
									break
								}
							return t
						},
						getActiveItemIndex: function() {
							for(var e = 0, t = 0; t < i.items.length; t++)
								if(i.items[t].stepId == i.activeItemStepId) {
									e = t;
									break
								}
							return e
						}
					};
				i.items = n.items, i.activeItemStepId = n.active || n.active2, i.finishedItemStepIds = n.finished, i.wizardContainer = e(t), i.contentContainer = n.contentContainer, i.wizardContainer.addClass("bh-wizard-container"), e(n.items).each(function(e, t) {
					i.addItem(e, t, n.items.length)
				}), i.wizardElement = e(i.wizardContainer).children(".bh-wizard-item"), e(n.items).each(function(e, t) {
					a.refreshElementByIndex(e)
				}), a.init(), n.isAddClickEvent && a.addClickEvent(), n.active2 && i.changeToActive(n.active2);
				var o = i.wizardElement.length;
				if(o > 0) {
					var r = i.wizardContainer,
						s = r.width(),
						l = e(".bh-wizard-item:hidden", r).length,
						d = o - l,
						c = Math.floor(s / d);
					i.wizardElement.find(".title").width(c - 40)
				}
				void 0 == t.id && (t.id = "BhUI_" + (new Date).getTime()), BhUIManagers[t.id + "_Wizard"] = i, t.userWizard = !0
			}
		}
	}(jQuery),
	function(e) {
		function t(t) {
			this.options = e.extend({}, e.bh_choose.default, t), this.$element = this.getChooseLayout(), this.selectedRecords = []
		}
		e.bh_choose = function(e) {
			return new t(e)
		}, e.bh_choose.default = {
			insertContainer: "",
			leftSourceUrl: "",
			leftSourceAction: "",
			leftLocalData: null,
			rightSourceUrl: "",
			rightSourceAction: "",
			rightLocalData: null,
			localSearchField: "",
			id: "",
			params: {},
			type: "post",
			multiSelect: !0,
			showOrder: !1,
			title: "添加应用",
			showSelectedTip: !0,
			placeholder: "输入关键字搜索",
			maxSelect: null,
			height: "500px",
			width: "900px",
			topHtml: "",
			bottomHtml: "",
			searchKeyName: "SEARCHKEY",
			leftDataAdapter: null,
			buttons: null,
			searchKeyNeedConvert: !1,
			searchByQuerySetting: !1,
			callback: function() {},
			rightcellsRenderer: function() {},
			leftcellsRenderer: function() {},
			leftcellsBreforeReload: null,
			afterDelete: function() {},
			afterSelect: function() {}
		}, t.prototype = {
			getSelectedRecords: function() {
				return this.$rightGrid.jqxDataTable("getRows")
			},
			show: function() {
				this.options.insertContainer ? e(this.options.insertContainer).html(this.$element) : this.showJqxWindow(), this.$leftGrid = this.$element.find(".leftGrid"), this.$rightGrid = this.$element.find(".rightGrid"), this.initSelectedRecords(this.options.rightLocalData), this.initLeftTable(), this.initRightTable(), this.bindSearchEvent(), this.resetContentHeight(), JPlaceHolder.init(this.$element.find(".gm-add-search input").parent())
			},
			close: function() {
				this.$element.jqxWindow("close")
			},
			showJqxWindow: function() {
				var t = this;
				e("body").append(this.$element), this.$element.on("open", function() {
					e("body").css({
						overflow: "hidden",
						"overflow-x": "hidden",
						"overflow-y": "hidden"
					})
				});
				var n = {
						resizable: !1,
						isModal: !0,
						draggable: !1,
						modalOpacity: .3,
						maxHeight: 3e3,
						maxWidth: 3e3,
						height: t.options.height || "500px",
						width: t.options.width || "900px",
						autoOpen: !1
					},
					i = t.options.height || "500px";
				i = parseInt(i.replace("px", "")) / 2 + "px";
				var a = 0;
				if(n.inIframe) {
					var o = e(window.frameElement);
					o.length > 0 && (a = o.offset().top)
				}
				var i = 0,
					r = null;
				try {
					i = top.window.innerHeight, r = e(top.window)
				} catch(t) {
					i = window.innerHeight, r = e(window)
				}
				n.position = [window.innerWidth / 2 - parseInt(n.width, 10) / 2, i / 2 - a + r.scrollTop() - parseInt(n.height, 10) / 2], this.$element.jqxWindow(n).jqxWindow("open"), this.$element.on("close", function() {
					t.$element.jqxWindow("destroy");
					var n = {
						overflow: "scroll",
						"overflow-x": "hidden",
						"overflow-y": "scroll"
					};
					e("body").css(n)
				})
			},
			initSelectedRecords: function(e) {
				e && (this.selectedRecords = e, this.refreshSelectedCount())
			},
			bindSearchEvent: function() {
				var e = this,
					t = window._ && _.debounce(function() {
						e.reloadLeftTable()
					}, 500);
				this.$element.find(".leftSearch").on("keyup", function(n) {
					13 == n.keyCode ? (e.reloadLeftTable(), window._ && t.cancel()) : window._ && t()
				})
			},
			initLeftTable: function() {
				var t = this;
				this.leftSource = this.getLeftSource();
				var n = null;
				if(!0 === this.options.searchByQuerySetting) {
					var i = WIS_EMAP_SERV.getModel(this.options.leftSourceUrl.replace(/^\S+(modules\/\w+)\/\w+\.do$/g, "$1.do"), this.options.leftSourceAction, "grid", {});
					i ? this.options.dataModel = i : console && console.warn("bhChoose组件请求table 数据模型失败！")
				}
				this.leftSource.url ? n = new e.jqx.dataAdapter(this.leftSource, t.options.leftDataAdapter || {
					formatData: function(n) {
						return n.pageSize = n.pagesize, n.pageNumber = n.pagenum + 1, e.extend(n, t.options.leftSourceParams), delete n.pagesize, delete n.pagenum, delete n.filterslength, n
					},
					downloadComplete: function(e) {
						var n = t.options.leftSourceAction,
							i = n ? e.datas[n] : e.datas;
						return t.leftSource.totalRecords = i.totalSize, e.recordsTotal = i.totalSize, e.data = i.rows, delete e.datas, delete e.code, e
					}
				}) : this.leftSource.localdata && (n = new e.jqx.dataAdapter(this.leftSource));
				var a = e.extend({}, this.getNormalWindowOptions(), {
					source: n,
					pageable: !this.leftSource.localdata,
					height: 308,
					columns: t.options.leftColumns || [{
						dataField: "onlineDate",
						cellsRenderer: function(n, i, a, o) {
							var r = e(t.options.leftcellsRenderer(n, i, a, o));
							return e(r.children()[0]).addClass("gm-member-user"), r.prop("outerHTML")
						}
					}],
					rendered: function() {
						t.leftRenderEventListener()
					}
				});
				t.$element.find(".leftGrid").jqxDataTable(a)
			},
			getNormalWindowOptions: function() {
				return {
					showHeader: !1,
					pagerButtonsCount: 3,
					serverProcessing: !0,
					showStatusbar: !1,
					showToolbar: !1,
					pagerMode: "advanced",
					localization: Globalize.culture("zh-CN"),
					pageSizeOptions: ["10", "20", "50", "100"],
					width: "100%",
					pagerHeight: 28
				}
			},
			getLeftSource: function() {
				return this.options.leftLocalData ? {
					localdata: this.options.leftLocalData,
					datatype: "array",
					data: this.options.params
				} : {
					id: "id",
					datatype: "json",
					url: this.options.leftSourceUrl,
					type: this.options.type,
					data: e.extend(!0, {}, this.options.params)
				}
			},
			addSelectAllButton: function() {
				var e = this;
				if(!1 !== this.options.multiSelect && null === this.options.maxSelect) {
					var t = this.$element.find(".leftGrid").find(".jqx-grid-pager");
					t.find(".leftgrid-select-all").length > 0 || (t.append('<div class="select-all-wrap"><div class="leftgrid-select-all" style="display:inline-block"></div><div class="select-all-text">全选</div></div>'), t.find(".leftgrid-select-all").jqxCheckBox().on("change", function(t) {
						var n = t.args.checked,
							i = e.$element.find(".leftGrid .gm-member-user");
						n ? i.jqxCheckBox("check") : !1 === n && i.jqxCheckBox("uncheck")
					}))
				}
			},
			leftRenderEventListener: function() {
				var t = this,
					n = this.options.id,
					i = this.$leftGrid,
					a = this.$rightGrid,
					o = t.selectedRecords,
					r = t.$element.find(".leftGrid .gm-member-user");
				i.find("tr").removeAttr("data-key"), this.addSelectAllButton(), this.leftGridRows = i.jqxDataTable("getRows"), this.rightGridRows = a.jqxDataTable("getRows"), r.length > 0 && r.jqxCheckBox().on("change", function(i) {
					var o = t.selectedRecords,
						r = i.args.checked,
						s = i.target.getAttribute("row"),
						l = t.leftGridRows[s][n],
						d = !1,
						c = t.leftGridRows[s];
					if(r) {
						if(_.each(o, function(e) {
								if(e[n] + "" == c[n] + "") return d = !0, !1
							}), d) return;
						if(!1 === t.options.multiSelect && t.$element.find(".rightgrid-delete").trigger("click"), null !== t.options.maxSelect && t.options.maxSelect <= o.length) return e.bhTip({
							content: "最多只能选中" + t.options.maxSelect + "条记录"
						}), void e(this).jqxCheckBox("uncheck");
						t.options.afterSelect(c), o.push(c), a.jqxDataTable("addRow", null, c)
					} else _.each(o, function(e, t) {
						if(e[n] + "" == l + "") return o.splice(t, 1), !1
					}), t.refreshTable(a), t.resetSelectALLStatus();
					t.refreshSelectedCount()
				});
				for(var s = 0; s < o.length; s++)
					for(var l = 0; l < this.leftGridRows.length; l++) t.selectedRecords[s][n] + "" == this.leftGridRows[l][n] + "" && e(r[l]).jqxCheckBox("check");
				t.resetSelectALLStatus()
			},
			refreshSelectedCount: function() {
				this.options.showSelectedTip && this.$rightGrid.prev().html("已选中 " + this.selectedRecords.length)
			},
			getRightSource: function() {
				return this.options.rightLocalData ? {
					localdata: this.options.rightLocalData,
					datatype: "array"
				} : this.options.rightSourceUrl ? {
					id: "id",
					datatype: "json",
					url: this.options.rightSourceUrl,
					type: this.options.type
				} : {
					localdata: this.selectedRecords,
					datatype: "array"
				}
			},
			initRightTable: function() {
				var t = this,
					n = this.options.id,
					i = this.getRightSource(),
					a = [];
				i.url ? a = new e.jqx.dataAdapter(i, {
					formatData: function(e) {
						return e.pageSize = e.pagesize, e.pageNumber = e.pagenum + 1, delete e.pagesize, delete e.pagenum, delete e.filterslength, e
					},
					downloadComplete: function(n) {
						var a = t.options.rightSourceAction,
							o = a ? n.datas[a] : n.datas;
						return i.totalRecords = o.totalSize, e.extend(n, t.options.leftSourceParams), n.recordsTotal = o.totalSize, n.data = o.rows, t.initSelectedRecords(o.rows), delete n.datas, delete n.code, n
					}
				}) : i.localdata && (a = new e.jqx.dataAdapter(i));
				var o = e.extend({}, this.getNormalWindowOptions(), {
					source: a,
					pagerMode: "advanced",
					height: 315,
					pageable: !1,
					columns: t.options.rightColumns || [{
						dataField: "onlineDate",
						cellsRenderer: function(i, a, o, r) {
							var s = e(t.options.rightcellsRenderer(i, a, o, r)),
								l = t.options.showOrder ? '<i class="iconfont icon-keyboardarrowup rightgrid-up"></i><i class="iconfont icon-keyboardarrowdown rightgrid-down"></i>' : "";
							return s.append('<a class="gm-member-delete" data-x-id="' + r[n] + '" href="javascript:void(0)">' + l + '<i class="iconfont icon-delete rightgrid-delete"></i></a>').prop("outerHTML")
						}
					}],
					rendered: function() {
						t.rightRenderEventListener()
					}
				});
				t.$element.find(".rightGrid").jqxDataTable(o)
			},
			rightRenderEventListener: function() {
				var t = this,
					n = this.options.id;
				t.$element.find(".rightGrid").find("tr").removeAttr("data-key"), t.$element.find(".rightgrid-down").on("click", function() {
					for(var i = e(this).parent(), a = i.attr("data-x-id"), o = 0; o < t.selectedRecords.length; o++)
						if(t.selectedRecords[o][n] + "" == a + "" && o < t.selectedRecords.length - 1) {
							var r = t.selectedRecords[o];
							t.selectedRecords[o] = t.selectedRecords[o + 1], t.selectedRecords[o + 1] = r;
							break
						}
					t.refreshTable(t.$element.find(".rightGrid"))
				}), t.$element.find(".rightgrid-up").on("click", function() {
					for(var i = e(this).parent(), a = i.attr("data-x-id"), o = 0; o < t.selectedRecords.length; o++)
						if(t.selectedRecords[o][n] + "" == a + "" && o > 0) {
							var r = t.selectedRecords[o];
							t.selectedRecords[o] = t.selectedRecords[o - 1], t.selectedRecords[o - 1] = r;
							break
						}
					t.refreshTable(t.$element.find(".rightGrid"))
				}), t.$element.find(".rightgrid-delete").on("click", function() {
					for(var i = t.$element.find(".leftGrid"), a = e(this).parent(), o = a.attr("data-x-id"), r = t.leftGridRows, s = !1, l = t.selectedRecords, d = i.find(".gm-member-user"), c = 0; c < d.length; c++)
						if(e(d[c]).jqxCheckBox("val") && r[c][n] + "" == o + "") {
							t.options.afterDelete(r[c]);
							for(var h = 0; h < t.selectedRecords.length; h++) t.selectedRecords[h][n] + "" == o && (e(d[c]).jqxCheckBox("uncheck"), t.resetSelectALLStatus(), s = !0)
						}
					s || (_.each(l, function(e, t) {
						if(e[n] + "" == o + "") return l.splice(t, 1), !1
					}), t.refreshTable(t.$rightGrid), t.refreshSelectedCount())
				})
			},
			clear: function() {
				for(var t = this, n = t.$element.find(".leftGrid"), i = t.leftGridRows, a = t.selectedRecords, o = n.find(".gm-member-user"), r = 0; r < o.length; r++) {
					if(e(o[r]).jqxCheckBox("val"))
						for(var s = 0; s < t.selectedRecords.length; s++) t.selectedRecords[s][id] + "" == i[r][id] + "" && (e(o[r]).jqxCheckBox("uncheck"), t.resetSelectALLStatus())
				}
				a.splice(0, a.length), t.refreshTable(t.$rightGrid), t.options.showSelectedTip && $rightGrid.prev().html("已选中 " + a.length)
			},
			resetSelectALLStatus: function() {
				if(!1 !== this.options.multiSelect && null === this.options.maxSelect) {
					for(var t = this.$element.find(".leftGrid").find(".jqx-grid-pager"), n = this.$element.find(".leftGrid"), i = n.find(".gm-member-user"), a = 0, o = 0; o < i.length; o++) e(i[o]).jqxCheckBox("val") && a++;
					0 == a && !1 !== t.find(".leftgrid-select-all").jqxCheckBox("val") ? t.find(".leftgrid-select-all").jqxCheckBox("uncheck") : a == i.length && a > 0 ? t.find(".leftgrid-select-all").jqxCheckBox("check") : !0 === t.find(".leftgrid-select-all").jqxCheckBox("val") && t.find(".leftgrid-select-all").jqxCheckBox("indeterminate")
				}
			},
			reload: function(e, t) {
				this.querySetting = e, this.params = t, e.querySetting && (this.querySetting = e.querySetting), e.params && (this.params = e.params), this.reloadLeftTable()
			},
			resetContentHeight: function() {
				var e = this.$element,
					t = e.find(".jqx-window-content.jqx-widget-content.jqx-rc-b").css("height");
				t = parseInt(t) - 55 + "px", e.find(".jqx-window-content>.content").css({
					height: t,
					overflow: "auto"
				})
			},
			reloadLeftTable: function() {
				var t = this,
					n = e.trim(t.$element.find(".leftSearch").val()),
					i = this.options.localSearchField.split(","),
					a = this.options.leftLocalData;
				if(this.options.searchKeyNeedConvert && (n = n.toLowerCase()), a) {
					for(var o = [], r = 0; r < a.length; r++)
						for(var s = 0; s < i.length; s++) {
							var l = a[r][i[s]];
							if(l && (l = l.toLowerCase(), l.indexOf(n) >= 0)) {
								o.push(a[r]);
								break
							}
						}
					t.leftSource.localdata = o
				} else if(t.options.searchByQuerySetting && t.options.dataModel && t.options.dataModel.length) {
					var d = [];
					if("" !== n) {
						var c = t.options.dataModel.filter(function(e) {
							var t = WIS_EMAP_SERV.getAttr(e, "search");
							return "text" == t.xtype && 1 == t.quickSearch
						});
						c.length ? c.map(function(e) {
							d.push({
								name: e.name,
								value: n,
								caption: e.caption,
								builder: "include",
								linkOpt: "OR"
							})
						}) : console && console.error("数据模型未配置快速搜索的文本字段，搜索无法执行！")
					}
					if(this.querySetting) {
						var h = "object" == typeof this.querySetting ? JSON.stringify(this.querySetting) : this.querySetting;
						d = h.concat(d)
					}
					t.leftSource.data.querySetting = JSON.stringify(d)
				} else {
					n ? t.leftSource.data[this.options.searchKeyName] = n : t.leftSource.data && delete t.leftSource.data[this.options.searchKeyName];
					var p = e.extend({}, t.options.params, t.params, {
						querySetting: "object" == typeof this.querySetting ? JSON.stringify(this.querySetting) : this.querySetting
					});
					_.each(_.keys(p), function(e) {
						t.leftSource.data[e] = p[e]
					})
				}
				t.options.leftcellsBreforeReload && !1 === t.options.leftcellsBreforeReload(t.leftSource.data) || t.refreshTable(t.$element.find(".leftGrid"))
			},
			refreshTable: function(e) {
				e.jqxDataTable("goToPage", 0) || e.jqxDataTable("updateBoundData")
			},
			getChooseLayout: function() {
				var t = this,
					n = this.options.rightLocalData ? this.options.rightLocalData.length : 0,
					i = e('<div><div class="head"></div><div><div class="content">   <div class="content-top">' + this.options.topHtml + '</div>   <div class="gm-add-block bh-clearfix">        <div class="bh-col-md-6" style="background: #fff;padding-left:0px;padding-right:0px;">            <div class="gm-add-search bh-mb-8" style="margin:7px 8px 0 8px">                <input class="leftSearch" type="text" placeholder="' + this.options.placeholder + '">                 <button style="border:0px;width:0px;height:0px;position: absolute;padding:0;top: 0px;"></button>              <a href="javascript:void(0)"><i class="iconfont">&#xe895;</i></a>          </div>         <div class="noBorderGrid leftGrid leftgrid-container"></div>      </div>     <div class="bh-col-md-6 rightgrid-container">' + (!1 === this.options.showSelectedTip ? "<h3>已选择字段</h3>" : "<h3>已选中 " + n + "</h3>") + '           <div class="noBorderGrid transparentGrid rightGrid"></div>      </div></div><div class="content-bottom">' + this.options.bottomHtml + '</div><div id="buttons" style="position: absolute;bottom:32px;width: 100%;left: 0;float: right;padding: 0 24px;"></div></div></div></div>');
				if(this.options.insertContainer) return i;
				e(".head", i).append(e("<h2></h2>").append(this.options.title));
				var a = [{
					text: "确定",
					className: "bh-btn-primary",
					callback: function() {
						return t.options.callback(t.getSelectedRecords())
					}
				}, {
					text: "取消",
					className: "bh-btn-default",
					callback: function() {
						i.jqxWindow("close")
					}
				}];
				a = this.options.buttons || a;
				for(var o = a.length - 1; o >= 0; o--) {
					var r = e('<button class="bh-btn ' + a[o].className + ' bh-pull-right">' + a[o].text + "</button>");
					if(a[o].callback) {
						var s = a[o].callback;
						r.data("callback", s), r.click(function() {
							!1 !== e(this).data("callback").apply(i, [i]) && i.jqxWindow("close")
						})
					}
					e("#buttons", i).append(r)
				}
				return i
			}
		}
	}(jQuery),
	function() {
		function e(e, i) {
			var a = "",
				o = " ";
			return Array.isArray(i.operations) && Array.isArray(i.items) ? 0 === $(i.operations).length || 0 === $(i.items).length ? (console.error("请传入必填参数！"), !1) : ($(i.operations).each(function(e, t) {
				a += '<span class="bh-calculator-operation">' + t + "</span>"
			}), $(i.items).each(function(e, t) {
				o += '<span class="bh-calculator-item">' + t + "</span>"
			}), e.append('<div class="bh-calculator-container">    \t\t\t\t\t<div class="bh-calculator-operations">' + a + '</div>    \t\t\t\t\t<div class="bh-calculator-itemView">    \t\t\t\t\t\t<div class="bh-calculator-items">' + o + '</div>    \t\t\t\t\t\t<div class="bh-calculator-itemsController"><span class="bh-calculator-viewController"><i class="iconfont icon-keyboardarrowup"></i></span></div>    \t\t\t\t\t</div><textarea wrap="virtual" class="bh-calculator-result"></textarea>'), e.on("click", ".bh-calculator-item", function() {
				var t = $(this).text(),
					n = e.find(".bh-calculator-result").val();
				e.find(".bh-calculator-result").val(n + " [" + t + "] ")
			}), e.on("click", ".bh-calculator-operation", function() {
				var t = $(this).text(),
					n = e.find(".bh-calculator-result"),
					i = n.val();
				n.val(i + t)
			}), e.on("click", ".bh-calculator-itemsController", function() {
				e.find(".bh-calculator-viewController i.iconfont").hasClass("icon-keyboardarrowup") ? (e.find(".bh-calculator-items").height("28px"), e.find(".bh-calculator-itemView").height("48px"), e.find(".bh-calculator-viewController i.iconfont").removeClass("icon-keyboardarrowup").addClass("icon-keyboardarrowdown")) : (e.find(".bh-calculator-items").height("141px"), e.find(".bh-calculator-itemView").height("160px"), e.find(".bh-calculator-viewController i.iconfont").removeClass("icon-keyboardarrowdown").addClass("icon-keyboardarrowup"))
			}), t(e, ".bh-calculator-operations", ".bh-calculator-operation"), void n(e, ".bh-calculator-itemView", ".bh-calculator-item")) : (console.error("参数类型错误，请传入数组！"), !1)
		}

		function t(e, t, n) {
			var i = e.find(n),
				a = e.find(t).innerWidth(),
				o = 0;
			i.each(function(e, t) {
				if(o += $(t).outerWidth(!0), o == a && (o = 0), o > a) {
					var n = a - (o - $(t).outerWidth(!0)) + $(i[e - 1]).outerWidth();
					$(i[e - 1]).outerWidth(n), $(i[e - 1]).css("border-right", "none"), o = $(t).outerWidth(!0)
				}
			})
		}

		function n(e, t, n) {
			var i = e.find(n),
				a = e.find(t)[0].scrollWidth - 17,
				o = 0;
			i.each(function(e, t) {
				if(o += $(t).outerWidth(!0), o == a && (o = 0), o > a) {
					var n = a - (o - $(t).outerWidth(!0)) + $(i[e - 1]).outerWidth();
					$(i[e - 1]).outerWidth(n), $(i[e - 1]).css("border-right", "none"), o = $(t).outerWidth(!0)
				}
			})
		}
		var i;
		$.fn.bhCalculator = function(e, t) {
			var n;
			return n = this.data("bhCalculator"), n ? !0 === e ? n : "string" === $.type(e) ? n[e](t) : this : this.each(function() {
				return $(this).data("bhCalculator", new i(this, e))
			})
		}, $.fn.bhCalculator.defaults = {
			operations: void 0,
			items: void 0
		}, i = function() {
			function t(t, n) {
				this.settings = $.extend({}, $.fn.bhCalculator.defaults, n), this.$element = $(t), e(this.$element, this.settings)
			}
			return t.prototype.getValue = function() {
				return $(".bh-calculator-result", this.$element).val()
			}, t.prototype.setValue = function(e) {
				return $(".bh-calculator-result", this.$element).val(e), this.$element
			}, t.prototype.disabled = function() {
				return $(".bh-calculator-result", this.$element).attr("disabled", "disabled"), this.$element
			}, t.prototype.enabled = function() {
				return $(".bh-calculator-result", this.$element).removeAttr("disabled"), this.$element
			}, t.prototype.destroy = function() {
				this.options = null, $(this.$element).data("bhCalculator", !1).empty()
			}, t
		}()
	}.call(this),
	function() {
		function e(e) {
			this.options = e, this.$element = t(e), i(this.$element, this.options), n(this.$element)
		}

		function t(e) {
			var t = [];
			e.useGroup ? t = WIS_EMAP_SERV._sortModel(e.model) : t.push(e.model);
			var n = e.columns,
				i = '<div class="bh-customize-content">';
			$(t).each(function() {
				var a = [],
					o = 0,
					r = 0,
					s = e.colNum || 6,
					l = 100 / s + "%",
					d = this.groupName;
				$.each(n, function(t, n) {
					void 0 === n.datafield && n.name && (n.datafield = n.name), n.text = e.model[t].caption || n.text;
					var i = n.datafield && n.datafield.replace("_DISPLAY", "");
					if("undefined" !== $.type(i) && "field_checkbox" != i && "field_radio" != i) {
						var s = !1;
						e.alwaysHide && e.alwaysHide.length && (s = $.inArray(i, e.alwaysHide) > -1);
						var c = void 0 !== e.model[t]["grid.hidden"] ? e.model[t]["grid.hidden"] : e.model[t].hidden,
							h = !1;
						"grid" == e.modelType && (h = void 0 !== e.model[t]["grid.fixed"] ? e.model[t]["grid.fixed"] : e.model[t].fixed), c && h && (s = !0);
						var p = e.model.filter(function(e) {
							return e.name == i
						});
						p.length && (e.useGroup && p[0].groupName != d || (a.push(' <li class="cell bh-bColor-info-3" style="width:' + l + ";" + (s ? "display: none;" : "") + '"><div class="bh-checkbox bh-str-cut" title="' + n.text + '"><label><input type="checkbox" name="' + i + '" ' + (n.hidden ? "" : "checked") + " " + (h && !c ? "disabled" : "") + '><i class="bh-choice-helper"></i><span class="filed-name">' + n.text + "</span></label></div></li>"), n.hidden || s || r++, s || o++))
					}
				});
				var c = o % s;
				if(c)
					for(var h = 0; h < s - c; h++) a.push('<li class="cell bh-bColor-info-3" style="width:' + l + '">');
				var p = this.groupName;
				this.groupName && e.useGroup || (p = 1 == t.length ? "全选" : "未分组字段"), o > 0 && (!1 === e.multiSelect ? i += '<div class="group-select sc-title-borderLeft bh-mb-8" ' + (o ? "" : 'style="display: none;"') + "><b>" + p + "</b></div>" : i += '<div class="group-select bh-mb-8" ' + (o ? "" : 'style="display: none;"') + '><div class="bh-checkbox" style="padding-left: 9px;"><label><input type="checkbox" name="' + p + '" title="' + p + '"><i class="bh-choice-helper"></i><b>' + p + '</b></label><span class="bh-text-caption bh-color-caption">已选择：<span class="bh-color-warning selected-num">' + r + "</span></span></div></div>", i += '<div class="bh-customize-column-grid bh-bColor-info-3"><ul class="bh-clearfix" style="list-style:none">' + a.join("") + "</ul></div>")
			}), i += "</div>";
			var a = '<div class="bh-customize-column-search bh-mb-16"><input type="text" class="bh-form-control" placeholder="搜索字段"><i class="iconfont icon-search bh-import-step" style="position: absolute;left: 6px;top: 6px;"></i><span class="bh-color-caption"></span><div class="bh-customize-column-choose-finder bh-clearfix bh-color-info-2"><div class="bh-pull-left bh-bg-info-5 bh-border-v bh-border-r bh-bColor-info-3" action-type="up"><i class="iconfont icon-keyboardarrowup"></i></div><div class="bh-pull-left bh-bg-info-5 bh-border-v bh-border-r bh-bColor-info-3" action-type="down"><i class="iconfont icon-keyboardarrowdown"></i></div></div></div>' + i,
				o = e.title || "添加/删除字段",
				r = "export" === e.type,
				s = [{
					text: r ? "导出" : "保存",
					className: "bh-btn-primary",
					callback: function() {
						c.call(this, e)
					}
				}, {
					text: "取消",
					className: "bh-btn-default",
					callback: $.noop
				}],
				l = $.extend({
					width: "944px"
				}, e.params),
				d = BH_UTILS.bhWindow(a, o, s, l);
			WIS_EMAP_INPUT.placeHolder($("input[type=text]", d));
			var h = d.find(".jqx-window-content");
			h.niceScroll().remove();
			var p = h.height() - d.find(".bh-customize-column-search").outerHeight(!0);
			return d.find(".bh-customize-content").css({
				height: p,
				width: h.width()
			}).niceScroll(), r && d.find(".bh-customize-column-grid").length > 1 && d.find("#buttons").append('<div class="select-all-for-export bh-form-group bh-l-inline bh-pull-right"><div class="bh-checkbox"><label><input type="checkbox" value=""><i class="bh-choice-helper"></i>全选</label></div></div>'), d
		}

		function n(e) {
			e.find(".group-select").each(function() {
				var e = !0;
				$(this).next().find("input:visible:not(:disabled)").each(function() {
					if(!$(this).prop("checked")) return e = !1, !1
				}), $(this).find("input").prop("checked", e)
			}), d(e)
		}

		function i(e, t) {
			if(a(e), o(e, t), r(e, t), s(e), !1 === t.multiSelect) {
				var n = $(".bh-customize-column-grid input[type=checkbox]", e);
				n.on("change", function(e) {
					n.each(function(t) {
						$(this).prop("checked") && this !== e.target && $(this).prop("checked", !1)
					})
				})
			}
			l(e)
		}

		function a(e) {
			e.find(".bh-customize-column-search input").on("input", function() {
				var e = $(this).val();
				if(e) {
					var t = 0,
						n = $(this).closest(".content");
					n.find("li:visible .bh-checkbox").each(function() {
						var n = $(this),
							i = n.attr("title");
						e && i.indexOf(e) > -1 && (i = i.replace(e, '<i class="bh-bg-warning-3" role-box-index="' + t + '">' + e + "</i>"), t++), n.find(".filed-name").html(i)
					}), $(this).closest(".bh-customize-column-search").find(".bh-customize-column-choose-finder").show(), h(n)
				} else $(this).nextAll("span").text(""), $(this).closest(".bh-customize-column-search").find(".bh-customize-column-choose-finder").hide()
			})
		}

		function o(e, t) {
			e.on("change", ".group-select input", function(e) {
				var n = $(this).prop("checked"),
					i = $(this).closest(".group-select").next().find("li:visible input");
				if(i.filter(":not(:disabled)").prop("checked", n), $(this).closest(".group-select").find(".selected-num").text(i.filter(":checked").length), t.mustSelect) {
					var a = $(e.delegateTarget).find(".selected-num"),
						o = 0;
					a.each(function() {
						o += 1 * $(this).text()
					}), $(e.delegateTarget).find("#buttons:last button.bh-btn-primary").attr("disabled", !o)
				}
			})
		}

		function r(e, t) {
			e.find(".bh-customize-column-grid").on("change", "li input", function(e) {
				var n = $(e.delegateTarget),
					i = n.prev().find(".selected-num"),
					a = 1 * i.text();
				if($(this).prop("checked")) n.closest(".content").next().find("button.bh-btn-primary").removeAttr("disabled"), a++, n.prev().find("input").prop("checked", n.find("li:visible :input").length === a);
				else {
					var o = n.parent();
					if(t.mustSelect) {
						var r = !0;
						o.find("li:visible input").each(function() {
							if($(this).prop("checked")) return r = !1, !1
						}), n.closest(".content").next().find("button.bh-btn-primary").attr("disabled", r)
					}
					n.prev().find("input").prop("checked", !1), a--
				}
				i.text(a)
			})
		}

		function s(e) {
			e.on("click", ".bh-customize-column-choose-finder>div", function(e) {
				h($(e.delegateTarget), $(e.currentTarget).attr("action-type"))
			}).on("keyup", "input[type=text].bh-form-control", function(e) {
				13 == e.keyCode && h($(e.delegateTarget), "down")
			})
		}

		function l(e) {
			e.on("change", ".select-all-for-export input", function(e) {
				var t = $(this).prop("checked");
				$(e.delegateTarget).find(".group-select input").each(function() {
					$(this).prop("checked", t), $(this).trigger("change")
				})
			}), e.on("change", ".bh-customize-content input", function(e) {
				d($(e.delegateTarget))
			})
		}

		function d(e) {
			var t = !0;
			e.find(".group-select input").each(function() {
				if(!$(this).prop("checked")) return t = !1, !1
			}), e.find(".select-all-for-export input").prop("checked", t)
		}

		function c(e) {
			var t = [];
			$(this).find('li input[type="checkbox"]').each(function() {
				t.push({
					name: $(this).attr("name"),
					hidden: !$(this).prop("checked")
				})
			}), e.callback && e.callback.call(this, t)
		}

		function h(e, t) {
			var n = e.find("i[role-box-index]"),
				i = n.length,
				a = "共" + i + "条",
				o = e.find(".bh-bg-warning-2");
			if(i) {
				var r = 0;
				if(o.length) {
					o.removeClass("bh-bg-warning-2").addClass("bh-bg-warning-3");
					var s = 1 * o.attr("role-box-index");
					r = "up" !== t ? s === i - 1 ? 0 : s + 1 : 0 === s ? i - 1 : s - 1
				}
				n.eq(r).removeClass("bh-bg-warning-3").addClass("bh-bg-warning-2").focus(), p(e), a = "第" + (r + 1) + "条；" + a
			} else a = "第0条；" + a;
			e.find(".bh-customize-column-search>span").text(a)
		}

		function p(e) {
			var t = e.find(".bh-bg-warning-2").closest("li"),
				n = t.height(),
				i = t.position(),
				a = t.closest(".bh-customize-column-grid").position().top + i.top,
				o = e.find(".bh-customize-content"),
				r = o.height(),
				s = o.niceScroll().newscrolly || 0;
			if(a < 0 || a + n > r) {
				var l = a - r / 2;
				o.niceScroll().doScrollTop(s + l, .3)
			}
		}
		$.bhCustomizeColumn = function(t) {
			return new e($.extend({}, $.bhCustomizeColumn.default, t))
		}, $.bhCustomizeColumn.default = {
			modelType: "grid",
			multiSelect: !0,
			useGroup: !1,
			mustSelect: !0,
			type: "toggle"
		}, e.prototype.getValue = function() {
			var e = {};
			return this.$element.find('li input[type="checkbox"]').each(function() {
				e[$(this).attr("name")] = {
					hidden: !$(this).prop("checked")
				}
			}), e
		}
	}.call(this),
	function() {
		var e, t, n, i = function(n, i) {
			return i.mode && (i.model = i.mode), this.$element = $(n), this.options = e(i), t(this.$element, this.options), this
		};
		i.prototype.val = function(e) {
			return e ? this.setValue(e) : this.getValue()
		}, i.prototype.setValue = function(e) {
			var t = $('input[bh-form-role="dateTimeInput"]', this.$element);
			if($.isPlainObject(e)) e.hasOwnProperty("startDate") && t.first().data("DateTimePicker").date(e.startDate), e.hasOwnProperty("endDate") && t.last().data("DateTimePicker").date(e.endDate);
			else {
				var n = e.split(",");
				2 === n.length ? t.each(function(e) {
					$(this).data("DateTimePicker").date(n[e])
				}) : t.data("DateTimePicker").date(e)
			}
			return this.$element
		}, i.prototype.clear = function() {
			return $('input[bh-form-role="dateTimeInput"]', this.$element).each(function() {
				$(this).data("DateTimePicker").date(null)
			}), this.$element
		}, i.prototype.getValue = function() {
			return {
				startDate: $('[role="startDatePicker"]', this.$element).bhDateTimePicker("getValue"),
				endDate: $('[role="endDatePicker"]', this.$element).bhDateTimePicker("getValue")
			}
		}, i.prototype.disabled = function(e) {
			return $.isPlainObject(e) ? (e.hasOwnProperty("start") && this.$element.find('[role="startDatePicker"]').bhDateTimePicker("disabled", e.start), e.hasOwnProperty("end") && this.$element.find('[role="endDatePicker"]').bhDateTimePicker("disabled", e.end)) : this.$element.find('[type="datePicker"]').each(function() {
				$(this).bhDateTimePicker("disabled", e)
			}), this.$element
		}, i.prototype.getStartPicker = function() {
			return this.$element.find('[role="startDatePicker"]').bhDateTimePicker("getDatePicker")
		}, i.prototype.startMaxDate = function(e) {
			return void 0 === e ? this.$element.find('[role="startDatePicker"]').bhDateTimePicker("getDatePicker").maxDate() : this.$element.find('[role="startDatePicker"]').bhDateTimePicker("maxDate", e)
		}, i.prototype.startMinDate = function(e) {
			return void 0 === e ? this.$element.find('[role="startDatePicker"]').bhDateTimePicker("getDatePicker").maxDate() : this.$element.find('[role="startDatePicker"]').bhDateTimePicker("minDate", e)
		}, i.prototype.getEndPicker = function() {
			return this.$element.find('[role="endDatePicker"]').bhDateTimePicker("getDatePicker")
		}, i.prototype.endMaxDate = function(e) {
			return void 0 === e ? this.$element.find('[role="endDatePicker"]').bhDateTimePicker("getDatePicker").maxDate() : this.$element.find('[role="endDatePicker"]').bhDateTimePicker("maxDate", e)
		}, i.prototype.endMinDate = function(e) {
			return void 0 === e ? this.$element.find('[role="endDatePicker"]').bhDateTimePicker("getDatePicker").minDate() : this.$element.find('[role="endDatePicker"]').bhDateTimePicker("minDate", e)
		}, e = function(e) {
			var t = $.extend(!0, {}, $.fn.bhDateAreaPicker.defaults, e),
				n = t.end,
				i = t.start;
			return delete t.start, delete t.end, {
				start: $.extend(!0, {}, t, i),
				end: $.extend(!0, {}, t, n)
			}
		}, t = function(e, t) {
			e.html('<div class="bh-data-area-picker-clear"><div class="bh-col-md-6"><div role="startDatePicker" type="datePicker"></div></div><span class="bh-data-area-picker-split">-</span><div class="bh-col-md-6"><div role="endDatePicker" type="datePicker"></div></div></div>'), e.find('div[role="startDatePicker"]').bhDateTimePicker(t.start), e.find('div[role="endDatePicker"]').bhDateTimePicker(t.end), n(e, t)
		}, n = function(e, t) {
			$('[type="datePicker"]', e).on("dp.change", function(e) {
				var t = $(this).find('[bh-form-role="dateTimeInput"]').data("DateTimePicker");
				$(this).parent().nextAll("div").each(function() {
					var n = $(this).find("input[bh-form-role=dateTimeInput]").data("DateTimePicker"),
						i = n.date(),
						a = moment(e.date, t.format()).toDate();
					if(i && moment(i.format(n.format()), n.format()).toDate() < a) return $.bhTip({
						content: "开始日期大于结束日期",
						state: "warning"
					}), !1;
					n.minDate(e.date ? e.date.format(n.format()) : null)
				}), $(this).parent().prevAll("div").each(function() {
					var n = $(this).find("input[bh-form-role=dateTimeInput]").data("DateTimePicker"),
						i = n.date(),
						a = moment(e.date, t.format()).toDate();
					if(i && moment(i.format(n.format()), n.format()).toDate() > a) return $.bhTip({
						content: "结束日期小于开始日期",
						state: "warning"
					}), !1;
					n.maxDate(e.date ? e.date.format(n.format()) : null)
				})
			})
		}, $.fn.bhDateAreaPicker = function(e, t) {
			var n;
			return n = this.data("bhDateAreaPicker"), n ? !0 === e ? n : "string" === $.type(e) ? n[e](t) : this : this.each(function() {
				return $(this).data("bhDateAreaPicker", new i(this, e))
			})
		}, $.fn.bhDateAreaPicker.defaults = {
			format: "YYYY-MM-DD",
			start: {},
			end: {}
		}
	}.call(this),
	function() {
		var e, t = $.fn.val;
		$.fn.val = function() {
			var e = arguments,
				n = $(this).data("bhdatetimepicker");
			return n ? n.val.apply(n, e) : t.apply(this, e)
		};
		var n = function(t, n) {
			return n.mode && (n.model = n.mode), this.options = $.extend({}, $.fn.bhDateTimePicker.defaults, n), this.$element = $(t), e(this.$element, this.options), this
		};
		n.prototype.val = function(e) {
			return void 0 === e ? this.$element.bhDateTimePicker("getValue") : this.$element.bhDateTimePicker("setValue")
		}, n.prototype.setValue = function(e) {
			var t = this.getDatePicker();
			return "" === e && (e = null), t.date(e), this.$element
		}, n.prototype.getValue = function() {
			return $('[bh-form-role="dateTimeInput"]', this.$element).val()
		}, n.prototype.disabled = function(e) {
			var t = this.$element;
			return !0 === e ? (t.addClass("bh-disabled"), $('[bh-form-role="dateTimeInput"]', t).attr("disabled", !0)) : !1 === e && (t.removeClass("bh-disabled"), $('[bh-form-role="dateTimeInput"]', t).attr("disabled", !1)), t
		}, n.prototype.show = function() {
			return this.getDatePicker().show(), this.element
		}, n.prototype.hide = function() {
			return this.getDatePicker().hide(), this.element
		}, n.prototype.minDate = function(e) {
			return this.getDatePicker().minDate(e), this.element
		}, n.prototype.maxDate = function(e) {
			return this.getDatePicker().maxDate(e), this.element
		}, n.prototype.date = function() {
			var e = arguments;
			if("undefined" === $.type(e)) {
				var t = this.getDatePicker();
				return t.date.apply(t, e)
			}
			return this.getDatePicker().date()
		}, n.prototype.getDatePicker = function() {
			return this.$element.find("input[bh-form-role=dateTimeInput]").data("DateTimePicker")
		}, e = function(e, t) {
			e.html('<input bh-form-role="dateTimeInput" type="text" class="bh-form-control"/><span class="bhtc-input-group-addon"><i class="iconfont icon-daterange"></i></span>').addClass("bhtc-input-group"), $("[bh-form-role=dateTimeInput]", e).datetimepicker(t), $("[bh-form-role=dateTimeInput]", e).on("blur", function() {
				e.trigger("dateInputBlur")
			}).on("dp.change", function(e) {
				e.type = "change", e.namespace = "", $(this).parent().trigger(e)
			})
		}, $.fn.bhDateTimePicker = function(e, t) {
			var i;
			return i = this.data("bhdatetimepicker"), i ? !0 === e ? i : "string" === $.type(e) ? i[e](t) : this : this.each(function() {
				return $(this).data("bhdatetimepicker", new n(this, e))
			})
		}, $.fn.bhDateTimePicker.defaults = {
			format: "YYYY-MM-DD",
			tooltips: {
				today: "跳到今天",
				clear: "清除选择",
				close: "关闭选择器",
				selectMonth: "选择月",
				prevMonth: "上一月",
				nextMonth: "下一月",
				selectYear: "选择年",
				prevYear: "上一年",
				nextYear: "上一年",
				selectDecade: "选择十年",
				prevDecade: "上个十年",
				nextDecade: "下个十年",
				prevCentury: "上个世纪",
				nextCentury: "下个世纪",
				pickHour: "选择小时",
				incrementHour: "加小时",
				decrementHour: "少小时",
				pickMinute: "选择分钟",
				incrementMinute: "加分钟",
				decrementMinute: "减分钟",
				pickSecond: "选择秒",
				incrementSecond: "加秒",
				decrementSecond: "减秒",
				togglePeriod: "切换周期",
				selectTime: "选择时间"
			}
		}, $.fn.bhDateTimePicker.prototype.constructor = n
	}.call(this),
	function() {
		$.bhDefaults = $.bhDefaults || {}, $.bhDefaults.Dialog = {
			type: "",
			title: "",
			content: "",
			buttons: [],
			width: "auto",
			height: "auto"
		}, $.bhDialog = function(e) {
			var t = $("body"),
				n = $.extend({}, $.bhDefaults.Dialog, e || {}),
				i = {
					_init: function() {
						var e = $("<div class='bh-bhdialog-container'></div>"),
							a = i.NewGuid();
						e.attr("id", "dialog" + a);
						var o = $("<div class='bh-modal'></div>"),
							r = $("<div class='bh-pop bh-card bh-card-lv4 bh-dialog-con'></div>");
						n.className && r.addClass(n.className), i._createDialogIcon(r), i._createDialogBody(r, a), i._createDialogBtn(r, a), o.append(r), e.append(o), e.append($('<div class="bh-modal-backdrop"></div>')), t.append(e), i._resetPos(r), i._checkScrollbar(), t.hasClass("bh-has-modal-body") ? i.isRetainModal = !0 : (i.isRetainModal = !1, t.addClass("bh-has-modal-body"))
					},
					_resetPos: function(e) {
						var t = document.documentElement.clientHeight,
							n = e.height();
						e.css("margin-top", (t - n) / 2)
					},
					_checkScrollbar: function() {
						var e = window.innerWidth;
						if(!e) {
							var t = document.documentElement.getBoundingClientRect();
							e = t.right - Math.abs(t.left)
						}
						var n = document.body.clientWidth < e,
							a = i._measureScrollbar();
						i._setScrollbar(n, a)
					},
					_setScrollbar: function(e, n) {
						var i = $("body").attr("wpr"),
							a = parseInt(t.css("padding-right") || 0, 10);
						$("body").attr("wpr", void 0 !== i ? i : document.body.style.paddingRight || ""), e && (t.css("padding-right", a + n), $('[bh-header-role="bhHeaderMini"]').css("padding-right", a + n), $('[bh-header-role="bhHeader"]').css("padding-right", a + n))
					},
					_resetScrollbar: function() {
						var e = $("body").attr("wpr");
						$("body").css("padding-right", e), $('[bh-header-role="bhHeaderMini"]').css("padding-right", e), $('[bh-header-role="bhHeader"]').css("padding-right", e)
					},
					_measureScrollbar: function() {
						var e = document.createElement("div");
						e.className = "bh-modal-scrollbar-measure", t.append(e);
						var n = e.offsetWidth - e.clientWidth;
						return t[0].removeChild(e), n
					},
					_removeDialog: function(e) {
						$("#dialog" + e).remove(), i._resetScrollbar(), i.isRetainModal ? i.isRetainModal = !1 : t.removeClass("bh-has-modal-body")
					},
					_createDialogBody: function(e, t) {
						var a = $("<div class='bh-dialog-content'></div>"),
							o = $('<div class="content"></div>');
						o.html(i._getContent(n)), a.append(o), n.subContent && ($(".bh-dialog-expand", a).on("click", function() {
							$(this).hide(), $(".bh-dialog-subContent", a).show()
						}), $(".bh-dialog-collapse", a).on("click", function() {
							$(this).parent().hide(), $(".bh-dialog-expand", a).show()
						})), e.find("#bh-dialog-exceptBtn-chilid").append(a)
					},
					_getContent: function(e) {
						if(e.subContent) {
							var t = e.content;
							return t += '<a href="javascript:void(0)" class="bh-dialog-expand">详情</a>', t += '<div class="bh-dialog-subContent" >' + e.subContent + '<a href="javascript:void(0)" class="bh-dialog-collapse">收起</a></div>'
						}
						return e.content
					},
					_createDialogBtn: function(e, t) {
						var a = $('<div class="bh-dialog-center"></div>');
						if(n.buttons && n.buttons.length > 0)
							for(var o = n.buttons.length, r = 0; r < o; r++) {
								var s = i._createBtn(n.buttons[r], t);
								a.append(s)
							} else i._getDefalutDialog(t, a);
						i._setDialogClass(a), e.append(a)
					},
					_setDialogClass: function(e) {
						var t, i = e.find(".bh-dialog-btn");
						t = i[0], 1 == i.length && i.css("width", "100%"), "success" == n.type ? $(t).addClass("bh-dialog-success-btn") : "warning" == n.type ? $(t).addClass("bh-dialog-warning-btn") : "danger" == n.type && $(t).addClass("bh-dialog-danger-btn")
					},
					_createBtn: function(e, t) {
						var n = $("<a href='javascript:void(0);' class='bh-dialog-btn'></a>");
						return e && e.text && n.text(e.text), e && e.className && n.addClass(e.className), n.click(function() {
							i._removeDialog(t), e.callback && e.callback()
						}), n
					},
					_getDefalutDialog: function(e, t) {
						var a = [],
							o = [];
						return "success" == n.type ? (a = i._createBtn({
							text: "关闭"
						}, e), t.append(a)) : "warning" == n.type ? (o = [{
							text: "确定",
							callback: null
						}, {
							text: "取消",
							callback: null
						}], i._appendDefaultDialog(o, t, e)) : "danger" == n.type && (o = [{
							text: "重试",
							callback: null
						}, {
							text: "取消",
							callback: null
						}], i._appendDefaultDialog(o, t, e)), a
					},
					_appendDefaultDialog: function(e, t, n) {
						for(var a = [], o = 0; o < e.length; o++) a = i._createBtn(e[o], n), t.append(a)
					},
					_createDialogIcon: function(e) {
						if("" != n.type) {
							var t = i._getDialogIconDom(n.type);
							e.append(t)
						}
					},
					_getDialogIconDom: function(e) {
						var t = "";
						return "success" == e ? t = "checkcircle" : "warning" == e ? t = "info" : "danger" == e && (t = "cancel"), '<div class="bh-dialog-exceptBtn-con bh-dialog-icon-color' + e + '" id="bh-dialog-exceptBtn-con"><div class="bh-dialog-exceptBtn-chilid" id="bh-dialog-exceptBtn-chilid"><div class="bh-dialog-img-con bh-mb-16"><i class="iconfont icon-setstyle icon-' + t + '"></i></div><h2 class="bh-dialog-title-text bh-mb-16">' + n.title + "</h2></div></div>"
					},
					NewGuid: function() {
						return i.S4() + i.S4() + "-" + i.S4() + "-" + i.S4() + "-" + i.S4() + "-" + i.S4() + i.S4() + i.S4()
					},
					S4: function() {
						return(65536 * (1 + Math.random()) | 0).toString(16).substring(1)
					}
				};
			"" == n.type && n.iconType && (n.type = n.iconType), "" !== n.content && void 0 !== n.content || (n.content = n.title, n.title = "提示"), i._init()
		}
	}.call(this),
	function(e) {
		function t(e, t) {
			var i = {};
			i.ele = t, i.width = e.width, i.type = e.type, i.max = e.max, i.min = e.min, i.value = e.value, i.step = e.step, i.disabled = e.disabled, i.rangeNum = i.max - i.min, i.fraction = i.rangeNum / i.step, i.isRange = "range" === e.type, i.isNode = "node" === e.type, i.nodeNum = e.nodeNum, n(i), o(i), g(i), w(i)
		}

		function n(e) {
			e.guid = BH_UTILS.NewGuid();
			e.ele.html('<div class="bh-slider-base"></div><div class="bh-slider-value"></div><div class="bh-slider-dot" flag="unactive" draggable="true"></div>'), e.ele.attr("bh-slider-guid", e.guid), e.baseEle = e.ele.find(".bh-slider-base"), e.valueEle = e.ele.find(".bh-slider-value"), e.isRange && i(e), e.isNode && a(e), e.dot = e.ele.find(".bh-slider-dot")
		}

		function i(e) {
			e.valueEle.before('<div class="bh-slider-dot" flag="unactive" draggable="true"></div>')
		}

		function a(e) {
			for(var t = "", n = 0; n < e.nodeNum; n++) t += '<div class="bh-slider-nodeCon"><div class="bh-slider-node bh-mb-16"></div><div class="bh-slider-nodeIndex">' + n + "</div></div>";
			e.baseEle.append(t)
		}

		function o(e) {
			e.baseEle.parent().addClass("bh-slider-container"), e.baseEle.css("width", e.width), e.baseWidth = e.baseEle.width(), e.stepEDis = e.baseWidth / e.fraction, e.tipTop = e.valueEle.offset().top, e.nomalLeft = e.ele.offset().left, r(e), p(e)
		}

		function r(e) {
			e.isRange ? h(e) : c(e), e.isNode ? s(e) : c(e)
		}

		function s(e, t) {
			var n = 0;
			if(t) {
				n = b(e, e.ele.find('.bh-slider-dot[flag="active"]'))
			} else n = e.value;
			var i = C(e, n),
				a = e.baseWidth / (e.nodeNum - 1),
				o = parseInt(i / a);
			e.nodeNum;
			l(e, o, a), d(e, o, a)
		}

		function l(t, n, i) {
			for(var a = t.ele.find(".bh-slider-nodeCon"), o = 0; o <= n; o++) {
				var r = e(a[o]),
					s = r.find(".bh-slider-node"),
					l = r.find(".bh-slider-nodeIndex"),
					d = i * o;
				r.css("left", d), l.removeClass("bh-slider-node-unChoosedIndex").addClass("bh-slider-node-choosedIndex"), t.disabled ? s.addClass("bh-node-choosed-disabled") : s.removeClass("bh-node-unChoosed").addClass("bh-node-choosed")
			}
		}

		function d(t, n, i) {
			for(var a = t.ele.find(".bh-slider-nodeCon"), o = n + 1; o < t.nodeNum; o++) {
				var r = e(a[o]),
					s = r.find(".bh-slider-node"),
					l = r.find(".bh-slider-nodeIndex"),
					d = i * o;
				r.css("left", d), l.removeClass("bh-slider-node-choosedIndex").addClass("bh-slider-node-unChoosedIndex"), t.disabled ? s.addClass("bh-node-unChoosed-disabled") : s.removeClass("bh-node-choosed").addClass("bh-node-unChoosed")
			}
		}

		function c(e) {
			var t = C(e, e.value);
			e.dot.css("left", t + "px"), e.valueEle.css("width", t + "px")
		}

		function h(t) {
			var n = t.value[1] - t.value[0],
				i = C(t, t.value[0]),
				a = C(t, t.value[1]),
				o = C(t, n);
			e(t.dot[0]).css("left", i + "px"), e(t.dot[1]).css("left", a + "px"), t.valueEle.css("width", o), t.valueEle.css("left", i + 8 + "px")
		}

		function p(e) {
			e.disabled ? u(e) : f(e)
		}

		function u(t) {
			t.baseEle.addClass("bh-slider-disable-base"), t.valueEle.addClass("bh-slider-disable-variety"), t.dot.each(function(n) {
				e(t.dot[n]).addClass("bh-slider-disable-dot")
			})
		}

		function f(t) {
			t.baseEle.addClass("bh-slider-active-base"), t.valueEle.addClass("bh-slider-active-variety"), t.dot.each(function(n) {
				e(t.dot[n]).addClass("bh-slider-active-dot")
			})
		}

		function g(t) {
			var n = '<div class="bh-slider-tip bh-animate-opacity" bh-slider-guid="' + t.guid + '"></div>';
			e("body").append(n);
			var i = e('[bh-slider-guid="' + t.guid + '"]');
			t.tip = i.filter(function(t) {
				return e(i[t]).hasClass("bh-slider-tip") ? e(i[t]) : ""
			})
		}

		function v(e) {
			var t = e.ele.find('.bh-slider-dot[flag="active"]'),
				n = b(e, t),
				i = m(e, t);
			e.tip.text(n).css({
				left: i.left + "px",
				top: i.top + "px"
			})
		}

		function b(e, t) {
			var n = t.offset().left - e.nomalLeft;
			return Math.round(n / e.stepEDis) * e.step
		}

		function m(e, t) {
			var n = parseInt(t.width() / 2, 10),
				i = t.offset(),
				a = i.left + n,
				o = parseInt(e.tip.width() / 2, 10),
				r = e.tip.height(),
				s = a - o;
			return {
				top: i.top - r - 8 - 2,
				left: s
			}
		}

		function y(t) {
			if(!t.disabled) {
				e("body").data("bhSliderData", t), T = !0;
				e("body").on("mousemove", function(t) {
					if(T) {
						var n = e("body").data("bhSliderData");
						k(n, t.pageX - n.nomalLeft), v(n), n.isNode && (s(n, !0), BH_UTILS.clearTextSelect())
					}
				})
			}
		}

		function k(e, t) {
			var n = (e.valueEle.width(), e.ele.find('.bh-slider-dot[flag="active"]')),
				i = n.offset().left - e.nomalLeft,
				a = C(e, t, !0);
			if(!(a < 0 || a > e.baseWidth)) {
				var o = a;
				if(e.isRange) {
					var r = e.ele.find('.bh-slider-dot[flag="unactive"]'),
						s = r.offset().left - e.nomalLeft;
					a -= s, a < 0 && (a = -a), i < s ? e.valueEle.css("left", i + 8 + "px") : i > s && e.valueEle.css("left", s + 8 + "px")
				}
				n.css("left", o), e.valueEle.css("width", a)
			}
		}

		function C(e, t, n) {
			var i = t / e.step;
			return n && (i = t / e.stepEDis), Math.round(i * e.stepEDis)
		}

		function w(t) {
			var n = (t.valueEle.width(), e("body"));
			t.dot.on("mouseover", function(n) {
				T || (t.tip.css("opacity", "1"), e(n.target).attr("flag", "active")), v(t)
			}), t.dot.on("mouseout", function(n) {
				T || (e(n.target).attr("flag", "unactive"), t.tip.css("opacity", "0"))
			}), t.baseEle.parent().on("mouseout", function(e) {}), t.dot.on("mousedown", function(n) {
				return e(n.target).attr("flag", "active"), y(t), !1
			}), n.on("mouseup", function() {
				return T = !1, t.dot.each(function(n) {
					e(t.dot[n]).attr("flag", "unactive")
				}), t.tip.css("opacity", "0"), !1
			}), t.dot[0].ondragstart = function(e) {
				T = !1
			}, t.dot[0].ondrag = function(e) {
				T = !1
			}, t.valueEle[0].ondragstart = function(e) {
				T = !1
			}, t.valueEle[0].ondrag = function(e) {
				T = !1
			}, t.baseEle[0].ondragstart = function(e) {
				T = !1
			}, t.baseEle[0].ondrag = function(e) {
				T = !1
			}
		}
		e.fn.bhSlider = function(t, n) {
			var i;
			if(!(i = this.data("bhSlider"))) return this.each(function() {
				return e(this).data("bhSlider", new x(this, t))
			});
			if(!0 === t) return i;
			if("string" === e.type(t)) {
				return i[t](n)
			}
		}, e.fn.bhSlider.defaults = {
			type: "node",
			width: "100%",
			min: 0,
			max: 100,
			step: 1,
			value: 50,
			disabled: !1,
			nodeNum: 7
		};
		var x, T = !1;
		x = function() {
			function n(n, i) {
				this.settings = e.extend({}, e.fn.bhSlider.defaults, i), this.$element = e(n), t(this.settings, this.$element)
			}
			return n.prototype.getDotValue = function(t) {
				var n = "";
				return n = t ? e(_slider.ele.find(".bh-slider-dot")[t]) : _slider.ele.find(".bh-slider-dot"), b(_slider, n)
			}, n
		}()
	}(jQuery),
	function(e) {
		"use strict";

		function t(t) {
			var a = new Date,
				o = n(t, a),
				s = e(o);
			t.rangeBoxDom = s, t.$rootElement.html(s), r(s, t);
			var l = i(t, a),
				h = e(l);
			t.popupBoxDom = h;
			var p = e("body");
			p.append(h), c(t, a), d(t), p.on("click", function(n) {
				var i = e(n.target || n.srcElement);
				if(i.closest('div[bh-time-picker-role="rangeBox"]').length > 0 || i.closest('div[bh-time-picker-role="selectBoxCont"]').length > 0 || i.closest("div.jqx-calendar").length > 0 || i.closest("div.jqx-listbox").length > 0) return void p.removeData("bhTimePick");
				var a = t.rangeBoxDom;
				if(a.hasClass("bh-active")) {
					if(p.data("bhTimePick")) return void p.removeData("bhTimePick");
					a.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click()
				}
			})
		}

		function n(e, t) {
			var n, i;
			n = e.settings.time.start && "today" !== e.settings.time.start ? B(e.settings.time.start) : t, i = e.settings.time.end && "today" !== e.settings.time.end ? B(e.settings.time.end) : t;
			var a = N(n, e),
				o = N(i, e),
				r = a + "-" + o,
				s = "";
			e.settings.width && (s = "width: " + parseInt(e.settings.width, 10) + "px;");
			var l = "";
			return e.settings.isDisable && (l = '<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>'), '<div class="bh-timePicker-rangeBox bh-clearfix" bh-time-picker-role="rangeBox" style="' + s + '"><div class="bh-timePicker-rangeBox-selectIcon bh-left" bh-time-picker-role="rangeBoxPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="rangeBoxSelectTime">' + r + '</div><div class="bh-timePicker-rangeBox-selectIcon bh-right" bh-time-picker-role="rangeBoxNext">&gt;</div>' + l + '</div><div class="bh-clearfix"></div>'
		}

		function i(e, t) {
			var n = o(e, t),
				i = 0,
				r = t.getFullYear(),
				s = e.settings.range.max && "today" !== e.settings.range.max ? B(e.settings.range.max).getFullYear() : r,
				l = e.settings.range.min && "today" !== e.settings.range.min ? B(e.settings.range.min).getFullYear() : r,
				d = e.settings.range.max && r >= s,
				c = e.settings.range.min && r <= l;
			return i = s, i > r && (i = r), '<div class="bh-timePick-selectBoxCont" bh-time-picker-role="selectBoxCont"><div class="bh-timePick-selectBox bh-card bh-card-lv2" bh-time-picker-role="selectBox"><ul class="bh-timePick-tab" bh-time-picker-role="selectTab"><li class="bh-timePick-tabItem bh-active">自定义选择</li><li class="bh-timePick-tabItem">按月选择</li></ul><div class="bh-timePick-tabContent" bh-time-picker-role="selectTabContent"><div class="bh-timePick-custom bh-active"><div class="bh-timePick-customTime bh-clearfix" bh-time-picker-role="selectCustom"><div class="bh-timePick-selectType" bh-time-picker-role="selectType"></div><div class="bhtc-input-group" bh-time-picker-role="selectStart">' + a() + '</div><div class="bh-timePick-selectConnect"></div><div class="bhtc-input-group" bh-time-picker-role="selectEnd">' + a() + '</div></div><a class="bh-btn bh-btn-primary bh-btn-block" bh-time-picker-role="selectOk" href="javascript:void(0);">确定</a></div><div class="bh-timePick-selectMonthCont" bh-time-picker-role="selectMonthBlock"><div class="bh-timePick-selectMonth bh-timePicker-rangeBox bh-clearfix"><div class="bh-timePicker-rangeBox-selectIcon bh-left ' + (c ? "bh-disabled" : "") + '" bh-time-picker-role="selectMonthPre">&lt;</div><div class="bh-timePicker-rangeBox-time" bh-time-picker-role="selectMonthYear">' + i + '年</div><div class="bh-timePicker-rangeBox-selectIcon bh-right ' + (d ? "bh-disabled" : "") + '" bh-time-picker-role="selectMonthNext">&gt;</div></div><div class="bh-timePicker-selectMonthList bh-clearfix" bh-time-picker-role="selectMonthList">' + n + "</div></div></div></div></div>"
		}

		function a() {
			return '<input type="text" class="bh-form-control"/><span class="bhtc-input-group-addon"><i class="iconfont icon-daterange"></i></span>'
		}

		function o(e, t, n) {
			var i = "",
				a = t.getFullYear(),
				o = 0,
				r = 0,
				s = 0,
				l = 0;
			if(e.settings.range.max)
				if("today" !== e.settings.range.max) {
					var d = B(e.settings.range.max);
					o = d.getFullYear(), r = d.getMonth()
				} else {
					var c = new Date;
					o = c.getFullYear(), r = c.getMonth()
				}
			if(e.settings.range.min)
				if("today" !== e.settings.range.min) {
					var h = B(e.settings.range.min);
					s = h.getFullYear(), l = h.getMonth()
				} else {
					var c = new Date;
					s = c.getFullYear(), l = c.getMonth()
				}
			for(var p = 0; p < 12; p++) {
				var u = p + 1,
					f = "";
				o && s ? s !== o ? s < a && a < o ? f = "bh-pre" : s === a ? p >= l && (f = "bh-pre") : a === o && p <= r && (f = "bh-pre") : l <= p && p <= r && (f = "bh-pre") : o ? o > a ? f = "bh-pre" : p <= r && (f = "bh-pre") : s ? s < a ? f = "bh-pre" : p >= l && (f = "bh-pre") : f = "bh-pre", i += '<div class="bh-timePick-monthItem ' + f + '" data-month="' + u + '" bh-time-picker-role="selectMonthItem">' + u + "月</div>"
			}
			return i
		}

		function r(t, n) {
			t.on("click", function(i) {
				switch(n.$rootElement.removeData("selectType"), e(i.target || i.srcElement).attr("bh-time-picker-role")) {
					case "rangeBoxPre":
						E("pre", n);
						break;
					case "rangeBoxNext":
						E("next", n);
						break;
					case "rangeBoxSelectTime":
						s(n, t)
				}
			})
		}

		function s(t, n) {
			var i = t.popupBoxDom,
				a = i.children('div[bh-time-picker-role="selectBox"]');
			if(n.hasClass("bh-active")) l(t);
			else {
				var o = BH_UTILS.getElementPosition(n),
					r = {
						top: o.bottom,
						left: o.left + 20,
						display: "block"
					},
					s = 0;
				e("body").find(".jqx-window").each(function() {
					var t = parseInt(e(this).css("z-index"), 10);
					t > s && (s = t)
				}), s > 9999 && (r["z-index"] = s), i.css(r), n.addClass("bh-active"), setTimeout(function() {
					a.addClass("bh-active")
				}, 10)
			}
		}

		function l(e) {
			var t = e.popupBoxDom,
				n = t.children('div[bh-time-picker-role="selectBox"]');
			n.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(), n.removeClass("bh-active"), setTimeout(function() {
				t.hide()
			}, 450), e.rangeBoxDom.removeClass("bh-active")
		}

		function d(t) {
			t.popupBoxDom.on("click", ".bh-timePick-tabItem", function() {
				var n = e(this);
				if(!n.hasClass("bh-active")) {
					var i = n.index();
					n.closest("ul").find("li").removeClass("bh-active"), n.addClass("bh-active");
					var a = t.popupBoxDom.children('div[bh-time-picker-role="selectBox"]').children('div[bh-time-picker-role="selectTabContent"]').children();
					a.removeClass("bh-active"), a.eq(i).addClass("bh-active")
				}
			});
			var n = t.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),
				i = n.children('div[bh-time-picker-role="selectStart"]').children("input"),
				a = n.children('div[bh-time-picker-role="selectEnd"]').children("input"),
				o = n.find('div[bh-time-picker-role="selectType"]');
			i.on("dp.change", function(e) {
				S(t, n), P(n, "start", t)
			}), a.on("dp.change", function(e) {
				S(t, n), P(n, "end", t)
			}), i.on("mouseover", function(e) {
				t.$rootElement.removeData("selectType")
			}), a.on("mouseover", function(e) {
				t.$rootElement.removeData("selectType")
			}), o.on("change", function(e) {
				var n = e.args;
				if(n) {
					var i = n.item.value;
					t.$rootElement.data("selectType", "fixed"), u({
						value: i
					}, t)
				}
			}), t.popupBoxDom.on("click", '[bh-time-picker-role="selectOk"]', function() {
				var e = i.data("DateTimePicker").date()._d,
					o = a.data("DateTimePicker").date()._d,
					r = t.getValue(),
					s = r.startTime,
					d = r.endTime;
				D(t, e, o), l(t);
				var c = n.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("getSelectedItem").value;
				t.$rootElement.trigger("selectedTime", [s, d, c]), void 0 !== t.settings.selectedTime && t.settings.selectedTime instanceof Function && t.settings.selectedTime(s, d, c)
			}), t.popupBoxDom.on("click", '[bh-time-picker-role="selectMonthPre"]', function() {
				e(this).hasClass("bh-disabled") || x(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'), "pre", t)
			}), t.popupBoxDom.on("click", '[bh-time-picker-role="selectMonthNext"]', function() {
				e(this).hasClass("bh-disabled") || x(e(this).closest('div[bh-time-picker-role="selectMonthBlock"]'), "next", t)
			}), t.popupBoxDom.on("click", '[bh-time-picker-role="selectMonthItem"]', function() {
				T(e(this), t)
			})
		}

		function c(e, t) {
			var n = e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),
				i = n.find('div[bh-time-picker-role="selectType"]'),
				a = n.find('div[bh-time-picker-role="selectStart"]'),
				o = n.find('div[bh-time-picker-role="selectEnd"]');
			e.startTimeDom = a, e.endTimeDom = o, e.$selectType = i, h(i, e), p(a, t, "start", e), p(o, t, "end", e), u({
				value: e.settings.defaultType
			}, e)
		}

		function h(t, n) {
			var i = [{
					name: "自定义",
					value: "custom"
				}, {
					name: "全部",
					value: "all"
				}, {
					name: "今天",
					value: "today"
				}, {
					name: "本周",
					value: "currentWeek"
				}, {
					name: "上周",
					value: "lastWeek"
				}, {
					name: "本月",
					value: "currentMonth"
				}, {
					name: "上月",
					value: "lastMonth"
				}, {
					name: "本季度",
					value: "currentQuarter"
				}, {
					name: "上季度",
					value: "lastQuarter"
				}, {
					name: "今年",
					value: "currentYear"
				}, {
					name: "去年",
					value: "lastYear"
				}, {
					name: "近7天",
					value: "last7Day"
				}, {
					name: "近30天",
					value: "last30Day"
				}],
				a = 0;
			e.grep(i, function(e, t) {
				if(n.settings.defaultType === e.value) return a = t, !0
			}), t.jqxDropDownList({
				width: "80px",
				source: i,
				selectedIndex: a,
				autoDropDownHeight: !0,
				valueMember: "value",
				displayMember: "name"
			})
		}

		function p(e, t, n, i) {
			var a;
			a = "start" === n ? i.settings.time.start && "today" !== i.settings.time.start ? B(i.settings.time.start) : t : i.settings.time.end && "today" !== i.settings.time.end ? B(i.settings.time.end) : t, e.children("input").datetimepicker({
				format: i.settings.format,
				defaultDate: a
			})
		}

		function u(e, t) {
			var n = new Date,
				i = g(n),
				a = 0,
				o = 0;
			switch(e.value) {
				case "custom":
					var r = t.settings.time.start;
					a = r && "today" !== r ? B(r) : n;
					var s = t.settings.time.end;
					o = s && "today" !== s ? B(s) : n;
					break;
				case "all":
					a = null, o = null;
					break;
				case "today":
					a = n, o = n;
					break;
				case "currentWeek":
					a = new Date(i.time - 864e5 * (i.week - 1)), o = n;
					break;
				case "lastWeek":
					var l = i.time - 864e5 * (i.week - 1);
					a = new Date(l - 6048e5), o = new Date(l - 864e5);
					break;
				case "currentMonth":
					a = new Date(i.time - 864e5 * (i.day - 1)), o = n;
					break;
				case "lastMonth":
					var d = b(i);
					a = d.startTime, o = d.endTime;
					break;
				case "currentQuarter":
					a = k(i).startTime, o = n;
					break;
				case "lastQuarter":
					var c = C(i);
					a = c.startTime, o = c.endTime;
					break;
				case "currentYear":
					a = B(i.year + "/1/1"), o = n;
					break;
				case "lastYear":
					a = B(parseInt(i.year - 1) + "/1/1"), o = B(parseInt(i.year - 1) + "/12/31");
					break;
				case "last7Day":
					a = new Date(i.time - 6048e5), o = n;
					break;
				case "last30Day":
					a = new Date(i.time - 2592e6), o = n
			}
			f(t, a, o)
		}

		function f(e, t, n, i) {
			var a = e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'),
				o = a.children('div[bh-time-picker-role="selectStart"]').children("input"),
				r = a.children('div[bh-time-picker-role="selectEnd"]').children("input"),
				s = r.data("DateTimePicker").date()._d;
			if(!(t && n || (null === t ? (o.attr("disabled", !0), o.data("DateTimePicker").disable()) : (o.removeAttr("disabled"), o.data("DateTimePicker").enable()), null === n ? (r.attr("disabled", !0), r.data("DateTimePicker").disable()) : (r.removeAttr("disabled"), r.data("DateTimePicker").enable()), t || n))) {
				var l = e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),
					d = e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),
					c = d.jqxDropDownList("getSelectedItem");
				if("all" === c.value) return void l.html(c.label)
			}
			o.attr("disabled") && (o.removeAttr("disabled"), o.data("DateTimePicker").enable()), r.attr("disabled") && (r.removeAttr("disabled"), r.data("DateTimePicker").enable()), n = n || new Date, t = t || new Date, e.settings.time.start = t, e.settings.time.end = n, t > s ? (r.data("DateTimePicker").date(n), o.data("DateTimePicker").date(t)) : (o.data("DateTimePicker").date(t), r.data("DateTimePicker").date(n));
			var h = o.data("DateTimePicker").date()._d,
				p = r.data("DateTimePicker").date()._d,
				u = e.getValue(),
				f = u.startTime,
				g = u.endTime;
			if(D(e, h, p), i) {
				var v = a.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("getSelectedItem").value;
				e.$rootElement.trigger("selectedTime", [f, g, v]), void 0 !== e.settings.selectedTime && e.settings.selectedTime instanceof Function && e.settings.selectedTime(f, g, v)
			}
		}

		function g(e) {
			var t = new Date(e),
				n = {};
			return n.year = t.getFullYear(), n.month = t.getMonth(), n.day = t.getDate(), n.hour = t.getHours(), n.minute = t.getMinutes(), n.second = t.getSeconds(), n.week = t.getDay(), n.time = t.getTime(), n
		}

		function v(e) {
			return 0 == e % 4 && (e % 100 != 0 || e % 400 == 0)
		}

		function b(e) {
			var t = e.month,
				n = e.year,
				i = t - 1;
			0 === t && (n -= 1, i = 11);
			var a = y(n, i + 1);
			return {
				startTime: new Date(m({
					year: n,
					month: i + 1,
					day: 1
				})),
				endTime: new Date(m({
					year: n,
					month: i + 1,
					day: a
				}))
			}
		}

		function m(e) {
			return e.year + "/" + e.month + "/" + e.day
		}

		function y(e, t) {
			return 1 === t || 3 === t || 5 === t || 7 === t || 8 === t || 10 === t || 12 === t ? 31 : 4 === t || 6 === t || 9 === t || 11 === t ? 30 : v(e) ? 29 : 28
		}

		function k(e) {
			var t = w(e.month);
			return {
				startTime: new Date(m({
					year: e.year,
					month: t.startMonth + 1,
					day: 1
				}))
			}
		}

		function C(e) {
			var t = w(e.month).startMonth,
				n = t - 1,
				i = e.year;
			0 === t && (n = 11, i -= 1);
			var a = w(n),
				o = y(i, a.endMonth + 1);
			return {
				startTime: new Date(m({
					year: i,
					month: a.startMonth + 1,
					day: 1
				})),
				endTime: new Date(m({
					year: i,
					month: a.endMonth + 1,
					day: o
				}))
			}
		}

		function w(e) {
			var t = 0,
				n = 2;
			return e >= 9 ? (t = 9, n = 11) : e >= 6 ? (t = 6, n = 8) : e >= 3 && (t = 3, n = 5), {
				startMonth: t,
				endMonth: n
			}
		}

		function x(e, t, n) {
			var i = e.find('[bh-time-picker-role="selectMonthPre"]').removeClass("bh-disabled"),
				a = e.find('[bh-time-picker-role="selectMonthNext"]').removeClass("bh-disabled"),
				r = e.find('div[bh-time-picker-role="selectMonthYear"]'),
				s = parseInt(r.text(), 10),
				l = 0;
			n.settings.range.max && (l = "today" === n.settings.range.max ? (new Date).getFullYear() : new Date(n.settings.range.max).getFullYear());
			var d = 0;
			n.settings.range.min && (d = "today" === n.settings.range.min ? (new Date).getFullYear() : new Date(n.settings.range.min).getFullYear()), "pre" === t ? s-- : s++, r.html(s + "年");
			var c = o(n, B(s + "/12/1"), t);
			e.find('div[bh-time-picker-role="selectMonthList"]').html(c), "pre" === t ? s === d && i.addClass("bh-disabled") : s === l && a.addClass("bh-disabled")
		}

		function T(e, t) {
			if(e.hasClass("bh-pre")) {
				var n = e.closest('div[bh-time-picker-role="selectMonthBlock"]'),
					i = parseInt(n.find('div[bh-time-picker-role="selectMonthYear"]').text(), 10),
					a = parseInt(e.attr("data-month"), 10),
					o = y(i, a);
				t.$rootElement.removeData("selectType"), t.rangeBoxDom.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click(), f(t, new Date(i + "/" + a + "/1"), new Date(i + "/" + a + "/" + o), !0)
			}
		}

		function D(e, t, n) {
			var i = e.$rootElement.find('div[bh-time-picker-role="rangeBoxSelectTime"]'),
				a = e.popupBoxDom.find('div[bh-time-picker-role="selectCustom"] div[bh-time-picker-role="selectType"]'),
				o = a.jqxDropDownList("getSelectedItem");
			if("all" === o.value) return void i.html(o.label);
			var r = N(t, e),
				s = N(n, e);
			i.html(r + "-" + s)
		}

		function N(e, t) {
			return /dd/i.test(t.settings.format) ? e.getFullYear() + "年" + I(e.getMonth() + 1) + "月" + e.getDate() + "日" : e.getFullYear() + "年" + I(e.getMonth() + 1) + "月"
		}

		function I(e) {
			return e < 10 ? "0" + e : e
		}

		function S(e, t) {
			t.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("selectIndex", 0)
		}

		function P(t, n, i) {
			e("body").data("bhTimePick", "selectTime");
			var a = t.children('div[bh-time-picker-role="selectStart"]').children("input"),
				o = t.children('div[bh-time-picker-role="selectEnd"]').children("input"),
				r = a.data("DateTimePicker").date()._d,
				s = o.data("DateTimePicker").date()._d;
			if(r > s)
				if("end" === n) o.data("DateTimePicker").date(r);
				else {
					var l = g(s);
					a.data("DateTimePicker").date(new Date(l.year, l.month, l.day))
				}
			else if("start" === n) {
				if(i.settings.range.min) {
					var d;
					d = "today" !== i.settings.range.min ? new Date(i.settings.range.min) : new Date, r < d && a.data("DateTimePicker").date(d)
				}
			} else if(i.settings.range.max) {
				var c;
				c = "today" !== i.settings.range.max ? new Date(i.settings.range.max) : new Date, s > c && o.data("DateTimePicker").date(c)
			}
		}

		function E(e, t) {
			var n = t.popupBoxDom.find('div[bh-time-picker-role="selectBox"]'),
				i = t.$rootElement.find('div[bh-time-picker-role="rangeBox"]');
			i.hasClass("bh-active") && i.find('div[bh-time-picker-role="rangeBoxSelectTime"]').click();
			var a;
			a = "pre" === e ? n.find('div[bh-time-picker-role="selectStart"]').children("input").data("DateTimePicker").date()._d : n.find('div[bh-time-picker-role="selectEnd"]').children("input").data("DateTimePicker").date()._d;
			var o, r = g(a);
			if("pre" === e) {
				if(0 === r.month ? (r.month = 11, r.year = r.year - 1) : r.month = r.month - 1, t.settings.range.min) {
					var s = "today" === t.settings.range.min ? new Date : B(t.settings.range.min);
					o = g(s), s > new Date(a.getTime() - 2592e6) && (r = o)
				}
			} else if(11 === r.month ? (r.month = 0, r.year = r.year + 1) : r.month = r.month + 1, t.settings.range.max) {
				var l = "today" === t.settings.range.max ? new Date : B(t.settings.range.max);
				o = g(l), l < new Date(a.getTime() + 2592e6) && (r = o)
			}
			var d = {},
				c = {};
			o && r.year === o.year ? r.month !== o.month ? (d = {
				year: r.year,
				month: r.month,
				day: 1
			}, c = {
				year: r.year,
				month: r.month,
				day: y(r.year, r.month + 1)
			}) : "pre" === e ? (d = {
				year: r.year,
				month: r.month,
				day: o.day
			}, c = {
				year: r.year,
				month: r.month,
				day: y(r.year, r.month + 1)
			}) : (d = {
				year: r.year,
				month: r.month,
				day: 1
			}, c = {
				year: r.year,
				month: r.month,
				day: o.day
			}) : (d = {
				year: r.year,
				month: r.month,
				day: 1
			}, c = {
				year: r.year,
				month: r.month,
				day: y(r.year, r.month + 1)
			});
			var h = r.month + 1 < 10 ? "0" + parseInt(r.month + 1, 10) : r.month + 1,
				p = d.year + "/" + h + "/" + I(d.day),
				u = c.year + "/" + h + "/" + c.day;
			f(t, B(p), B(u), !0)
		}

		function B(e) {
			if("string" == typeof e) {
				var t = Date.parse(e),
					n = new Date(t);
				if(isNaN(n)) {
					var i = e.split("-");
					n = new Date(i[0], --i[1], i[2])
				}
				return n
			}
			return e
		}
		var A;
		A = function() {
			function n(n, i) {
				var a = {
					defaultType: "custom",
					width: "",
					format: "YYYY-MM-DD",
					range: {
						max: "",
						min: ""
					},
					time: {
						start: "",
						end: ""
					},
					isDisable: !1,
					selectedTime: null,
					ready: null
				};
				this.settings = e.extend({}, a, i), this.settings.format && (this.settings.format = this.settings.format.replace("yyyy", "YYYY"), this.settings.format = this.settings.format.replace("-dd", "-DD")), this.$rootElement = e(n), t(this)
			}
			return n.prototype.getValue = function() {
				var e = null,
					t = null,
					n = this.startTimeDom.children("input"),
					i = this.endTimeDom.children("input");
				n.attr("disabled") || (e = n.data("DateTimePicker").date()._d), i.attr("disabled") || (t = i.data("DateTimePicker").date()._d);
				var a = this.popupBoxDom.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("getSelectedItem"),
					o = a.value;
				return {
					startTime: e ? moment(e).format(this.settings.format) : "",
					endTime: t ? moment(t).format(this.settings.format) : "",
					type: o
				}
			}, n.prototype.setValue = function(e) {
				f(this, e.startTime ? B(e.startTime) : this.startTimeDom.children("input").data("DateTimePicker").date()._d, e.endTime ? B(e.endTime) : this.endTimeDom.children("input").data("DateTimePicker").date()._d), S(this, this.popupBoxDom.find('div[bh-time-picker-role="selectCustom"]'))
			}, n.prototype.setDisable = function() {
				this.$rootElement.children('div[bh-time-picker-role="rangeBox"]').append('<div class="bh-timePick-disable" bh-time-picker-role="disableBlock"></div>')
			}, n.prototype.setEnable = function() {
				this.$rootElement.find('div[bh-time-picker-role="disableBlock"]').remove()
			}, n.prototype.setType = function(e) {
				this.popupBoxDom.find('div[bh-time-picker-role="selectType"]').jqxDropDownList("selectItem", e)
			}, n.prototype.remove = function() {
				this.$selectType.jqxDropDownList("destroy"), this.popupBoxDom.remove(), this.$rootElement.remove()
			}, n
		}(), e.fn.bhTimePicker = function(t, n) {
			var i;
			return i = this.data("bhTimePicker"), i ? !0 === t ? i : "string" === e.type(t) ? i[t](n) : this : this.each(function() {
				return e(this).data("bhTimePicker", new A(this, t))
			})
		}
	}(jQuery),
	function(e) {
		function t(e) {
			return {
				getAllData: function() {
					return this.transformToArray(this.getNodes())
				},
				destroyTree: function() {
					this.destroy(), e.removeData("bhTree")
				}
			}
		}
		var n = function(n, i) {
			var a = i.setting,
				o = i.zNodes,
				r = {},
				s = e(n);
			return s.addClass("ztree"), r = o ? e.fn.zTree.init(s, a, o) : e.fn.zTree.init(s, a), e.extend(r, t(s))
		};
		e.fn.bhTree = function(t) {
			var i, a = arguments;
			if(!(i = this.data("bhTree"))) return this.each(function() {
				return e(this).data("bhTree", n(this, t))
			});
			if(!0 === t) return i;
			if("string" === e.type(t)) {
				var o = i[t];
				if(o) {
					var r = e(a).toArray();
					return r.shift(), o.apply(i, r)
				}
				console && console.log("方法不存在")
			}
			return this
		}
	}(jQuery),
	function($) {
		var settings = {},
			roots = {},
			caches = {},
			_consts = {
				className: {
					BUTTON: "button",
					LEVEL: "level",
					ICO_LOADING: "ico_loading",
					SWITCH: "switch",
					NAME: "node_name"
				},
				event: {
					NODECREATED: "ztree_nodeCreated",
					CLICK: "ztree_click",
					EXPAND: "ztree_expand",
					COLLAPSE: "ztree_collapse",
					ASYNC_SUCCESS: "ztree_async_success",
					ASYNC_ERROR: "ztree_async_error",
					REMOVE: "ztree_remove",
					SELECTED: "ztree_selected",
					UNSELECTED: "ztree_unselected"
				},
				id: {
					A: "_a",
					ICON: "_ico",
					SPAN: "_span",
					SWITCH: "_switch",
					UL: "_ul"
				},
				line: {
					ROOT: "root",
					ROOTS: "roots",
					CENTER: "center",
					BOTTOM: "bottom",
					NOLINE: "noline",
					LINE: "line"
				},
				folder: {
					OPEN: "open",
					CLOSE: "close",
					DOCU: "docu"
				},
				node: {
					CURSELECTED: "curSelectedNode"
				}
			},
			_setting = {
				treeId: "",
				treeObj: null,
				view: {
					addDiyDom: null,
					nodeRendering: null,
					autoCancelSelected: !0,
					dblClickExpand: !0,
					expandSpeed: "fast",
					fontCss: {},
					nameIsHTML: !1,
					selectedMulti: !0,
					showIcon: !0,
					showLine: !0,
					showTitle: !0,
					txtSelectedEnable: !1,
					isHoverLine: !0
				},
				data: {
					key: {
						children: "children",
						name: "name",
						title: "",
						url: "url",
						icon: "icon"
					},
					simpleData: {
						enable: !1,
						idKey: "id",
						pIdKey: "pId",
						rootPId: null
					},
					keep: {
						parent: !1,
						leaf: !1
					}
				},
				async: {
					enable: !1,
					contentType: "application/x-www-form-urlencoded",
					type: "post",
					dataType: "text",
					url: "",
					autoParam: [],
					otherParam: [],
					dataFilter: null
				},
				callback: {
					beforeAsync: null,
					beforeClick: null,
					beforeDblClick: null,
					beforeRightClick: null,
					beforeMouseDown: null,
					beforeMouseUp: null,
					beforeExpand: null,
					beforeCollapse: null,
					beforeRemove: null,
					onAsyncError: null,
					onAsyncSuccess: null,
					onNodeCreated: null,
					onClick: null,
					onDblClick: null,
					onRightClick: null,
					onMouseDown: null,
					onMouseUp: null,
					onExpand: null,
					onCollapse: null,
					onRemove: null
				}
			},
			_initRoot = function(e) {
				var t = data.getRoot(e);
				t || (t = {}, data.setRoot(e, t)), t[e.data.key.children] = [], t.expandTriggerFlag = !1, t.curSelectedList = [], t.noSelection = !0, t.createdNodes = [], t.zId = 0, t._ver = (new Date).getTime()
			},
			_initCache = function(e) {
				var t = data.getCache(e);
				t || (t = {}, data.setCache(e, t)), t.nodes = [], t.doms = []
			},
			_bindEvent = function(e) {
				var t = e.treeObj,
					n = consts.event;
				t.bind(n.NODECREATED, function(t, n, i) {
					tools.apply(e.callback.onNodeCreated, [t, n, i])
				}), t.bind(n.CLICK, function(t, n, i, a, o) {
					tools.apply(e.callback.onClick, [n, i, a, o])
				}), t.bind(n.EXPAND, function(t, n, i) {
					tools.apply(e.callback.onExpand, [t, n, i])
				}), t.bind(n.COLLAPSE, function(t, n, i) {
					tools.apply(e.callback.onCollapse, [t, n, i])
				}), t.bind(n.ASYNC_SUCCESS, function(t, n, i, a) {
					tools.apply(e.callback.onAsyncSuccess, [t, n, i, a])
				}), t.bind(n.ASYNC_ERROR, function(t, n, i, a, o, r) {
					tools.apply(e.callback.onAsyncError, [t, n, i, a, o, r])
				}), t.bind(n.REMOVE, function(t, n, i) {
					tools.apply(e.callback.onRemove, [t, n, i])
				}), t.bind(n.SELECTED, function(t, n, i) {
					tools.apply(e.callback.onSelected, [n, i])
				}), t.bind(n.UNSELECTED, function(t, n, i) {
					tools.apply(e.callback.onUnSelected, [n, i])
				})
			},
			_unbindEvent = function(e) {
				var t = e.treeObj,
					n = consts.event;
				t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE).unbind(n.SELECTED).unbind(n.UNSELECTED)
			},
			_eventProxy = function(e) {
				var t = e.target,
					n = data.getSetting(e.data.treeId),
					i = "",
					a = null,
					o = "",
					r = "",
					s = null,
					l = null,
					d = null;
				if(tools.eqs(e.type, "mousedown") ? r = "mousedown" : tools.eqs(e.type, "mouseup") ? r = "mouseup" : tools.eqs(e.type, "contextmenu") ? r = "contextmenu" : tools.eqs(e.type, "click") ? tools.eqs(t.tagName, "span") && null !== t.getAttribute("treeNode" + consts.id.SWITCH) ? (i = tools.getNodeMainDom(t).id, o = "switchNode") : (d = tools.getMDom(n, t, [{
						tagName: "a",
						attrName: "treeNode" + consts.id.A
					}])) && (i = tools.getNodeMainDom(d).id, o = "clickNode") : tools.eqs(e.type, "dblclick") && (r = "dblclick", (d = tools.getMDom(n, t, [{
						tagName: "a",
						attrName: "treeNode" + consts.id.A
					}])) && (i = tools.getNodeMainDom(d).id, o = "switchNode")), r.length > 0 && 0 == i.length && (d = tools.getMDom(n, t, [{
						tagName: "a",
						attrName: "treeNode" + consts.id.A
					}])) && (i = tools.getNodeMainDom(d).id), i.length > 0) switch(a = data.getNodeCache(n, i), o) {
					case "switchNode":
						a.isParent && (tools.eqs(e.type, "click") || tools.eqs(e.type, "dblclick") && tools.apply(n.view.dblClickExpand, [n.treeId, a], n.view.dblClickExpand)) ? s = handler.onSwitchNode : o = "";
						break;
					case "clickNode":
						s = handler.onClickNode
				}
				switch(r) {
					case "mousedown":
						l = handler.onZTreeMousedown;
						break;
					case "mouseup":
						l = handler.onZTreeMouseup;
						break;
					case "dblclick":
						l = handler.onZTreeDblclick;
						break;
					case "contextmenu":
						l = handler.onZTreeContextmenu
				}
				return {
					stop: !1,
					node: a,
					nodeEventType: o,
					nodeEventCallback: s,
					treeEventType: r,
					treeEventCallback: l
				}
			},
			_initNode = function(e, t, n, i, a, o, r) {
				if(n) {
					var s = data.getRoot(e),
						l = e.data.key.children;
					n.level = t, n.tId = e.treeId + "_" + ++s.zId, n.parentTId = i ? i.tId : null, n.open = "string" == typeof n.open ? tools.eqs(n.open, "true") : !!n.open, n[l] && n[l].length > 0 ? (n.isParent = !0, n.zAsync = !0) : (n.isParent = "string" == typeof n.isParent ? tools.eqs(n.isParent, "true") : !!n.isParent, n.open = !(!n.isParent || e.async.enable) && n.open, n.zAsync = !n.isParent), n.isFirstNode = a, n.isLastNode = o, n.getParentNode = function() {
						return data.getNodeCache(e, n.parentTId)
					}, n.getPreNode = function() {
						return data.getPreNode(e, n)
					}, n.getNextNode = function() {
						return data.getNextNode(e, n)
					}, n.getIndex = function() {
						return data.getNodeIndex(e, n)
					}, n.getPath = function() {
						return data.getNodePath(e, n)
					}, n.isAjaxing = !1, data.fixPIdKeyValue(e, n)
				}
			},
			_init = {
				bind: [_bindEvent],
				unbind: [_unbindEvent],
				caches: [_initCache],
				nodes: [_initNode],
				proxys: [_eventProxy],
				roots: [_initRoot],
				beforeA: [],
				afterA: [],
				innerBeforeA: [],
				innerAfterA: [],
				zTreeTools: []
			},
			data = {
				addNodeCache: function(e, t) {
					data.getCache(e).nodes[data.getNodeCacheId(t.tId)] = t
				},
				getNodeCacheId: function(e) {
					return e.substring(e.lastIndexOf("_") + 1)
				},
				addAfterA: function(e) {
					_init.afterA.push(e)
				},
				addBeforeA: function(e) {
					_init.beforeA.push(e)
				},
				addInnerAfterA: function(e) {
					_init.innerAfterA.push(e)
				},
				addInnerBeforeA: function(e) {
					_init.innerBeforeA.push(e)
				},
				addInitBind: function(e) {
					_init.bind.push(e)
				},
				addInitUnBind: function(e) {
					_init.unbind.push(e)
				},
				addInitCache: function(e) {
					_init.caches.push(e)
				},
				addInitNode: function(e) {
					_init.nodes.push(e)
				},
				addInitProxy: function(e, t) {
					t ? _init.proxys.splice(0, 0, e) : _init.proxys.push(e)
				},
				addInitRoot: function(e) {
					_init.roots.push(e)
				},
				addNodesData: function(e, t, n, i) {
					var a, o = e.data.key.children;
					t[o] ? n >= t[o].length && (n = -1) : (t[o] = [], n = -1), t[o].length > 0 && 0 === n ? (t[o][0].isFirstNode = !1, view.setNodeLineIcos(e, t[o][0])) : t[o].length > 0 && n < 0 && (t[o][t[o].length - 1].isLastNode = !1, view.setNodeLineIcos(e, t[o][t[o].length - 1])), t.isParent = !0, n < 0 ? t[o] = t[o].concat(i) : (a = [n, 0].concat(i), t[o].splice.apply(t[o], a))
				},
				addSelectedNode: function(e, t) {
					var n = data.getRoot(e);
					data.isSelectedNode(e, t) || n.curSelectedList.push(t)
				},
				addCreatedNode: function(e, t) {
					if(e.callback.onNodeCreated || e.view.addDiyDom) {
						data.getRoot(e).createdNodes.push(t)
					}
				},
				addZTreeTools: function(e) {
					_init.zTreeTools.push(e)
				},
				exSetting: function(e) {
					$.extend(!0, _setting, e)
				},
				fixPIdKeyValue: function(e, t) {
					e.data.simpleData.enable && (t[e.data.simpleData.pIdKey] = t.parentTId ? t.getParentNode()[e.data.simpleData.idKey] : e.data.simpleData.rootPId)
				},
				getAfterA: function(e, t, n) {
					for(var i = 0, a = _init.afterA.length; i < a; i++) _init.afterA[i].apply(this, arguments)
				},
				getBeforeA: function(e, t, n) {
					for(var i = 0, a = _init.beforeA.length; i < a; i++) _init.beforeA[i].apply(this, arguments)
				},
				getInnerAfterA: function(e, t, n) {
					for(var i = 0, a = _init.innerAfterA.length; i < a; i++) _init.innerAfterA[i].apply(this, arguments)
				},
				getInnerBeforeA: function(e, t, n) {
					for(var i = 0, a = _init.innerBeforeA.length; i < a; i++) _init.innerBeforeA[i].apply(this, arguments)
				},
				getCache: function(e) {
					return caches[e.treeId]
				},
				getNodeIndex: function(e, t) {
					if(!t) return null;
					for(var n = e.data.key.children, i = t.parentTId ? t.getParentNode() : data.getRoot(e), a = 0, o = i[n].length - 1; a <= o; a++)
						if(i[n][a] === t) return a;
					return -1
				},
				getNextNode: function(e, t) {
					if(!t) return null;
					for(var n = e.data.key.children, i = t.parentTId ? t.getParentNode() : data.getRoot(e), a = 0, o = i[n].length - 1; a <= o; a++)
						if(i[n][a] === t) return a == o ? null : i[n][a + 1];
					return null
				},
				getNodeByParam: function(e, t, n, i) {
					if(!t || !n) return null;
					for(var a = e.data.key.children, o = 0, r = t.length; o < r; o++) {
						if(t[o][n] == i) return t[o];
						var s = data.getNodeByParam(e, t[o][a], n, i);
						if(s) return s
					}
					return null
				},
				getNodeCache: function(e, t) {
					if(!t) return null;
					var n = caches[e.treeId].nodes[data.getNodeCacheId(t)];
					return n || null
				},
				getNodeName: function(e, t) {
					return "" + t[e.data.key.name]
				},
				getNodePath: function(e, t) {
					if(!t) return null;
					var n;
					return n = t.parentTId ? t.getParentNode().getPath() : [], n && n.push(t), n
				},
				getNodeTitle: function(e, t) {
					return "" + t["" === e.data.key.title ? e.data.key.name : e.data.key.title]
				},
				getNodes: function(e) {
					return data.getRoot(e)[e.data.key.children]
				},
				getNodesByParam: function(e, t, n, i) {
					if(!t || !n) return [];
					for(var a = e.data.key.children, o = [], r = 0, s = t.length; r < s; r++) t[r][n] == i && o.push(t[r]), o = o.concat(data.getNodesByParam(e, t[r][a], n, i));
					return o
				},
				getNodesByParamFuzzy: function(e, t, n, i) {
					if(!t || !n) return [];
					var a = e.data.key.children,
						o = [];
					i = i.toLowerCase();
					for(var r = 0, s = t.length; r < s; r++) "string" == typeof t[r][n] && t[r][n].toLowerCase().indexOf(i) > -1 && o.push(t[r]), o = o.concat(data.getNodesByParamFuzzy(e, t[r][a], n, i));
					return o
				},
				getNodesByFilter: function(e, t, n, i, a) {
					if(!t) return i ? null : [];
					for(var o = e.data.key.children, r = i ? null : [], s = 0, l = t.length; s < l; s++) {
						if(tools.apply(n, [t[s], a], !1)) {
							if(i) return t[s];
							r.push(t[s])
						}
						var d = data.getNodesByFilter(e, t[s][o], n, i, a);
						if(i && d) return d;
						r = i ? d : r.concat(d)
					}
					return r
				},
				getPreNode: function(e, t) {
					if(!t) return null;
					for(var n = e.data.key.children, i = t.parentTId ? t.getParentNode() : data.getRoot(e), a = 0, o = i[n].length; a < o; a++)
						if(i[n][a] === t) return 0 == a ? null : i[n][a - 1];
					return null
				},
				getRoot: function(e) {
					return e ? roots[e.treeId] : null
				},
				getRoots: function() {
					return roots
				},
				getSetting: function(e) {
					return settings[e]
				},
				getSettings: function() {
					return settings
				},
				getZTreeTools: function(e) {
					var t = this.getRoot(this.getSetting(e));
					return t ? t.treeTools : null
				},
				initCache: function(e) {
					for(var t = 0, n = _init.caches.length; t < n; t++) _init.caches[t].apply(this, arguments)
				},
				initNode: function(e, t, n, i, a, o) {
					for(var r = 0, s = _init.nodes.length; r < s; r++) _init.nodes[r].apply(this, arguments)
				},
				initRoot: function(e) {
					for(var t = 0, n = _init.roots.length; t < n; t++) _init.roots[t].apply(this, arguments)
				},
				isSelectedNode: function(e, t) {
					for(var n = data.getRoot(e), i = 0, a = n.curSelectedList.length; i < a; i++)
						if(t === n.curSelectedList[i]) return !0;
					return !1
				},
				removeNodeCache: function(e, t) {
					var n = e.data.key.children;
					if(t[n])
						for(var i = 0, a = t[n].length; i < a; i++) data.removeNodeCache(e, t[n][i]);
					data.getCache(e).nodes[data.getNodeCacheId(t.tId)] = null
				},
				removeSelectedNode: function(e, t) {
					for(var n = data.getRoot(e), i = 0, a = n.curSelectedList.length; i < a; i++) t !== n.curSelectedList[i] && data.getNodeCache(e, n.curSelectedList[i].tId) || (n.curSelectedList.splice(i, 1), e.treeObj.trigger(consts.event.UNSELECTED, [e.treeId, t]), i--, a--)
				},
				setCache: function(e, t) {
					caches[e.treeId] = t
				},
				setRoot: function(e, t) {
					roots[e.treeId] = t
				},
				setZTreeTools: function(e, t) {
					for(var n = 0, i = _init.zTreeTools.length; n < i; n++) _init.zTreeTools[n].apply(this, arguments)
				},
				transformToArrayFormat: function(e, t) {
					if(!t) return [];
					var n = e.data.key.children,
						i = [];
					if(tools.isArray(t))
						for(var a = 0, o = t.length; a < o; a++) i.push(t[a]), t[a][n] && (i = i.concat(data.transformToArrayFormat(e, t[a][n])));
					else i.push(t), t[n] && (i = i.concat(data.transformToArrayFormat(e, t[n])));
					return i
				},
				transformTozTreeFormat: function(e, t) {
					var n, i, a = e.data.simpleData.idKey,
						o = e.data.simpleData.pIdKey,
						r = e.data.key.children;
					if(!a || "" == a || !t) return [];
					if(tools.isArray(t)) {
						var s = [],
							l = {};
						for(n = 0, i = t.length; n < i; n++) l[t[n][a]] = t[n];
						for(n = 0, i = t.length; n < i; n++) l[t[n][o]] && t[n][a] != t[n][o] ? (l[t[n][o]][r] || (l[t[n][o]][r] = []), l[t[n][o]][r].push(t[n])) : s.push(t[n]);
						return s
					}
					return [t]
				}
			},
			event = {
				bindEvent: function(e) {
					for(var t = 0, n = _init.bind.length; t < n; t++) _init.bind[t].apply(this, arguments)
				},
				unbindEvent: function(e) {
					for(var t = 0, n = _init.unbind.length; t < n; t++) _init.unbind[t].apply(this, arguments)
				},
				bindTree: function(e) {
					var t = {
							treeId: e.treeId
						},
						n = e.treeObj;
					e.view.txtSelectedEnable || n.bind("selectstart", handler.onSelectStart).css({
						"-moz-user-select": "-moz-none"
					}), n.bind("click", t, event.proxy), n.bind("dblclick", t, event.proxy), n.bind("mouseover", t, event.proxy), n.bind("mouseout", t, event.proxy), n.bind("mousedown", t, event.proxy), n.bind("mouseup", t, event.proxy), n.bind("contextmenu", t, event.proxy)
				},
				unbindTree: function(e) {
					e.treeObj.unbind("selectstart", handler.onSelectStart).unbind("click", event.proxy).unbind("dblclick", event.proxy).unbind("mouseover", event.proxy).unbind("mouseout", event.proxy).unbind("mousedown", event.proxy).unbind("mouseup", event.proxy).unbind("contextmenu", event.proxy)
				},
				doProxy: function(e) {
					for(var t = [], n = 0, i = _init.proxys.length; n < i; n++) {
						var a = _init.proxys[n].apply(this, arguments);
						if(t.push(a), a.stop) break
					}
					return t
				},
				proxy: function(e) {
					var t = data.getSetting(e.data.treeId);
					if(!tools.uCanDo(t, e)) return !0;
					for(var n = event.doProxy(e), i = !0, a = 0, o = n.length; a < o; a++) {
						var r = n[a];
						r.nodeEventCallback && (!0, i = r.nodeEventCallback.apply(r, [e, r.node]) && i), r.treeEventCallback && (!0, i = r.treeEventCallback.apply(r, [e, r.node]) && i)
					}
					return i
				}
			},
			handler = {
				onSwitchNode: function(e, t) {
					var n = data.getSetting(e.data.treeId);
					if(t.open) {
						if(0 == tools.apply(n.callback.beforeCollapse, [n.treeId, t], !0)) return !0;
						data.getRoot(n).expandTriggerFlag = !0, view.switchNode(n, t)
					} else {
						if(0 == tools.apply(n.callback.beforeExpand, [n.treeId, t], !0)) return !0;
						data.getRoot(n).expandTriggerFlag = !0, view.switchNode(n, t)
					}
					return !0
				},
				onClickNode: function(e, t) {
					var n = data.getSetting(e.data.treeId),
						i = n.view.autoCancelSelected && (e.ctrlKey || e.metaKey) && data.isSelectedNode(n, t) ? 0 : n.view.autoCancelSelected && (e.ctrlKey || e.metaKey) && n.view.selectedMulti ? 2 : 1;
					return 0 == tools.apply(n.callback.beforeClick, [n.treeId, t, i], !0) || (0 === i ? view.cancelPreSelectedNode(n, t) : view.selectNode(n, t, 2 === i), n.treeObj.trigger(consts.event.CLICK, [e, n.treeId, t, i]), !0)
				},
				onZTreeMousedown: function(e, t) {
					var n = data.getSetting(e.data.treeId);
					return tools.apply(n.callback.beforeMouseDown, [n.treeId, t], !0) && tools.apply(n.callback.onMouseDown, [e, n.treeId, t]), !0
				},
				onZTreeMouseup: function(e, t) {
					var n = data.getSetting(e.data.treeId);
					return tools.apply(n.callback.beforeMouseUp, [n.treeId, t], !0) && tools.apply(n.callback.onMouseUp, [e, n.treeId, t]), !0
				},
				onZTreeDblclick: function(e, t) {
					var n = data.getSetting(e.data.treeId);
					return tools.apply(n.callback.beforeDblClick, [n.treeId, t], !0) && tools.apply(n.callback.onDblClick, [e, n.treeId, t]), !0
				},
				onZTreeContextmenu: function(e, t) {
					var n = data.getSetting(e.data.treeId);
					return tools.apply(n.callback.beforeRightClick, [n.treeId, t], !0) && tools.apply(n.callback.onRightClick, [e, n.treeId, t]), "function" != typeof n.callback.onRightClick
				},
				onSelectStart: function(e) {
					var t = e.originalEvent.srcElement.nodeName.toLowerCase();
					return "input" === t || "textarea" === t
				}
			},
			tools = {
				apply: function(e, t, n) {
					return "function" == typeof e ? e.apply(zt, t || []) : n
				},
				canAsync: function(e, t) {
					var n = e.data.key.children;
					return e.async.enable && t && t.isParent && !(t.zAsync || t[n] && t[n].length > 0)
				},
				clone: function(e) {
					if(null === e) return null;
					var t = tools.isArray(e) ? [] : {};
					for(var n in e) t[n] = e[n] instanceof Date ? new Date(e[n].getTime()) : "object" == typeof e[n] ? tools.clone(e[n]) : e[n];
					return t
				},
				eqs: function(e, t) {
					return e.toLowerCase() === t.toLowerCase()
				},
				isArray: function(e) {
					return "[object Array]" === Object.prototype.toString.apply(e)
				},
				$: function(e, t, n) {
					return t && "string" != typeof t && (n = t, t = ""), "string" == typeof e ? $(e, n ? n.treeObj.get(0).ownerDocument : null) : $("#" + e.tId + t, n ? n.treeObj : null)
				},
				getMDom: function(e, t, n) {
					if(!t) return null;
					for(; t && t.id !== e.treeId;) {
						for(var i = 0, a = n.length; t.tagName && i < a; i++)
							if(tools.eqs(t.tagName, n[i].tagName) && null !== t.getAttribute(n[i].attrName)) return t;
						t = t.parentNode
					}
					return null
				},
				getNodeMainDom: function(e) {
					return $(e).parent("li").get(0) || $(e).parentsUntil("li").parent().get(0)
				},
				isChildOrSelf: function(e, t) {
					return $(e).closest("#" + t).length > 0
				},
				uCanDo: function(e, t) {
					return !0
				}
			},
			view = {
				addNodes: function(e, t, n, i, a) {
					if(!e.data.keep.leaf || !t || t.isParent)
						if(tools.isArray(i) || (i = [i]), e.data.simpleData.enable && (i = data.transformTozTreeFormat(e, i)), t) {
							var o = $$(t, consts.id.SWITCH, e),
								r = $$(t, consts.id.ICON, e),
								s = $$(t, consts.id.UL, e);
							t.open || (view.replaceSwitchClass(t, o, consts.folder.CLOSE), view.replaceIcoClass(t, r, consts.folder.CLOSE), t.open = !1, s.css({
								display: "none"
							})), data.addNodesData(e, t, n, i), view.createNodes(e, t.level + 1, i, t, n), a || view.expandCollapseParentNode(e, t, !0)
						} else data.addNodesData(e, data.getRoot(e), n, i), view.createNodes(e, 0, i, null, n)
				},
				appendNodes: function(e, t, n, i, a, o, r) {
					if(!n) return [];
					var s, l, d = [],
						c = e.data.key.children,
						h = i || data.getRoot(e),
						p = h[c];
					(!p || a >= p.length) && (a = -1);
					for(var u = 0, f = n.length; u < f; u++) {
						var g = n[u];
						o && (s = (0 === a || p.length == n.length) && 0 == u, l = a < 0 && u == n.length - 1, data.initNode(e, t, g, i, s, l, r), data.addNodeCache(e, g));
						var v = [];
						g[c] && g[c].length > 0 && (v = view.appendNodes(e, t + 1, g[c], g, -1, o, r && g.open)), r && (view.makeDOMNodeMainBefore(d, e, g), e.view.isHoverLine && d.push('<div class="hover-line">'), view.makeDOMNodeLine(d, e, g), data.getBeforeA(e, g, d), view.makeDOMNodeNameBefore(d, e, g), data.getInnerBeforeA(e, g, d), view.makeDOMNodeIcon(d, e, g), data.getInnerAfterA(e, g, d), view.makeDOMNodeNameAfter(d, e, g), data.getAfterA(e, g, d), g.isParent && g.open && view.makeUlHtml(e, g, d, v.join("")), e.view.nodeRendering && e.view.nodeRendering(d, g, e), e.view.isHoverLine && d.push("</div>"), view.makeDOMNodeMainAfter(d, e, g), data.addCreatedNode(e, g))
					}
					return d
				},
				appendParentULDom: function(e, t) {
					var n = [],
						i = $$(t, e);
					!i.get(0) && t.parentTId && (view.appendParentULDom(e, t.getParentNode()), i = $$(t, e));
					var a = $$(t, consts.id.UL, e);
					a.get(0) && a.remove();
					var o = e.data.key.children,
						r = view.appendNodes(e, t.level + 1, t[o], t, -1, !1, !0);
					view.makeUlHtml(e, t, n, r.join("")), i.append(n.join(""))
				},
				asyncNode: function(setting, node, isSilent, callback) {
					var i, l;
					if(node && !node.isParent) return tools.apply(callback), !1;
					if(node && node.isAjaxing) return !1;
					if(0 == tools.apply(setting.callback.beforeAsync, [setting.treeId, node], !0)) return tools.apply(callback), !1;
					if(node) {
						node.isAjaxing = !0;
						var icoObj = $$(node, consts.id.ICON, setting);
						icoObj.attr({
							style: "",
							class: consts.className.BUTTON + " " + consts.className.ICO_LOADING
						})
					}
					var tmpParam = {};
					if(tools.isArray(setting.async.otherParam))
						for(i = 0, l = setting.async.otherParam.length; i < l; i += 2) tmpParam[setting.async.otherParam[i]] = setting.async.otherParam[i + 1];
					else
						for(var p in setting.async.otherParam) tmpParam[p] = setting.async.otherParam[p];
					for(i = 0, l = setting.async.autoParam.length; node && i < l; i++) {
						var pKey = setting.async.autoParam[i].split("="),
							spKey = pKey;
						pKey.length > 1 && (spKey = pKey[1], pKey = pKey[0]), tmpParam[spKey] = node[pKey]
					}
					var _tmpV = data.getRoot(setting)._ver;
					return $.ajax({
						contentType: setting.async.contentType,
						cache: !1,
						type: setting.async.type,
						url: tools.apply(setting.async.url, [setting.treeId, node], setting.async.url),
						data: setting.async.contentType.indexOf("application/json") > -1 ? JSON.stringify(tmpParam) : tmpParam,
						dataType: setting.async.dataType,
						success: function(msg) {
							if(_tmpV == data.getRoot(setting)._ver) {
								var newNodes = [];
								try {
									newNodes = msg && 0 != msg.length ? "string" == typeof msg ? eval("(" + msg + ")") : msg : []
								} catch(e) {
									newNodes = msg
								}
								node && (node.isAjaxing = null, node.zAsync = !0), view.setNodeLineIcos(setting, node), newNodes && "" !== newNodes ? (newNodes = tools.apply(setting.async.dataFilter, [setting.treeId, node, newNodes], newNodes), view.addNodes(setting, node, -1, newNodes ? tools.clone(newNodes) : [], !!isSilent)) : view.addNodes(setting, node, -1, [], !!isSilent), setting.treeObj.trigger(consts.event.ASYNC_SUCCESS, [setting.treeId, node, msg]), tools.apply(callback)
							}
						},
						error: function(e, t, n) {
							_tmpV == data.getRoot(setting)._ver && (node && (node.isAjaxing = null), view.setNodeLineIcos(setting, node), setting.treeObj.trigger(consts.event.ASYNC_ERROR, [setting.treeId, node, e, t, n]))
						}
					}), !0
				},
				cancelPreSelectedNode: function(e, t, n) {
					var i, a, o = data.getRoot(e).curSelectedList;
					for(i = o.length - 1; i >= 0; i--)
						if(a = o[i], t === a || !t && (!n || n !== a)) {
							var r = $$(a, consts.id.A, e);
							if(e.view.isHoverLine && r.parent().removeClass(consts.node.CURSELECTED), r.removeClass(consts.node.CURSELECTED), t) {
								data.removeSelectedNode(e, t);
								break
							}
							o.splice(i, 1), e.treeObj.trigger(consts.event.UNSELECTED, [e.treeId, a])
						}
				},
				createNodeCallback: function(e) {
					if(e.callback.onNodeCreated || e.view.addDiyDom)
						for(var t = data.getRoot(e); t.createdNodes.length > 0;) {
							var n = t.createdNodes.shift();
							tools.apply(e.view.addDiyDom, [e.treeId, n]), e.callback.onNodeCreated && e.treeObj.trigger(consts.event.NODECREATED, [e.treeId, n])
						}
				},
				createNodes: function(e, t, n, i, a) {
					if(n && 0 != n.length) {
						var o = data.getRoot(e),
							r = e.data.key.children,
							s = !i || i.open || !!$$(i[r][0], e).get(0);
						o.createdNodes = [];
						var l, d, c = view.appendNodes(e, t, n, i, a, !0, s);
						if(i) {
							var h = $$(i, consts.id.UL, e);
							h.get(0) && (l = h)
						} else l = e.treeObj;
						l && (a >= 0 && (d = l.children()[a]), a >= 0 && d ? $(d).before(c.join("")) : l.append(c.join(""))), view.createNodeCallback(e)
					}
				},
				destroy: function(e) {
					e && (data.initCache(e), data.initRoot(e), event.unbindTree(e), event.unbindEvent(e), e.treeObj.empty(), delete settings[e.treeId])
				},
				expandCollapseNode: function(e, t, n, i, a) {
					var o, r, s = data.getRoot(e),
						l = e.data.key.children;
					if(!t) return void tools.apply(a, []);
					if(s.expandTriggerFlag && (r = a, o = function() {
							r && r(), t.open ? e.treeObj.trigger(consts.event.EXPAND, [e.treeId, t]) : e.treeObj.trigger(consts.event.COLLAPSE, [e.treeId, t])
						}, a = o, s.expandTriggerFlag = !1), !t.open && t.isParent && (!$$(t, consts.id.UL, e).get(0) || t[l] && t[l].length > 0 && !$$(t[l][0], e).get(0)) && (view.appendParentULDom(e, t), view.createNodeCallback(e)), t.open == n) return void tools.apply(a, []);
					var d = $$(t, consts.id.UL, e),
						c = $$(t, consts.id.SWITCH, e),
						h = $$(t, consts.id.ICON, e);
					t.isParent ? (t.open = !t.open, t.iconOpen && t.iconClose && h.attr("style", view.makeNodeIcoStyle(e, t)), t.open ? (view.replaceSwitchClass(t, c, consts.folder.OPEN), view.replaceIcoClass(t, h, consts.folder.OPEN), 0 == i || "" == e.view.expandSpeed ? (d.show(), tools.apply(a, [])) : t[l] && t[l].length > 0 ? d.slideDown(e.view.expandSpeed, a) : (d.show(), tools.apply(a, []))) : (view.replaceSwitchClass(t, c, consts.folder.CLOSE), view.replaceIcoClass(t, h, consts.folder.CLOSE), 0 != i && "" != e.view.expandSpeed && t[l] && t[l].length > 0 ? d.slideUp(e.view.expandSpeed, a) : (d.hide(), tools.apply(a, [])))) : tools.apply(a, [])
				},
				expandCollapseParentNode: function(e, t, n, i, a) {
					if(t) {
						if(!t.parentTId) return void view.expandCollapseNode(e, t, n, i, a);
						view.expandCollapseNode(e, t, n, i), t.parentTId && view.expandCollapseParentNode(e, t.getParentNode(), n, i, a)
					}
				},
				expandCollapseSonNode: function(e, t, n, i, a) {
					var o = data.getRoot(e),
						r = e.data.key.children,
						s = t ? t[r] : o[r],
						l = !t && i,
						d = data.getRoot(e).expandTriggerFlag;
					if(data.getRoot(e).expandTriggerFlag = !1, s)
						for(var c = 0, h = s.length; c < h; c++) s[c] && view.expandCollapseSonNode(e, s[c], n, l);
					data.getRoot(e).expandTriggerFlag = d, view.expandCollapseNode(e, t, n, i, a)
				},
				isSelectedNode: function(e, t) {
					if(!t) return !1;
					var n, i = data.getRoot(e).curSelectedList;
					for(n = i.length - 1; n >= 0; n--)
						if(t === i[n]) return !0;
					return !1
				},
				makeDOMNodeIcon: function(e, t, n) {
					var i = data.getNodeName(t, n),
						a = t.view.nameIsHTML ? i : i.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");
					e.push("<span id='", n.tId, consts.id.ICON, "' title='' treeNode", consts.id.ICON, " class='", view.makeNodeIcoClass(t, n), "' style='", view.makeNodeIcoStyle(t, n), "'></span><span id='", n.tId, consts.id.SPAN, "' class='", consts.className.NAME, "'>", a, "</span>")
				},
				makeDOMNodeLine: function(e, t, n) {
					e.push("<span id='", n.tId, consts.id.SWITCH, "' title='' class='", view.makeNodeLineClass(t, n), "' treeNode", consts.id.SWITCH, "></span>")
				},
				makeDOMNodeMainAfter: function(e, t, n) {
					e.push("</li>")
				},
				makeDOMNodeMainBefore: function(e, t, n) {
					e.push("<li id='", n.tId, "' class='", consts.className.LEVEL, n.level, "' tabindex='0' hidefocus='true' treenode>")
				},
				makeDOMNodeNameAfter: function(e, t, n) {
					e.push("</a>")
				},
				makeDOMNodeNameBefore: function(e, t, n) {
					var i = data.getNodeTitle(t, n),
						a = view.makeNodeUrl(t, n),
						o = view.makeNodeFontCss(t, n),
						r = [];
					for(var s in o) r.push(s, ":", o[s], ";");
					e.push("<a id='", n.tId, consts.id.A, "' class='", consts.className.LEVEL, n.level, "' treeNode", consts.id.A, ' onclick="', n.click || "", '" ', null != a && a.length > 0 ? "href='" + a + "'" : "", " target='", view.makeNodeTarget(n), "' style='", r.join(""), "'"), tools.apply(t.view.showTitle, [t.treeId, n], t.view.showTitle) && i && e.push("title='", i.replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;"), "'"), e.push(">")
				},
				makeNodeFontCss: function(e, t) {
					var n = tools.apply(e.view.fontCss, [e.treeId, t], e.view.fontCss);
					return n && "function" != typeof n ? n : {}
				},
				makeNodeIcoClass: function(e, t) {
					var n = ["ico"];
					return t.isAjaxing || (n[0] = (t.iconSkin ? t.iconSkin + "_" : "") + n[0], t.isParent ? n.push(t.open ? consts.folder.OPEN : consts.folder.CLOSE) : n.push(consts.folder.DOCU)), consts.className.BUTTON + " " + n.join("_")
				},
				makeNodeIcoStyle: function(e, t) {
					var n = [];
					if(!t.isAjaxing) {
						var i = t.isParent && t.iconOpen && t.iconClose ? t.open ? t.iconOpen : t.iconClose : t[e.data.key.icon];
						i && n.push("background:url(", i, ") 0 0 no-repeat;"), 0 != e.view.showIcon && tools.apply(e.view.showIcon, [e.treeId, t], !0) || n.push("width:0px;height:0px;")
					}
					return n.join("")
				},
				makeNodeLineClass: function(e, t) {
					var n = [];
					return e.view.showLine ? 0 == t.level && t.isFirstNode && t.isLastNode ? n.push(consts.line.ROOT) : 0 == t.level && t.isFirstNode ? n.push(consts.line.ROOTS) : t.isLastNode ? n.push(consts.line.BOTTOM) : n.push(consts.line.CENTER) : n.push(consts.line.NOLINE), t.isParent ? n.push(t.open ? consts.folder.OPEN : consts.folder.CLOSE) : n.push(consts.folder.DOCU), view.makeNodeLineClassEx(t) + n.join("_")
				},
				makeNodeLineClassEx: function(e) {
					return consts.className.BUTTON + " " + consts.className.LEVEL + e.level + " " + consts.className.SWITCH + " "
				},
				makeNodeTarget: function(e) {
					return e.target || "_blank"
				},
				makeNodeUrl: function(e, t) {
					var n = e.data.key.url;
					return t[n] ? t[n] : null
				},
				makeUlHtml: function(e, t, n, i) {
					n.push("<ul id='", t.tId, consts.id.UL, "' class='", consts.className.LEVEL, t.level, " ", view.makeUlLineClass(e, t), "' style='display:", t.open ? "block" : "none", "'>"), n.push(i), n.push("</ul>")
				},
				makeUlLineClass: function(e, t) {
					return e.view.showLine && !t.isLastNode ? consts.line.LINE : ""
				},
				removeChildNodes: function(e, t) {
					if(t) {
						var n = e.data.key.children,
							i = t[n];
						if(i) {
							for(var a = 0, o = i.length; a < o; a++) data.removeNodeCache(e, i[a]);
							if(data.removeSelectedNode(e), delete t[n], e.data.keep.parent) $$(t, consts.id.UL, e).empty();
							else {
								t.isParent = !1, t.open = !1;
								var r = $$(t, consts.id.SWITCH, e),
									s = $$(t, consts.id.ICON, e);
								view.replaceSwitchClass(t, r, consts.folder.DOCU), view.replaceIcoClass(t, s, consts.folder.DOCU), $$(t, consts.id.UL, e).remove()
							}
						}
					}
				},
				scrollIntoView: function(e) {
					e && (Element.prototype.scrollIntoViewIfNeeded || (Element.prototype.scrollIntoViewIfNeeded = function(e) {
						function t(t, n, i, a) {
							return !1 === e || i <= t + a && t <= n + a ? Math.min(i, Math.max(n, t)) : (n + i) / 2
						}

						function n(e, t, i, a) {
							return {
								left: e,
								top: t,
								width: i,
								height: a,
								right: e + i,
								bottom: t + a,
								translate: function(o, r) {
									return n(o + e, r + t, i, a)
								},
								relativeFromTo: function(r, s) {
									var l = e,
										d = t;
									if(r = r.offsetParent, s = s.offsetParent, r === s) return o;
									for(; r; r = r.offsetParent) l += r.offsetLeft + r.clientLeft, d += r.offsetTop + r.clientTop;
									for(; s; s = s.offsetParent) l -= s.offsetLeft + s.clientLeft, d -= s.offsetTop + s.clientTop;
									return n(l, d, i, a)
								}
							}
						}
						for(var i, a = this, o = n(this.offsetLeft, this.offsetTop, this.offsetWidth, this.offsetHeight);
							(i = a.parentNode) instanceof HTMLElement;) {
							var r = i.offsetLeft + i.clientLeft,
								s = i.offsetTop + i.clientTop;
							o = o.relativeFromTo(a, i).translate(-r, -s), i.scrollLeft = t(i.scrollLeft, o.right - i.clientWidth, o.left, i.clientWidth), i.scrollTop = t(i.scrollTop, o.bottom - i.clientHeight, o.top, i.clientHeight), o = o.translate(r - i.scrollLeft, s - i.scrollTop), a = i
						}
					}), e.scrollIntoViewIfNeeded())
				},
				setFirstNode: function(e, t) {
					var n = e.data.key.children;
					t[n].length > 0 && (t[n][0].isFirstNode = !0)
				},
				setLastNode: function(e, t) {
					var n = e.data.key.children,
						i = t[n].length;
					i > 0 && (t[n][i - 1].isLastNode = !0)
				},
				removeNode: function(e, t) {
					var n = data.getRoot(e),
						i = e.data.key.children,
						a = t.parentTId ? t.getParentNode() : n;
					if(t.isFirstNode = !1, t.isLastNode = !1, t.getPreNode = function() {
							return null
						}, t.getNextNode = function() {
							return null
						}, data.getNodeCache(e, t.tId)) {
						$$(t, e).remove(), data.removeNodeCache(e, t), data.removeSelectedNode(e, t);
						for(var o = 0, r = a[i].length; o < r; o++)
							if(a[i][o].tId == t.tId) {
								a[i].splice(o, 1);
								break
							}
						view.setFirstNode(e, a), view.setLastNode(e, a);
						var s, l, d, c = a[i].length;
						if(e.data.keep.parent || 0 != c) {
							if(e.view.showLine && c > 0) {
								var h = a[i][c - 1];
								if(s = $$(h, consts.id.UL, e), l = $$(h, consts.id.SWITCH, e), d = $$(h, consts.id.ICON, e), a == n)
									if(1 == a[i].length) view.replaceSwitchClass(h, l, consts.line.ROOT);
									else {
										var p = $$(a[i][0], consts.id.SWITCH, e);
										view.replaceSwitchClass(a[i][0], p, consts.line.ROOTS), view.replaceSwitchClass(h, l, consts.line.BOTTOM)
									}
								else view.replaceSwitchClass(h, l, consts.line.BOTTOM);
								s.removeClass(consts.line.LINE)
							}
						} else a.isParent = !1, a.open = !1, s = $$(a, consts.id.UL, e), l = $$(a, consts.id.SWITCH, e), d = $$(a, consts.id.ICON, e), view.replaceSwitchClass(a, l, consts.folder.DOCU), view.replaceIcoClass(a, d, consts.folder.DOCU), s.css("display", "none")
					}
				},
				replaceIcoClass: function(e, t, n) {
					if(t && !e.isAjaxing) {
						var i = t.attr("class");
						if(void 0 != i) {
							var a = i.split("_");
							switch(n) {
								case consts.folder.OPEN:
								case consts.folder.CLOSE:
								case consts.folder.DOCU:
									a[a.length - 1] = n
							}
							t.attr("class", a.join("_"))
						}
					}
				},
				replaceSwitchClass: function(e, t, n) {
					if(t) {
						var i = t.attr("class");
						if(void 0 != i) {
							var a = i.split("_");
							switch(n) {
								case consts.line.ROOT:
								case consts.line.ROOTS:
								case consts.line.CENTER:
								case consts.line.BOTTOM:
								case consts.line.NOLINE:
									a[0] = view.makeNodeLineClassEx(e) + n;
									break;
								case consts.folder.OPEN:
								case consts.folder.CLOSE:
								case consts.folder.DOCU:
									a[1] = n
							}
							t.attr("class", a.join("_")), n !== consts.folder.DOCU ? t.removeAttr("disabled") : t.attr("disabled", "disabled")
						}
					}
				},
				selectNode: function(e, t, n) {
					n || view.cancelPreSelectedNode(e, null, t);
					var i = $$(t, consts.id.A, e);
					e.view.isHoverLine && i.parent().addClass(consts.node.CURSELECTED), i.addClass(consts.node.CURSELECTED), data.addSelectedNode(e, t), e.treeObj.trigger(consts.event.SELECTED, [e.treeId, t])
				},
				setNodeFontCss: function(e, t) {
					var n = $$(t, consts.id.A, e),
						i = view.makeNodeFontCss(e, t);
					i && n.css(i)
				},
				setNodeLineIcos: function(e, t) {
					if(t) {
						var n = $$(t, consts.id.SWITCH, e),
							i = $$(t, consts.id.UL, e),
							a = $$(t, consts.id.ICON, e),
							o = view.makeUlLineClass(e, t);
						0 == o.length ? i.removeClass(consts.line.LINE) : i.addClass(o), n.attr("class", view.makeNodeLineClass(e, t)), t.isParent ? n.removeAttr("disabled") : n.attr("disabled", "disabled"), a.removeAttr("style"), a.attr("style", view.makeNodeIcoStyle(e, t)), a.attr("class", view.makeNodeIcoClass(e, t))
					}
				},
				setNodeName: function(e, t) {
					var n = data.getNodeTitle(e, t),
						i = $$(t, consts.id.SPAN, e);
					if(i.empty(), e.view.nameIsHTML ? i.html(data.getNodeName(e, t)) : i.text(data.getNodeName(e, t)), tools.apply(e.view.showTitle, [e.treeId, t], e.view.showTitle)) {
						$$(t, consts.id.A, e).attr("title", n || "")
					}
				},
				setNodeTarget: function(e, t) {
					$$(t, consts.id.A, e).attr("target", view.makeNodeTarget(t))
				},
				setNodeUrl: function(e, t) {
					var n = $$(t, consts.id.A, e),
						i = view.makeNodeUrl(e, t);
					null == i || 0 == i.length ? n.removeAttr("href") : n.attr("href", i)
				},
				switchNode: function(e, t) {
					if(t.open || !tools.canAsync(e, t)) view.expandCollapseNode(e, t, !t.open);
					else if(e.async.enable) {
						if(!view.asyncNode(e, t)) return void view.expandCollapseNode(e, t, !t.open)
					} else t && view.expandCollapseNode(e, t, !t.open)
				}
			};
		$.fn.zTree = {
			consts: _consts,
			_z: {
				tools: tools,
				view: view,
				event: event,
				data: data
			},
			getZTreeObj: function(e) {
				var t = data.getZTreeTools(e);
				return t || null
			},
			destroy: function(e) {
				if(e && e.length > 0) view.destroy(data.getSetting(e));
				else
					for(var t in settings) view.destroy(settings[t])
			},
			init: function(e, t, n) {
				var i = tools.clone(_setting);
				$.extend(!0, i, t), i.treeId = e.attr("id"), i.treeObj = e, i.treeObj.empty(), settings[i.treeId] = i, void 0 === document.body.style.maxHeight && (i.view.expandSpeed = ""), data.initRoot(i);
				var a = data.getRoot(i),
					o = i.data.key.children;
				n = n ? tools.clone(tools.isArray(n) ? n : [n]) : [], i.data.simpleData.enable ? a[o] = data.transformTozTreeFormat(i, n) : a[o] = n, data.initCache(i), event.unbindTree(i), event.bindTree(i), event.unbindEvent(i), event.bindEvent(i);
				var r = {
					setting: i,
					addNodes: function(e, t, n, a) {
						function o() {
							view.addNodes(i, e, t, s, 1 == a)
						}
						if(e || (e = null), e && !e.isParent && i.data.keep.leaf) return null;
						var r = parseInt(t, 10);
						if(isNaN(r) ? (a = !!n, n = t, t = -1) : t = r, !n) return null;
						var s = tools.clone(tools.isArray(n) ? n : [n]);
						return tools.canAsync(i, e) ? view.asyncNode(i, e, a, o) : o(), s
					},
					cancelSelectedNode: function(e) {
						view.cancelPreSelectedNode(i, e)
					},
					destroy: function() {
						view.destroy(i)
					},
					expandAll: function(e) {
						return e = !!e, view.expandCollapseSonNode(i, null, e, !0), e
					},
					expandNode: function(e, t, n, a, o) {
						function r() {
							var t = $$(e, i).get(0);
							t && !1 !== a && view.scrollIntoView(t)
						}
						return e && e.isParent ? (!0 !== t && !1 !== t && (t = !e.open), (o = !!o) && t && 0 == tools.apply(i.callback.beforeExpand, [i.treeId, e], !0) ? null : o && !t && 0 == tools.apply(i.callback.beforeCollapse, [i.treeId, e], !0) ? null : (t && e.parentTId && view.expandCollapseParentNode(i, e.getParentNode(), t, !1), t !== e.open || n ? (data.getRoot(i).expandTriggerFlag = o, !tools.canAsync(i, e) && n ? view.expandCollapseSonNode(i, e, t, !0, r) : (e.open = !t, view.switchNode(this.setting, e), r()), t) : null)) : null
					},
					getNodes: function() {
						return data.getNodes(i)
					},
					getNodeByParam: function(e, t, n) {
						return e ? data.getNodeByParam(i, n ? n[i.data.key.children] : data.getNodes(i), e, t) : null
					},
					getNodeByTId: function(e) {
						return data.getNodeCache(i, e)
					},
					getNodesByParam: function(e, t, n) {
						return e ? data.getNodesByParam(i, n ? n[i.data.key.children] : data.getNodes(i), e, t) : null
					},
					getNodesByParamFuzzy: function(e, t, n) {
						return e ? data.getNodesByParamFuzzy(i, n ? n[i.data.key.children] : data.getNodes(i), e, t) : null
					},
					getNodesByFilter: function(e, t, n, a) {
						return t = !!t, e && "function" == typeof e ? data.getNodesByFilter(i, n ? n[i.data.key.children] : data.getNodes(i), e, t, a) : t ? null : []
					},
					getNodeIndex: function(e) {
						if(!e) return null;
						for(var t = i.data.key.children, n = e.parentTId ? e.getParentNode() : data.getRoot(i), a = 0, o = n[t].length; a < o; a++)
							if(n[t][a] == e) return a;
						return -1
					},
					getSelectedNodes: function() {
						for(var e = [], t = data.getRoot(i).curSelectedList, n = 0, a = t.length; n < a; n++) e.push(t[n]);
						return e
					},
					isSelectedNode: function(e) {
						return data.isSelectedNode(i, e)
					},
					reAsyncChildNodes: function(e, t, n) {
						if(this.setting.async.enable) {
							var a = !e;
							if(a && (e = data.getRoot(i)), "refresh" == t) {
								for(var o = this.setting.data.key.children, r = 0, s = e[o] ? e[o].length : 0; r < s; r++) data.removeNodeCache(i, e[o][r]);
								if(data.removeSelectedNode(i), e[o] = [], a) this.setting.treeObj.empty();
								else {
									$$(e, consts.id.UL, i).empty()
								}
							}
							view.asyncNode(this.setting, a ? null : e, !!n)
						}
					},
					refresh: function() {
						this.setting.treeObj.empty();
						var e = data.getRoot(i),
							t = e[i.data.key.children];
						data.initRoot(i), e[i.data.key.children] = t, data.initCache(i), view.createNodes(i, 0, e[i.data.key.children], null, -1)
					},
					removeChildNodes: function(e) {
						if(!e) return null;
						var t = i.data.key.children,
							n = e[t];
						return view.removeChildNodes(i, e), n || null
					},
					removeNode: function(e, t) {
						e && ((t = !!t) && 0 == tools.apply(i.callback.beforeRemove, [i.treeId, e], !0) || (view.removeNode(i, e), t && this.setting.treeObj.trigger(consts.event.REMOVE, [i.treeId, e])))
					},
					selectNode: function(e, t, n) {
						function a() {
							if(!n) {
								var t = $$(e, i).get(0);
								view.scrollIntoView(t)
							}
						}
						if(e && tools.uCanDo(i)) {
							if(t = i.view.selectedMulti && t, e.parentTId) view.expandCollapseParentNode(i, e.getParentNode(), !0, !1, a);
							else if(!n) try {
								$$(e, i).focus().blur()
							} catch(e) {}
							view.selectNode(i, e, t)
						}
					},
					transformTozTreeNodes: function(e) {
						return data.transformTozTreeFormat(i, e)
					},
					transformToArray: function(e) {
						return data.transformToArrayFormat(i, e)
					},
					updateNode: function(e, t) {
						if(e) {
							$$(e, i).get(0) && tools.uCanDo(i) && (view.setNodeName(i, e), view.setNodeTarget(i, e), view.setNodeUrl(i, e), view.setNodeLineIcos(i, e), view.setNodeFontCss(i, e))
						}
					}
				};
				return a.treeTools = r, data.setZTreeTools(i, r), a[o] && a[o].length > 0 ? view.createNodes(i, 0, a[o], null, -1) : i.async.enable && i.async.url && "" !== i.async.url && view.asyncNode(i), r
			}
		};
		var zt = $.fn.zTree,
			$$ = tools.$,
			consts = zt.consts
	}(jQuery),
	function(e) {
		var t = {
				event: {
					CHECK: "ztree_check"
				},
				id: {
					CHECK: "_check"
				},
				checkbox: {
					STYLE: "checkbox",
					DEFAULT: "chk",
					DISABLED: "disable",
					FALSE: "false",
					TRUE: "true",
					FULL: "full",
					PART: "part",
					FOCUS: "focus"
				},
				radio: {
					STYLE: "radio",
					TYPE_ALL: "all",
					TYPE_LEVEL: "level"
				}
			},
			n = {
				check: {
					enable: !1,
					autoCheckTrigger: !1,
					chkStyle: t.checkbox.STYLE,
					nocheckInherit: !1,
					chkDisabledInherit: !1,
					radioType: t.radio.TYPE_LEVEL,
					chkboxType: {
						Y: "ps",
						N: "ps"
					}
				},
				data: {
					key: {
						checked: "checked"
					}
				},
				callback: {
					beforeCheck: null,
					onCheck: null
				}
			},
			i = function(e) {
				C.getRoot(e).radioCheckedList = []
			},
			a = function(e) {},
			o = function(e) {
				var t = e.treeObj,
					n = y.event;
				t.bind(n.CHECK, function(t, n, i, a) {
					t.srcEvent = n, m.apply(e.callback.onCheck, [t, i, a])
				})
			},
			r = function(e) {
				var t = e.treeObj,
					n = y.event;
				t.unbind(n.CHECK)
			},
			s = function(e) {
				var t = e.target,
					n = C.getSetting(e.data.treeId),
					i = "",
					a = null,
					o = "",
					r = null;
				if(m.eqs(e.type, "mouseover") ? n.check.enable && m.eqs(t.tagName, "span") && null !== t.getAttribute("treeNode" + y.id.CHECK) && (i = m.getNodeMainDom(t).id, o = "mouseoverCheck") : m.eqs(e.type, "mouseout") ? n.check.enable && m.eqs(t.tagName, "span") && null !== t.getAttribute("treeNode" + y.id.CHECK) && (i = m.getNodeMainDom(t).id, o = "mouseoutCheck") : m.eqs(e.type, "click") && n.check.enable && m.eqs(t.tagName, "span") && null !== t.getAttribute("treeNode" + y.id.CHECK) && (i = m.getNodeMainDom(t).id, o = "checkNode"), i.length > 0) switch(a = C.getNodeCache(n, i), o) {
					case "checkNode":
						r = u.onCheckNode;
						break;
					case "mouseoverCheck":
						r = u.onMouseoverCheck;
						break;
					case "mouseoutCheck":
						r = u.onMouseoutCheck
				}
				return {
					stop: "checkNode" === o,
					node: a,
					nodeEventType: o,
					nodeEventCallback: r,
					treeEventType: "",
					treeEventCallback: null
				}
			},
			l = function(e, t, n, i, a, o, r) {
				if(n) {
					var s = e.data.key.checked;
					if("string" == typeof n[s] && (n[s] = m.eqs(n[s], "true")), n[s] = !!n[s], n.checkedOld = n[s], "string" == typeof n.nocheck && (n.nocheck = m.eqs(n.nocheck, "true")), n.nocheck = !!n.nocheck || e.check.nocheckInherit && i && !!i.nocheck, "string" == typeof n.chkDisabled && (n.chkDisabled = m.eqs(n.chkDisabled, "true")), n.chkDisabled = !!n.chkDisabled || e.check.chkDisabledInherit && i && !!i.chkDisabled, "string" == typeof n.halfCheck && (n.halfCheck = m.eqs(n.halfCheck, "true")), n.halfCheck = !!n.halfCheck, n.check_Child_State = -1, n.check_Focus = !1, n.getCheckStatus = function() {
							return C.getCheckStatus(e, n)
						}, e.check.chkStyle == y.radio.STYLE && e.check.radioType == y.radio.TYPE_ALL && n[s]) {
						C.getRoot(e).radioCheckedList.push(n)
					}
				}
			},
			d = function(e, t, n) {
				e.data.key.checked;
				e.check.enable && (C.makeChkFlag(e, t), n.push("<span ID='", t.tId, y.id.CHECK, "' class='", k.makeChkClass(e, t), "' treeNode", y.id.CHECK, !0 === t.nocheck ? " style='display:none;'" : "", "></span>"))
			},
			c = function(e, t) {
				t.checkNode = function(e, t, n, i) {
					var a = this.setting.data.key.checked;
					if(!0 !== e.chkDisabled && (!0 !== t && !1 !== t && (t = !e[a]), i = !!i, (e[a] !== t || n) && (!i || 0 != m.apply(this.setting.callback.beforeCheck, [this.setting.treeId, e], !0)) && m.uCanDo(this.setting) && this.setting.check.enable && !0 !== e.nocheck)) {
						e[a] = t;
						var o = w(e, y.id.CHECK, this.setting);
						(n || this.setting.check.chkStyle === y.radio.STYLE) && k.checkNodeRelation(this.setting, e), k.setChkClass(this.setting, o, e), k.repairParentChkClassWithSelf(this.setting, e), i && this.setting.treeObj.trigger(y.event.CHECK, [null, this.setting.treeId, e])
					}
				}, t.checkAllNodes = function(e) {
					k.repairAllChk(this.setting, !!e)
				}, t.getCheckedNodes = function(e) {
					var t = this.setting.data.key.children;
					return e = !1 !== e, C.getTreeCheckedNodes(this.setting, C.getRoot(this.setting)[t], e)
				}, t.getChangeCheckedNodes = function() {
					var e = this.setting.data.key.children;
					return C.getTreeChangeCheckedNodes(this.setting, C.getRoot(this.setting)[e])
				}, t.setChkDisabled = function(e, t, n, i) {
					t = !!t, n = !!n, i = !!i, k.repairSonChkDisabled(this.setting, e, t, i), k.repairParentChkDisabled(this.setting, e.getParentNode(), t, n)
				};
				var n = t.updateNode;
				t.updateNode = function(e, i) {
					if(n && n.apply(t, arguments), e && this.setting.check.enable) {
						if(w(e, this.setting).get(0) && m.uCanDo(this.setting)) {
							var a = w(e, y.id.CHECK, this.setting);
							1 != i && this.setting.check.chkStyle !== y.radio.STYLE || k.checkNodeRelation(this.setting, e), k.setChkClass(this.setting, a, e), k.repairParentChkClassWithSelf(this.setting, e)
						}
					}
				}
			},
			h = {
				getRadioCheckedList: function(e) {
					for(var t = C.getRoot(e).radioCheckedList, n = 0, i = t.length; n < i; n++) C.getNodeCache(e, t[n].tId) || (t.splice(n, 1), n--, i--);
					return t
				},
				getCheckStatus: function(e, t) {
					if(!e.check.enable || t.nocheck || t.chkDisabled) return null;
					var n = e.data.key.checked;
					return {
						checked: t[n],
						half: t.halfCheck ? t.halfCheck : e.check.chkStyle == y.radio.STYLE ? 2 === t.check_Child_State : t[n] ? t.check_Child_State > -1 && t.check_Child_State < 2 : t.check_Child_State > 0
					}
				},
				getTreeCheckedNodes: function(e, t, n, i) {
					if(!t) return [];
					var a = e.data.key.children,
						o = e.data.key.checked,
						r = n && e.check.chkStyle == y.radio.STYLE && e.check.radioType == y.radio.TYPE_ALL;
					i = i || [];
					for(var s = 0, l = t.length; s < l && (!0 === t[s].nocheck || !0 === t[s].chkDisabled || t[s][o] != n || (i.push(t[s]), !r)) && (C.getTreeCheckedNodes(e, t[s][a], n, i), !(r && i.length > 0)); s++);
					return i
				},
				getTreeChangeCheckedNodes: function(e, t, n) {
					if(!t) return [];
					var i = e.data.key.children,
						a = e.data.key.checked;
					n = n || [];
					for(var o = 0, r = t.length; o < r; o++) !0 !== t[o].nocheck && !0 !== t[o].chkDisabled && t[o][a] != t[o].checkedOld && n.push(t[o]), C.getTreeChangeCheckedNodes(e, t[o][i], n);
					return n
				},
				makeChkFlag: function(e, t) {
					if(t) {
						var n = e.data.key.children,
							i = e.data.key.checked,
							a = -1;
						if(t[n])
							for(var o = 0, r = t[n].length; o < r; o++) {
								var s = t[n][o],
									l = -1;
								if(e.check.chkStyle == y.radio.STYLE) {
									if(2 == (l = !0 === s.nocheck || !0 === s.chkDisabled ? s.check_Child_State : !0 === s.halfCheck ? 2 : s[i] ? 2 : s.check_Child_State > 0 ? 2 : 0)) {
										a = 2;
										break
									}
									0 == l && (a = 0)
								} else if(e.check.chkStyle == y.checkbox.STYLE) {
									if(1 === (l = !0 === s.nocheck || !0 === s.chkDisabled ? s.check_Child_State : !0 === s.halfCheck ? 1 : s[i] ? -1 === s.check_Child_State || 2 === s.check_Child_State ? 2 : 1 : s.check_Child_State > 0 ? 1 : 0)) {
										a = 1;
										break
									}
									if(2 === l && a > -1 && o > 0 && l !== a) {
										a = 1;
										break
									}
									if(2 === a && l > -1 && l < 2) {
										a = 1;
										break
									}
									l > -1 && (a = l)
								}
							}
						t.check_Child_State = a
					}
				}
			},
			p = {},
			u = {
				onCheckNode: function(e, t) {
					if(!0 === t.chkDisabled) return !1;
					var n = C.getSetting(e.data.treeId),
						i = n.data.key.checked;
					if(0 == m.apply(n.callback.beforeCheck, [n.treeId, t], !0)) return !0;
					t[i] = !t[i], k.checkNodeRelation(n, t);
					var a = w(t, y.id.CHECK, n);
					return k.setChkClass(n, a, t), k.repairParentChkClassWithSelf(n, t), n.treeObj.trigger(y.event.CHECK, [e, n.treeId, t]), !0
				},
				onMouseoverCheck: function(e, t) {
					if(!0 === t.chkDisabled) return !1;
					var n = C.getSetting(e.data.treeId),
						i = w(t, y.id.CHECK, n);
					return t.check_Focus = !0, k.setChkClass(n, i, t), !0
				},
				onMouseoutCheck: function(e, t) {
					if(!0 === t.chkDisabled) return !1;
					var n = C.getSetting(e.data.treeId),
						i = w(t, y.id.CHECK, n);
					return t.check_Focus = !1, k.setChkClass(n, i, t), !0
				}
			},
			f = {},
			g = {
				checkNodeRelation: function(e, t) {
					var n, i, a, o = e.data.key.children,
						r = e.data.key.checked,
						s = y.radio;
					if(e.check.chkStyle == s.STYLE) {
						var l = C.getRadioCheckedList(e);
						if(t[r])
							if(e.check.radioType == s.TYPE_ALL) {
								for(i = l.length - 1; i >= 0; i--) n = l[i], n[r] && n != t && (n[r] = !1, l.splice(i, 1), k.setChkClass(e, w(n, y.id.CHECK, e), n), n.parentTId != t.parentTId && k.repairParentChkClassWithSelf(e, n));
								l.push(t)
							} else {
								var d = t.parentTId ? t.getParentNode() : C.getRoot(e);
								for(i = 0, a = d[o].length; i < a; i++) n = d[o][i], n[r] && n != t && (n[r] = !1, k.setChkClass(e, w(n, y.id.CHECK, e), n))
							}
						else if(e.check.radioType == s.TYPE_ALL)
							for(i = 0, a = l.length; i < a; i++)
								if(t == l[i]) {
									l.splice(i, 1);
									break
								}
					} else t[r] && (!t[o] || 0 == t[o].length || e.check.chkboxType.Y.indexOf("s") > -1) && k.setSonNodeCheckBox(e, t, !0), t[r] || t[o] && 0 != t[o].length && !(e.check.chkboxType.N.indexOf("s") > -1) || k.setSonNodeCheckBox(e, t, !1), t[r] && e.check.chkboxType.Y.indexOf("p") > -1 && k.setParentNodeCheckBox(e, t, !0), !t[r] && e.check.chkboxType.N.indexOf("p") > -1 && k.setParentNodeCheckBox(e, t, !1)
				},
				makeChkClass: function(e, t) {
					var n = e.data.key.checked,
						i = y.checkbox,
						a = y.radio,
						o = "";
					o = !0 === t.chkDisabled ? i.DISABLED : t.halfCheck ? i.PART : e.check.chkStyle == a.STYLE ? t.check_Child_State < 1 ? i.FULL : i.PART : t[n] ? 2 === t.check_Child_State || -1 === t.check_Child_State ? i.FULL : i.PART : t.check_Child_State < 1 ? i.FULL : i.PART;
					var r = e.check.chkStyle + "_" + (t[n] ? i.TRUE : i.FALSE) + "_" + o;
					return r = t.check_Focus && !0 !== t.chkDisabled ? r + "_" + i.FOCUS : r, y.className.BUTTON + " " + i.DEFAULT + " " + r
				},
				repairAllChk: function(e, t) {
					if(e.check.enable && e.check.chkStyle === y.checkbox.STYLE)
						for(var n = e.data.key.checked, i = e.data.key.children, a = C.getRoot(e), o = 0, r = a[i].length; o < r; o++) {
							var s = a[i][o];
							!0 !== s.nocheck && !0 !== s.chkDisabled && (s[n] = t), k.setSonNodeCheckBox(e, s, t)
						}
				},
				repairChkClass: function(e, t) {
					if(t && (C.makeChkFlag(e, t), !0 !== t.nocheck)) {
						var n = w(t, y.id.CHECK, e);
						k.setChkClass(e, n, t)
					}
				},
				repairParentChkClass: function(e, t) {
					if(t && t.parentTId) {
						var n = t.getParentNode();
						k.repairChkClass(e, n), k.repairParentChkClass(e, n)
					}
				},
				repairParentChkClassWithSelf: function(e, t) {
					if(t) {
						var n = e.data.key.children;
						t[n] && t[n].length > 0 ? k.repairParentChkClass(e, t[n][0]) : k.repairParentChkClass(e, t)
					}
				},
				repairSonChkDisabled: function(e, t, n, i) {
					if(t) {
						var a = e.data.key.children;
						if(t.chkDisabled != n && (t.chkDisabled = n), k.repairChkClass(e, t), t[a] && i)
							for(var o = 0, r = t[a].length; o < r; o++) {
								var s = t[a][o];
								k.repairSonChkDisabled(e, s, n, i)
							}
					}
				},
				repairParentChkDisabled: function(e, t, n, i) {
					t && (t.chkDisabled != n && i && (t.chkDisabled = n), k.repairChkClass(e, t), k.repairParentChkDisabled(e, t.getParentNode(), n, i))
				},
				setChkClass: function(e, t, n) {
					t && (!0 === n.nocheck ? t.hide() : t.show(), t.attr("class", k.makeChkClass(e, n)))
				},
				setParentNodeCheckBox: function(e, t, n, i) {
					var a = e.data.key.children,
						o = e.data.key.checked,
						r = w(t, y.id.CHECK, e);
					if(i || (i = t), C.makeChkFlag(e, t), !0 !== t.nocheck && !0 !== t.chkDisabled && (t[o] = n, k.setChkClass(e, r, t), e.check.autoCheckTrigger && t != i && e.treeObj.trigger(y.event.CHECK, [null, e.treeId, t])), t.parentTId) {
						var s = !0;
						if(!n)
							for(var l = t.getParentNode()[a], d = 0, c = l.length; d < c; d++)
								if(!0 !== l[d].nocheck && !0 !== l[d].chkDisabled && l[d][o] || (!0 === l[d].nocheck || !0 === l[d].chkDisabled) && l[d].check_Child_State > 0) {
									s = !1;
									break
								}
						s && k.setParentNodeCheckBox(e, t.getParentNode(), n, i)
					}
				},
				setSonNodeCheckBox: function(e, t, n, i) {
					if(t) {
						var a = e.data.key.children,
							o = e.data.key.checked,
							r = w(t, y.id.CHECK, e);
						i || (i = t);
						var s = !1;
						if(t[a])
							for(var l = 0, d = t[a].length; l < d; l++) {
								var c = t[a][l];
								k.setSonNodeCheckBox(e, c, n, i), !0 === c.chkDisabled && (s = !0)
							}
						t != C.getRoot(e) && !0 !== t.chkDisabled && (s && !0 !== t.nocheck && C.makeChkFlag(e, t), !0 !== t.nocheck && !0 !== t.chkDisabled ? (t[o] = n, s || (t.check_Child_State = t[a] && t[a].length > 0 ? n ? 2 : 0 : -1)) : t.check_Child_State = -1, k.setChkClass(e, r, t), e.check.autoCheckTrigger && t != i && !0 !== t.nocheck && !0 !== t.chkDisabled && e.treeObj.trigger(y.event.CHECK, [null, e.treeId, t]))
					}
				}
			},
			v = {
				tools: f,
				view: g,
				event: p,
				data: h
			};
		e.extend(!0, e.fn.zTree.consts, t), e.extend(!0, e.fn.zTree._z, v);
		var b = e.fn.zTree,
			m = b._z.tools,
			y = b.consts,
			k = b._z.view,
			C = b._z.data,
			w = (b._z.event, m.$);
		C.exSetting(n), C.addInitBind(o), C.addInitUnBind(r), C.addInitCache(a), C.addInitNode(l), C.addInitProxy(s, !0), C.addInitRoot(i), C.addBeforeA(d), C.addZTreeTools(c);
		var x = k.createNodes;
		k.createNodes = function(e, t, n, i, a) {
			x && x.apply(k, arguments), n && k.repairParentChkClassWithSelf(e, i)
		};
		var T = k.removeNode;
		k.removeNode = function(e, t) {
			var n = t.getParentNode();
			T && T.apply(k, arguments), t && n && (k.repairChkClass(e, n), k.repairParentChkClass(e, n))
		};
		var D = k.appendNodes;
		k.appendNodes = function(e, t, n, i, a, o, r) {
			var s = "";
			return D && (s = D.apply(k, arguments)), i && C.makeChkFlag(e, i), s
		}
	}(jQuery),
	function(e) {
		var t = {
				event: {
					DRAG: "ztree_drag",
					DROP: "ztree_drop",
					RENAME: "ztree_rename",
					DRAGMOVE: "ztree_dragmove"
				},
				id: {
					EDIT: "_edit",
					INPUT: "_input",
					REMOVE: "_remove"
				},
				move: {
					TYPE_INNER: "inner",
					TYPE_PREV: "prev",
					TYPE_NEXT: "next"
				},
				node: {
					CURSELECTED_EDIT: "curSelectedNode_Edit",
					TMPTARGET_TREE: "tmpTargetzTree",
					TMPTARGET_NODE: "tmpTargetNode"
				}
			},
			n = {
				edit: {
					enable: !1,
					editNameSelectAll: !1,
					showRemoveBtn: !0,
					showRenameBtn: !0,
					removeTitle: "remove",
					renameTitle: "rename",
					drag: {
						autoExpandTrigger: !1,
						isCopy: !0,
						isMove: !0,
						prev: !0,
						next: !0,
						inner: !0,
						minMoveSize: 5,
						borderMax: 10,
						borderMin: -5,
						maxShowNodeNum: 5,
						autoOpenTime: 500
					}
				},
				view: {
					addHoverDom: null,
					removeHoverDom: null
				},
				callback: {
					beforeDrag: null,
					beforeDragOpen: null,
					beforeDrop: null,
					beforeEditName: null,
					beforeRename: null,
					onDrag: null,
					onDragMove: null,
					onDrop: null,
					onRename: null
				}
			},
			i = function(e) {
				var t = k.getRoot(e),
					n = k.getRoots();
				t.curEditNode = null, t.curEditInput = null, t.curHoverNode = null, t.dragFlag = 0, t.dragNodeShowBefore = [], t.dragMaskList = new Array, n.showHoverDom = !0
			},
			a = function(e) {},
			o = function(e) {
				var t = e.treeObj,
					n = m.event;
				t.bind(n.RENAME, function(t, n, i, a) {
					b.apply(e.callback.onRename, [t, n, i, a])
				}), t.bind(n.DRAG, function(t, n, i, a) {
					b.apply(e.callback.onDrag, [n, i, a])
				}), t.bind(n.DRAGMOVE, function(t, n, i, a) {
					b.apply(e.callback.onDragMove, [n, i, a])
				}), t.bind(n.DROP, function(t, n, i, a, o, r, s) {
					b.apply(e.callback.onDrop, [n, i, a, o, r, s])
				})
			},
			r = function(e) {
				var t = e.treeObj,
					n = m.event;
				t.unbind(n.RENAME), t.unbind(n.DRAG), t.unbind(n.DRAGMOVE), t.unbind(n.DROP)
			},
			s = function(e) {
				var t = e.target,
					n = k.getSetting(e.data.treeId),
					i = e.relatedTarget,
					a = "",
					o = null,
					r = "",
					s = null,
					l = null;
				if(b.eqs(e.type, "mouseover") ? (l = b.getMDom(n, t, [{
						tagName: "a",
						attrName: "treeNode" + m.id.A
					}])) && (a = b.getNodeMainDom(l).id, r = "hoverOverNode") : b.eqs(e.type, "mouseout") ? (l = b.getMDom(n, i, [{
						tagName: "a",
						attrName: "treeNode" + m.id.A
					}])) || (a = "remove", r = "hoverOutNode") : b.eqs(e.type, "mousedown") && (l = b.getMDom(n, t, [{
						tagName: "a",
						attrName: "treeNode" + m.id.A
					}])) && (a = b.getNodeMainDom(l).id, r = "mousedownNode"), a.length > 0) switch(o = k.getNodeCache(n, a), r) {
					case "mousedownNode":
						s = p.onMousedownNode;
						break;
					case "hoverOverNode":
						s = p.onHoverOverNode;
						break;
					case "hoverOutNode":
						s = p.onHoverOutNode
				}
				return {
					stop: !1,
					node: o,
					nodeEventType: r,
					nodeEventCallback: s,
					treeEventType: "",
					treeEventCallback: null
				}
			},
			l = function(e, t, n, i, a, o, r) {
				n && (n.isHover = !1, n.editNameFlag = !1)
			},
			d = function(e, t) {
				t.cancelEditName = function(e) {
					k.getRoot(this.setting).curEditNode && y.cancelCurEditNode(this.setting, e || null, !0)
				}, t.copyNode = function(e, t, n, i) {
					function a() {
						y.addNodes(o.setting, e, -1, [r], i)
					}
					if(!t) return null;
					if(e && !e.isParent && this.setting.data.keep.leaf && n === m.move.TYPE_INNER) return null;
					var o = this,
						r = b.clone(t);
					return e || (e = null, n = m.move.TYPE_INNER), n == m.move.TYPE_INNER ? b.canAsync(this.setting, e) ? y.asyncNode(this.setting, e, i, a) : a() : (y.addNodes(this.setting, e ? e.parentNode : void 0, -1, [r], i), y.moveNode(this.setting, e, r, n, !1, i)), r
				}, t.editName = function(e) {
					if(e && e.tId && e === k.getNodeCache(this.setting, e.tId)) {
						if(e.parentTId && y.expandCollapseParentNode(this.setting, e.getParentNode(), !0), !b.uCanDo(this.setting) || 0 == b.apply(this.setting.callback.beforeEditName, [this.setting.treeId, e], !0)) return !1;
						y.editNode(this.setting, e)
					}
				}, t.moveNode = function(e, t, n, i) {
					function a() {
						y.moveNode(o.setting, e, t, n, !1, i)
					}
					if(!t) return t;
					if(e && !e.isParent && this.setting.data.keep.leaf && n === m.move.TYPE_INNER) return null;
					if(e && (t.parentTId == e.tId && n == m.move.TYPE_INNER || C(t, this.setting).find("#" + e.tId).length > 0)) return null;
					e || (e = null);
					var o = this;
					return b.canAsync(this.setting, e) && n === m.move.TYPE_INNER ? y.asyncNode(this.setting, e, i, a) : a(), t
				}, t.setEditable = function(e) {
					return this.setting.edit.enable = e, this.refresh()
				}
			},
			c = {
				setSonNodeLevel: function(e, t, n) {
					if(n) {
						var i = e.data.key.children;
						if(n.level = t ? t.level + 1 : 0, n[i])
							for(var a = 0, o = n[i].length; a < o; a++) n[i][a] && k.setSonNodeLevel(e, n, n[i][a])
					}
				}
			},
			h = {},
			p = {
				onHoverOverNode: function(e, t) {
					var n = k.getSetting(e.data.treeId),
						i = k.getRoot(n);
					i.curHoverNode != t && p.onHoverOutNode(e), i.curHoverNode = t, y.addHoverDom(n, t)
				},
				onHoverOutNode: function(e, t) {
					var n = k.getSetting(e.data.treeId),
						i = k.getRoot(n);
					i.curHoverNode && !k.isSelectedNode(n, i.curHoverNode) && (y.removeTreeDom(n, i.curHoverNode), i.curHoverNode = null)
				},
				onMousedownNode: function(n, i) {
					function a(n) {
						function i() {
							w = null, A = "", $ = m.move.TYPE_INNER, v.css({
								display: "none"
							}), window.zTreeMoveTimer && (clearTimeout(window.zTreeMoveTimer), window.zTreeMoveTargetNodeTId = null)
						}
						if(0 == c.dragFlag && Math.abs(H - n.clientX) < d.edit.drag.minMoveSize && Math.abs(O - n.clientY) < d.edit.drag.minMoveSize) return !0;
						var a, r, s, l, p, u = d.data.key.children;
						if(N.css("cursor", "pointer"), 0 == c.dragFlag) {
							if(0 == b.apply(d.callback.beforeDrag, [d.treeId, f], !0)) return o(n), !0;
							for(a = 0, r = f.length; a < r; a++) 0 == a && (c.dragNodeShowBefore = []), s = f[a], s.isParent && s.open ? (y.expandCollapseNode(d, s, !s.open), c.dragNodeShowBefore[s.tId] = !0) : c.dragNodeShowBefore[s.tId] = !1;
							c.dragFlag = 1, h.showHoverDom = !1, b.showIfameMask(d, !0);
							var P = !0,
								L = -1;
							if(f.length > 1) {
								var j = f[0].parentTId ? f[0].getParentNode()[u] : k.getNodes(d);
								for(p = [], a = 0, r = j.length; a < r; a++)
									if(void 0 !== c.dragNodeShowBefore[j[a].tId] && (P && L > -1 && L + 1 !== a && (P = !1), p.push(j[a]), L = a), f.length === p.length) {
										f = p;
										break
									}
							}
							for(P && (x = f[0].getPreNode(), T = f[f.length - 1].getNextNode()), g = C("<ul class='zTreeDragUL'></ul>", d), a = 0, r = f.length; a < r; a++) s = f[a], s.editNameFlag = !1, y.selectNode(d, s, a > 0), y.removeTreeDom(d, s), a > d.edit.drag.maxShowNodeNum - 1 || (l = C("<li id='" + s.tId + "_tmp'></li>", d), l.append(C(s, m.id.A, d).clone()), l.css("padding", "0"), d.view.isHoverLine && l.find(".hover-line").removeClass(m.node.CURSELECTED), l.children("#" + s.tId + m.id.A).removeClass(m.node.CURSELECTED), g.append(l), a == d.edit.drag.maxShowNodeNum - 1 && (l = C("<li id='" + s.tId + "_moretmp'><a>  ...  </a></li>", d), g.append(l)));
							g.attr("id", f[0].tId + m.id.UL + "_tmp"), g.addClass(d.treeObj.attr("class")), g.appendTo(N), v = C("<span class='tmpzTreeMove_arrow'></span>", d), v.attr("id", "zTreeMove_arrow_tmp"), v.appendTo(N), d.treeObj.trigger(m.event.DRAG, [n, d.treeId, f])
						}
						if(1 == c.dragFlag) {
							if(w && v.attr("id") == n.target.id && A && n.clientX + D.scrollLeft() + 2 > e("#" + A + m.id.A, w).offset().left) {
								var R = e("#" + A + m.id.A, w);
								n.target = R.length > 0 ? R.get(0) : n.target
							} else w && (w.removeClass(m.node.TMPTARGET_TREE), A && e("#" + A + m.id.A, w).removeClass(m.node.TMPTARGET_NODE + "_" + m.move.TYPE_PREV).removeClass(m.node.TMPTARGET_NODE + "_" + t.move.TYPE_NEXT).removeClass(m.node.TMPTARGET_NODE + "_" + t.move.TYPE_INNER));
							w = null, A = null, I = !1, S = d;
							var z = k.getSettings();
							for(var _ in z) z[_].treeId && z[_].edit.enable && z[_].treeId != d.treeId && (n.target.id == z[_].treeId || e(n.target).parents("#" + z[_].treeId).length > 0) && (I = !0, S = z[_]);
							var F = D.scrollTop(),
								q = D.scrollLeft(),
								Y = S.treeObj.offset(),
								U = S.treeObj.get(0).scrollHeight,
								W = S.treeObj.get(0).scrollWidth,
								V = n.clientY + F - Y.top,
								G = S.treeObj.height() + Y.top - n.clientY - F,
								K = n.clientX + q - Y.left,
								Q = S.treeObj.width() + Y.left - n.clientX - q,
								Z = V < d.edit.drag.borderMax && V > d.edit.drag.borderMin,
								J = G < d.edit.drag.borderMax && G > d.edit.drag.borderMin,
								X = K < d.edit.drag.borderMax && K > d.edit.drag.borderMin,
								ee = Q < d.edit.drag.borderMax && Q > d.edit.drag.borderMin,
								te = V > d.edit.drag.borderMin && G > d.edit.drag.borderMin && K > d.edit.drag.borderMin && Q > d.edit.drag.borderMin,
								ne = Z && S.treeObj.scrollTop() <= 0,
								ie = J && S.treeObj.scrollTop() + S.treeObj.height() + 10 >= U,
								ae = X && S.treeObj.scrollLeft() <= 0,
								oe = ee && S.treeObj.scrollLeft() + S.treeObj.width() + 10 >= W;
							if(n.target && b.isChildOrSelf(n.target, S.treeId)) {
								for(var re = n.target; re && re.tagName && !b.eqs(re.tagName, "li") && re.id != S.treeId;) re = re.parentNode;
								var se = !0;
								for(a = 0, r = f.length; a < r; a++) {
									if(s = f[a], re.id === s.tId) {
										se = !1;
										break
									}
									if(C(s, d).find("#" + re.id).length > 0) {
										se = !1;
										break
									}
								}
								se && n.target && b.isChildOrSelf(n.target, re.id + m.id.A) && (w = e(re), A = re.id)
							}
							s = f[0], te && b.isChildOrSelf(n.target, S.treeId) && (!w && (n.target.id == S.treeId || ne || ie || ae || oe) && (I || !I && s.parentTId) && (w = S.treeObj), Z ? S.treeObj.scrollTop(S.treeObj.scrollTop() - 10) : J && S.treeObj.scrollTop(S.treeObj.scrollTop() + 10), X ? S.treeObj.scrollLeft(S.treeObj.scrollLeft() - 10) : ee && S.treeObj.scrollLeft(S.treeObj.scrollLeft() + 10), w && w != S.treeObj && w.offset().left < S.treeObj.offset().left && S.treeObj.scrollLeft(S.treeObj.scrollLeft() + w.offset().left - S.treeObj.offset().left)), g.css({
								top: n.clientY + F + 3 + "px",
								left: n.clientX + q + 3 + "px"
							});
							var le = 0,
								de = 0;
							if(w && w.attr("id") != S.treeId) {
								var ce = null == A ? null : k.getNodeCache(S, A),
									he = (n.ctrlKey || n.metaKey) && d.edit.drag.isMove && d.edit.drag.isCopy || !d.edit.drag.isMove && d.edit.drag.isCopy,
									pe = !(!x || A !== x.tId),
									ue = !(!T || A !== T.tId),
									fe = s.parentTId && s.parentTId == A,
									ge = (he || !ue) && b.apply(S.edit.drag.prev, [S.treeId, f, ce], !!S.edit.drag.prev),
									ve = (he || !pe) && b.apply(S.edit.drag.next, [S.treeId, f, ce], !!S.edit.drag.next),
									be = (he || !fe) && !(S.data.keep.leaf && !ce.isParent) && b.apply(S.edit.drag.inner, [S.treeId, f, ce], !!S.edit.drag.inner);
								if(ge || ve || be) {
									var me = e("#" + A + m.id.A, w),
										ye = ce.isLastNode ? null : e("#" + ce.getNextNode().tId + m.id.A, w.next()),
										ke = me.offset().top,
										Ce = me.offset().left,
										we = ge ? be ? .25 : ve ? .5 : 1 : -1,
										xe = ve ? be ? .75 : ge ? .5 : 0 : -1,
										Te = (n.clientY + F - ke) / me.height();
									if((1 == we || Te <= we && Te >= -.2) && ge ? (le = 1 - v.width(), de = ke - v.height() / 2, $ = m.move.TYPE_PREV) : (0 == xe || Te >= xe && Te <= 1.2) && ve ? (le = 1 - v.width(), de = null == ye || ce.isParent && ce.open ? ke + me.height() - v.height() / 2 : ye.offset().top - v.height() / 2, $ = m.move.TYPE_NEXT) : be ? (le = 5 - v.width(), de = ke, $ = m.move.TYPE_INNER) : i(), w && (v.css({
											display: "block",
											top: de + "px",
											left: Ce + le + "px"
										}), me.addClass(m.node.TMPTARGET_NODE + "_" + $), E == A && B == $ || (M = (new Date).getTime()), ce && ce.isParent && $ == m.move.TYPE_INNER)) {
										var De = !0;
										window.zTreeMoveTimer && window.zTreeMoveTargetNodeTId !== ce.tId ? (clearTimeout(window.zTreeMoveTimer), window.zTreeMoveTargetNodeTId = null) : window.zTreeMoveTimer && window.zTreeMoveTargetNodeTId === ce.tId && (De = !1), De && (window.zTreeMoveTimer = setTimeout(function() {
											$ == m.move.TYPE_INNER && ce && ce.isParent && !ce.open && (new Date).getTime() - M > S.edit.drag.autoOpenTime && b.apply(S.callback.beforeDragOpen, [S.treeId, ce], !0) && (y.switchNode(S, ce), S.edit.drag.autoExpandTrigger && S.treeObj.trigger(m.event.EXPAND, [S.treeId, ce]))
										}, S.edit.drag.autoOpenTime + 50), window.zTreeMoveTargetNodeTId = ce.tId)
									}
								} else i()
							} else $ = m.move.TYPE_INNER, w && b.apply(S.edit.drag.inner, [S.treeId, f, null], !!S.edit.drag.inner) ? w.addClass(m.node.TMPTARGET_TREE) : w = null, v.css({
								display: "none"
							}), window.zTreeMoveTimer && (clearTimeout(window.zTreeMoveTimer), window.zTreeMoveTargetNodeTId = null);
							E = A, B = $, d.treeObj.trigger(m.event.DRAGMOVE, [n, d.treeId, f])
						}
						return !1
					}

					function o(n) {
						function i() {
							if(I) {
								if(!u)
									for(var e = 0, t = f.length; e < t; e++) y.removeNode(d, f[e]);
								$ == m.move.TYPE_INNER ? y.addNodes(S, x, -1, T) : y.addNodes(S, x.getParentNode(), $ == m.move.TYPE_PREV ? x.getIndex() : x.getIndex() + 1, T)
							} else if(u && $ == m.move.TYPE_INNER) y.addNodes(S, x, -1, T);
							else if(u) y.addNodes(S, x.getParentNode(), $ == m.move.TYPE_PREV ? x.getIndex() : x.getIndex() + 1, T);
							else if($ != m.move.TYPE_NEXT)
								for(e = 0, t = T.length; e < t; e++) y.moveNode(S, x, T[e], $, !1);
							else
								for(e = -1, t = T.length - 1; e < t; t--) y.moveNode(S, x, T[t], $, !1);
							y.selectNodes(S, T);
							var i = C(T[0], d).get(0);
							y.scrollIntoView(i), d.treeObj.trigger(m.event.DROP, [n, S.treeId, T, x, $, u])
						}
						if(window.zTreeMoveTimer && (clearTimeout(window.zTreeMoveTimer), window.zTreeMoveTargetNodeTId = null), E = null, B = null, D.unbind("mousemove", a), D.unbind("mouseup", o), D.unbind("selectstart", r), N.css("cursor", "auto"), w && (w.removeClass(m.node.TMPTARGET_TREE), A && e("#" + A + m.id.A, w).removeClass(m.node.TMPTARGET_NODE + "_" + m.move.TYPE_PREV).removeClass(m.node.TMPTARGET_NODE + "_" + t.move.TYPE_NEXT).removeClass(m.node.TMPTARGET_NODE + "_" + t.move.TYPE_INNER)), b.showIfameMask(d, !1), h.showHoverDom = !0, 0 != c.dragFlag) {
							c.dragFlag = 0;
							var s, l, p;
							for(s = 0, l = f.length; s < l; s++) p = f[s], p.isParent && c.dragNodeShowBefore[p.tId] && !p.open && (y.expandCollapseNode(d, p, !p.open), delete c.dragNodeShowBefore[p.tId]);
							g && g.remove(), v && v.remove();
							var u = (n.ctrlKey || n.metaKey) && d.edit.drag.isMove && d.edit.drag.isCopy || !d.edit.drag.isMove && d.edit.drag.isCopy;
							if(!u && w && A && f[0].parentTId && A == f[0].parentTId && $ == m.move.TYPE_INNER && (w = null), w) {
								var x = null == A ? null : k.getNodeCache(S, A);
								if(0 == b.apply(d.callback.beforeDrop, [S.treeId, f, x, $, u], !0)) return void y.selectNodes(P, f);
								var T = u ? b.clone(f) : f;
								$ == m.move.TYPE_INNER && b.canAsync(S, x) ? y.asyncNode(S, x, !1, i) : i()
							} else y.selectNodes(P, f), d.treeObj.trigger(m.event.DROP, [n, d.treeId, f, null, null, null])
						}
					}

					function r() {
						return !1
					}
					var s, l, d = k.getSetting(n.data.treeId),
						c = k.getRoot(d),
						h = k.getRoots();
					if(2 == n.button || !d.edit.enable || !d.edit.drag.isCopy && !d.edit.drag.isMove) return !0;
					var p = n.target,
						u = k.getRoot(d).curSelectedList,
						f = [];
					if(k.isSelectedNode(d, i))
						for(s = 0, l = u.length; s < l; s++) {
							if(u[s].editNameFlag && b.eqs(p.tagName, "input") && null !== p.getAttribute("treeNode" + m.id.INPUT)) return !0;
							if(f.push(u[s]), f[0].parentTId !== u[s].parentTId) {
								f = [i];
								break
							}
						} else f = [i];
					y.editNodeBlur = !0, y.cancelCurEditNode(d);
					var g, v, w, x, T, D = e(d.treeObj.get(0).ownerDocument),
						N = e(d.treeObj.get(0).ownerDocument.body),
						I = !1,
						S = d,
						P = d,
						E = null,
						B = null,
						A = null,
						$ = m.move.TYPE_INNER,
						H = n.clientX,
						O = n.clientY,
						M = (new Date).getTime();
					return b.uCanDo(d) && D.bind("mousemove", a), D.bind("mouseup", o), D.bind("selectstart", r), n.preventDefault && n.preventDefault(), !0
				}
			},
			u = {
				getAbs: function(e) {
					var t = e.getBoundingClientRect(),
						n = document.body.scrollTop + document.documentElement.scrollTop,
						i = document.body.scrollLeft + document.documentElement.scrollLeft;
					return [t.left + i, t.top + n]
				},
				inputFocus: function(e) {
					e.get(0) && (e.focus(), b.setCursorPosition(e.get(0), e.val().length))
				},
				inputSelect: function(e) {
					e.get(0) && (e.focus(), e.select())
				},
				setCursorPosition: function(e, t) {
					if(e.setSelectionRange) e.focus(), e.setSelectionRange(t, t);
					else if(e.createTextRange) {
						var n = e.createTextRange();
						n.collapse(!0), n.moveEnd("character", t), n.moveStart("character", t), n.select()
					}
				},
				showIfameMask: function(e, t) {
					for(var n = k.getRoot(e); n.dragMaskList.length > 0;) n.dragMaskList[0].remove(), n.dragMaskList.shift();
					if(t)
						for(var i = C("iframe", e), a = 0, o = i.length; a < o; a++) {
							var r = i.get(a),
								s = b.getAbs(r),
								l = C("<div id='zTreeMask_" + a + "' class='zTreeMask' style='top:" + s[1] + "px; left:" + s[0] + "px; width:" + r.offsetWidth + "px; height:" + r.offsetHeight + "px;'></div>", e);
							l.appendTo(C("body", e)), n.dragMaskList.push(l)
						}
				}
			},
			f = {
				addEditBtn: function(e, t) {
					if(!(t.editNameFlag || C(t, m.id.EDIT, e).length > 0) && b.apply(e.edit.showRenameBtn, [e.treeId, t], e.edit.showRenameBtn)) {
						var n = C(t, m.id.A, e),
							i = "<span class='" + m.className.BUTTON + " edit' id='" + t.tId + m.id.EDIT + "' title='" + b.apply(e.edit.renameTitle, [e.treeId, t], e.edit.renameTitle) + "' treeNode" + m.id.EDIT + " style='display:none;'></span>";
						n.append(i), C(t, m.id.EDIT, e).bind("click", function() {
							return !(!b.uCanDo(e) || 0 == b.apply(e.callback.beforeEditName, [e.treeId, t], !0)) && (y.editNode(e, t), !1)
						}).show()
					}
				},
				addRemoveBtn: function(e, t) {
					if(!(t.editNameFlag || C(t, m.id.REMOVE, e).length > 0) && b.apply(e.edit.showRemoveBtn, [e.treeId, t], e.edit.showRemoveBtn)) {
						var n = C(t, m.id.A, e),
							i = "<span class='" + m.className.BUTTON + " remove' id='" + t.tId + m.id.REMOVE + "' title='" + b.apply(e.edit.removeTitle, [e.treeId, t], e.edit.removeTitle) + "' treeNode" + m.id.REMOVE + " style='display:none;'></span>";
						n.append(i), C(t, m.id.REMOVE, e).bind("click", function() {
							return !(!b.uCanDo(e) || 0 == b.apply(e.callback.beforeRemove, [e.treeId, t], !0)) && (y.removeNode(e, t), e.treeObj.trigger(m.event.REMOVE, [e.treeId, t]), !1)
						}).bind("mousedown", function(e) {
							return !0
						}).show()
					}
				},
				addHoverDom: function(e, t) {
					k.getRoots().showHoverDom && (t.isHover = !0, e.edit.enable && (y.addEditBtn(e, t), y.addRemoveBtn(e, t)), b.apply(e.view.addHoverDom, [e.treeId, t]))
				},
				cancelCurEditNode: function(e, t, n) {
					var i = k.getRoot(e),
						a = e.data.key.name,
						o = i.curEditNode;
					if(o) {
						var r = i.curEditInput,
							s = t || (n ? o[a] : r.val());
						if(!1 === b.apply(e.callback.beforeRename, [e.treeId, o, s, n], !0)) return !1;
						o[a] = s;
						C(o, m.id.A, e).removeClass(m.node.CURSELECTED_EDIT), r.unbind(), y.setNodeName(e, o), o.editNameFlag = !1, i.curEditNode = null, i.curEditInput = null, y.selectNode(e, o, !1), e.treeObj.trigger(m.event.RENAME, [e.treeId, o, n])
					}
					return i.noSelection = !0, !0
				},
				editNode: function(e, t) {
					var n = k.getRoot(e);
					if(y.editNodeBlur = !1, k.isSelectedNode(e, t) && n.curEditNode == t && t.editNameFlag) return void setTimeout(function() {
						b.inputFocus(n.curEditInput)
					}, 0);
					var i = e.data.key.name;
					t.editNameFlag = !0, y.removeTreeDom(e, t), y.cancelCurEditNode(e), y.selectNode(e, t, !1), C(t, m.id.SPAN, e).html("<input type=text class='rename' id='" + t.tId + m.id.INPUT + "' treeNode" + m.id.INPUT + " >");
					var a = C(t, m.id.INPUT, e);
					a.attr("value", t[i]), e.edit.editNameSelectAll ? b.inputSelect(a) : b.inputFocus(a), a.bind("blur", function(t) {
						y.editNodeBlur || y.cancelCurEditNode(e)
					}).bind("keydown", function(t) {
						"13" == t.keyCode ? (y.editNodeBlur = !0, y.cancelCurEditNode(e)) : "27" == t.keyCode && y.cancelCurEditNode(e, null, !0)
					}).bind("click", function(e) {
						return !1
					}).bind("dblclick", function(e) {
						return !1
					}), C(t, m.id.A, e).addClass(m.node.CURSELECTED_EDIT), n.curEditInput = a, n.noSelection = !1, n.curEditNode = t
				},
				moveNode: function(e, t, n, i, a, o) {
					var r = k.getRoot(e),
						s = e.data.key.children;
					if(t != n && (!e.data.keep.leaf || !t || t.isParent || i != m.move.TYPE_INNER)) {
						var l = n.parentTId ? n.getParentNode() : r,
							d = null === t || t == r;
						d && null === t && (t = r), d && (i = m.move.TYPE_INNER);
						var c = t.parentTId ? t.getParentNode() : r;
						i != m.move.TYPE_PREV && i != m.move.TYPE_NEXT && (i = m.move.TYPE_INNER), i == m.move.TYPE_INNER && (d ? n.parentTId = null : (t.isParent || (t.isParent = !0, t.open = !!t.open, y.setNodeLineIcos(e, t)), n.parentTId = t.tId));
						var h, p;
						if(d) h = e.treeObj, p = h;
						else {
							if(o || i != m.move.TYPE_INNER ? o || y.expandCollapseNode(e, t.getParentNode(), !0, !1) : y.expandCollapseNode(e, t, !0, !1), h = C(t, e), p = C(t, m.id.UL, e), h.get(0) && !p.get(0)) {
								var u = [];
								y.makeUlHtml(e, t, u, ""), h.append(u.join(""))
							}
							p = C(t, m.id.UL, e)
						}
						var f = C(n, e);
						f.get(0) ? h.get(0) || f.remove() : f = y.appendNodes(e, n.level, [n], null, -1, !1, !0).join(""), p.get(0) && i == m.move.TYPE_INNER ? p.append(f) : h.get(0) && i == m.move.TYPE_PREV ? h.before(f) : h.get(0) && i == m.move.TYPE_NEXT && h.after(f);
						var g, v, b = -1,
							w = 0,
							x = null,
							T = null,
							D = n.level;
						if(n.isFirstNode) b = 0, l[s].length > 1 && (x = l[s][1], x.isFirstNode = !0);
						else if(n.isLastNode) b = l[s].length - 1, x = l[s][b - 1], x.isLastNode = !0;
						else
							for(g = 0, v = l[s].length; g < v; g++)
								if(l[s][g].tId == n.tId) {
									b = g;
									break
								} if(b >= 0 && l[s].splice(b, 1), i != m.move.TYPE_INNER)
							for(g = 0, v = c[s].length; g < v; g++) c[s][g].tId == t.tId && (w = g);
						if(i == m.move.TYPE_INNER ? (t[s] || (t[s] = new Array), t[s].length > 0 && (T = t[s][t[s].length - 1], T.isLastNode = !1), t[s].splice(t[s].length, 0, n), n.isLastNode = !0, n.isFirstNode = 1 == t[s].length) : t.isFirstNode && i == m.move.TYPE_PREV ? (c[s].splice(w, 0, n), T = t, T.isFirstNode = !1, n.parentTId = t.parentTId, n.isFirstNode = !0, n.isLastNode = !1) : t.isLastNode && i == m.move.TYPE_NEXT ? (c[s].splice(w + 1, 0, n), T = t, T.isLastNode = !1, n.parentTId = t.parentTId, n.isFirstNode = !1, n.isLastNode = !0) : (i == m.move.TYPE_PREV ? c[s].splice(w, 0, n) : c[s].splice(w + 1, 0, n), n.parentTId = t.parentTId, n.isFirstNode = !1, n.isLastNode = !1), k.fixPIdKeyValue(e, n), k.setSonNodeLevel(e, n.getParentNode(), n), y.setNodeLineIcos(e, n), y.repairNodeLevelClass(e, n, D), !e.data.keep.parent && l[s].length < 1) {
							l.isParent = !1, l.open = !1;
							var N = C(l, m.id.UL, e),
								I = C(l, m.id.SWITCH, e),
								S = C(l, m.id.ICON, e);
							y.replaceSwitchClass(l, I, m.folder.DOCU), y.replaceIcoClass(l, S, m.folder.DOCU), N.css("display", "none")
						} else x && y.setNodeLineIcos(e, x);
						T && y.setNodeLineIcos(e, T), e.check && e.check.enable && y.repairChkClass && (y.repairChkClass(e, l), y.repairParentChkClassWithSelf(e, l), l != n.parent && y.repairParentChkClassWithSelf(e, n)), o || y.expandCollapseParentNode(e, n.getParentNode(), !0, a)
					}
				},
				removeEditBtn: function(e, t) {
					C(t, m.id.EDIT, e).unbind().remove()
				},
				removeRemoveBtn: function(e, t) {
					C(t, m.id.REMOVE, e).unbind().remove()
				},
				removeTreeDom: function(e, t) {
					t.isHover = !1, y.removeEditBtn(e, t), y.removeRemoveBtn(e, t), b.apply(e.view.removeHoverDom, [e.treeId, t])
				},
				repairNodeLevelClass: function(e, t, n) {
					if(n !== t.level) {
						var i = C(t, e),
							a = C(t, m.id.A, e),
							o = C(t, m.id.UL, e),
							r = m.className.LEVEL + n,
							s = m.className.LEVEL + t.level;
						i.removeClass(r), i.addClass(s), a.removeClass(r), a.addClass(s), o.removeClass(r), o.addClass(s)
					}
				},
				selectNodes: function(e, t) {
					for(var n = 0, i = t.length; n < i; n++) y.selectNode(e, t[n], n > 0)
				}
			},
			g = {
				tools: u,
				view: f,
				event: h,
				data: c
			};
		e.extend(!0, e.fn.zTree.consts, t), e.extend(!0, e.fn.zTree._z, g);
		var v = e.fn.zTree,
			b = v._z.tools,
			m = v.consts,
			y = v._z.view,
			k = v._z.data,
			C = (v._z.event, b.$);
		k.exSetting(n), k.addInitBind(o), k.addInitUnBind(r), k.addInitCache(a), k.addInitNode(l), k.addInitProxy(s), k.addInitRoot(i), k.addZTreeTools(d);
		var w = y.cancelPreSelectedNode;
		y.cancelPreSelectedNode = function(e, t) {
			for(var n = k.getRoot(e).curSelectedList, i = 0, a = n.length; i < a && (t && t !== n[i] || (y.removeTreeDom(e, n[i]), !t)); i++);
			w && w.apply(y, arguments)
		};
		var x = y.createNodes;
		y.createNodes = function(e, t, n, i, a) {
			x && x.apply(y, arguments), n && y.repairParentChkClassWithSelf && y.repairParentChkClassWithSelf(e, i)
		};
		var T = y.makeNodeUrl;
		y.makeNodeUrl = function(e, t) {
			return e.edit.enable ? null : T.apply(y, arguments)
		};
		var D = y.removeNode;
		y.removeNode = function(e, t) {
			var n = k.getRoot(e);
			n.curEditNode === t && (n.curEditNode = null), D && D.apply(y, arguments)
		};
		var N = y.selectNode;
		y.selectNode = function(e, t, n) {
			var i = k.getRoot(e);
			return(!k.isSelectedNode(e, t) || i.curEditNode != t || !t.editNameFlag) && (N && N.apply(y, arguments), y.addHoverDom(e, t), !0)
		};
		var I = b.uCanDo;
		b.uCanDo = function(e, t) {
			var n = k.getRoot(e);
			return !(!t || !(b.eqs(t.type, "mouseover") || b.eqs(t.type, "mouseout") || b.eqs(t.type, "mousedown") || b.eqs(t.type, "mouseup"))) || (n.curEditNode && (y.editNodeBlur = !1, n.curEditInput.focus()), !n.curEditNode && (!I || I.apply(y, arguments)))
		}
	}(jQuery),
	function(e, t) {
		"use strict";
		if(!t) throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");
		var n = function(n, i) {
			var a, o, r, s, l, d, c, h = {},
				p = !0,
				u = !1,
				f = !1,
				g = 0,
				v = [{
					clsName: "days",
					navFnc: "M",
					navStep: 1
				}, {
					clsName: "months",
					navFnc: "y",
					navStep: 1
				}, {
					clsName: "years",
					navFnc: "y",
					navStep: 10
				}, {
					clsName: "decades",
					navFnc: "y",
					navStep: 100
				}],
				b = ["days", "months", "years", "decades"],
				m = ["top", "bottom", "auto"],
				y = ["left", "right", "auto"],
				k = ["default", "top", "bottom"],
				C = {
					up: 38,
					38: "up",
					down: 40,
					40: "down",
					left: 37,
					37: "left",
					right: 39,
					39: "right",
					tab: 9,
					9: "tab",
					escape: 27,
					27: "escape",
					enter: 13,
					13: "enter",
					pageUp: 33,
					33: "pageUp",
					pageDown: 34,
					34: "pageDown",
					shift: 16,
					16: "shift",
					control: 17,
					17: "control",
					space: 32,
					32: "space",
					t: 84,
					84: "t",
					delete: 46,
					46: "delete"
				},
				w = {},
				x = function(e) {
					var n, a, o, r, s, l = !1;
					return void 0 !== t.tz && void 0 !== i.timeZone && null !== i.timeZone && "" !== i.timeZone && (l = !0), void 0 === e || null === e ? n = l ? t().tz(i.timeZone).startOf("d") : t().startOf("m") : l ? (a = t().tz(i.timeZone).utcOffset(), o = t(e, d, i.useStrict).utcOffset(), o !== a ? (r = t().tz(i.timeZone).format("Z"), s = t(e, d, i.useStrict).format("YYYY-MM-DD[T]HH:mm:ss") + r, n = t(s, d, i.useStrict).tz(i.timeZone)) : n = t(e, d, i.useStrict).tz(i.timeZone)) : n = t(e, d, i.useStrict), n
				},
				T = function(e) {
					if("string" != typeof e || e.length > 1) throw new TypeError("isEnabled expects a single character string parameter");
					switch(e) {
						case "y":
							return -1 !== l.indexOf("Y");
						case "M":
							return -1 !== l.indexOf("M");
						case "d":
							return -1 !== l.toLowerCase().indexOf("d");
						case "h":
						case "H":
							return -1 !== l.toLowerCase().indexOf("h");
						case "m":
							return -1 !== l.indexOf("m");
						case "s":
							return -1 !== l.indexOf("s");
						default:
							return !1
					}
				},
				D = function() {
					return T("h") || T("m") || T("s")
				},
				N = function() {
					return T("y") || T("M") || T("d")
				},
				I = function() {
					var t = e("<thead>").append(e("<tr>").append(e("<th>").addClass("bhtc-prev").attr("data-action", "previous").append(e("<span>").addClass(i.icons.previous))).append(e("<th>").addClass("bhtc-picker-switch").attr("data-action", "pickerSwitch").attr("colspan", i.calendarWeeks ? "6" : "5")).append(e("<th>").addClass("bhtc-next").attr("data-action", "next").append(e("<span>").addClass(i.icons.next)))),
						n = e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan", i.calendarWeeks ? "8" : "7")));
					return [e("<div>").addClass("bhtc-datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))), e("<div>").addClass("bhtc-datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())), e("<div>").addClass("bhtc-datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())), e("<div>").addClass("bhtc-datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone()))]
				},
				S = function() {
					var t = e("<tr>"),
						n = e("<tr>"),
						a = e("<tr>");
					return T("h") && (t.append(e("<td>").append(e("<a>").attr({
						href: "#",
						tabindex: "-1",
						title: i.tooltips.incrementHour
					}).addClass("bhtc-btn").attr("data-action", "incrementHours").append(e("<span>").addClass(i.icons.up)))), n.append(e("<td>").append(e("<span>").addClass("bhtc-timepicker-hour").attr({
						"data-time-component": "hours",
						title: i.tooltips.pickHour
					}).attr("data-action", "showHours"))), a.append(e("<td>").append(e("<a>").attr({
						href: "#",
						tabindex: "-1",
						title: i.tooltips.decrementHour
					}).addClass("bhtc-btn").attr("data-action", "decrementHours").append(e("<span>").addClass(i.icons.down))))), T("m") && (T("h") && (t.append(e("<td>").addClass("separator")), n.append(e("<td>").addClass("separator").html(":")), a.append(e("<td>").addClass("separator"))), t.append(e("<td>").append(e("<a>").attr({
						href: "#",
						tabindex: "-1",
						title: i.tooltips.incrementMinute
					}).addClass("bhtc-btn").attr("data-action", "incrementMinutes").append(e("<span>").addClass(i.icons.up)))), n.append(e("<td>").append(e("<span>").addClass("bhtc-timepicker-minute").attr({
						"data-time-component": "minutes",
						title: i.tooltips.pickMinute
					}).attr("data-action", "showMinutes"))), a.append(e("<td>").append(e("<a>").attr({
						href: "#",
						tabindex: "-1",
						title: i.tooltips.decrementMinute
					}).addClass("bhtc-btn").attr("data-action", "decrementMinutes").append(e("<span>").addClass(i.icons.down))))), T("s") && (T("m") && (t.append(e("<td>").addClass("separator")), n.append(e("<td>").addClass("separator").html(":")), a.append(e("<td>").addClass("separator"))), t.append(e("<td>").append(e("<a>").attr({
						href: "#",
						tabindex: "-1",
						title: i.tooltips.incrementSecond
					}).addClass("bhtc-btn").attr("data-action", "incrementSeconds").append(e("<span>").addClass(i.icons.up)))), n.append(e("<td>").append(e("<span>").addClass("bhtc-timepicker-second").attr({
						"data-time-component": "seconds",
						title: i.tooltips.pickSecond
					}).attr("data-action", "showSeconds"))), a.append(e("<td>").append(e("<a>").attr({
						href: "#",
						tabindex: "-1",
						title: i.tooltips.decrementSecond
					}).addClass("bhtc-btn").attr("data-action", "decrementSeconds").append(e("<span>").addClass(i.icons.down))))), e("<div>").addClass("bhtc-timepicker-picker").append(e("<table>").addClass("table-condensed").append([t, n, a])).append(e("<div>").addClass("bhtc-toggle-period").append(e('<button style="display: none;">').addClass("bh-btn bh-btn-primary").attr({
						"data-action": "togglePeriod",
						tabindex: "-1",
						title: i.tooltips.togglePeriod
					})))
				},
				P = function() {
					var t = e("<div>").addClass("bhtc-timepicker-hours").append(e("<table>").addClass("table-condensed")),
						n = e("<div>").addClass("bhtc-timepicker-minutes").append(e("<table>").addClass("table-condensed")),
						i = e("<div>").addClass("bhtc-timepicker-seconds").append(e("<table>").addClass("table-condensed")),
						a = [S()];
					return T("h") && a.push(t), T("m") && a.push(n), T("s") && a.push(i), a
				},
				E = function() {
					var t = [];
					return i.showTodayButton && t.push(e("<td>").append(e("<a>").attr({
						"data-action": "today",
						title: i.tooltips.today
					}).append(e("<span>").addClass(i.icons.today)))), !i.sideBySide && N() && D() && t.push(e("<td>").append(e("<a>").attr({
						"data-action": "togglePicker",
						title: i.tooltips.selectTime
					}).append(e("<span>").addClass(i.icons.time)))), i.showClear && t.push(e("<td>").append(e("<a>").attr({
						"data-action": "clear",
						title: i.tooltips.clear
					}).append(e("<span>").addClass(i.icons.clear)))), i.showClose && t.push(e("<td>").append(e("<a>").attr({
						"data-action": "close",
						title: i.tooltips.close
					}).append(e("<span>").addClass(i.icons.close)))), e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))
				},
				B = function() {
					var t = e("<div>").addClass("bhtc-datetimepicker-widget bhtc-dropdown-menu"),
						n = e("<div>").addClass("bhtc-datepicker").append(I()),
						a = e("<div>").addClass("bhtc-timepicker").append(P()),
						o = e("<ul>").addClass("bhtc-list-unstyled"),
						r = e("<li>").addClass("bhtc-picker-switch" + (i.collapse ? " accordion-toggle" : "")).append(E());
					return i.inline && t.removeClass("bhtc-dropdown-menu"), s && t.addClass("bhtc-usetwentyfour"), T("s") && !s && t.addClass("wider"), i.sideBySide && N() && D() ? (t.addClass("bhtc-timepicker-sbs"), "top" === i.toolbarPlacement && t.append(r), t.append(e("<div>").addClass("row").append(n.addClass("col-md-6")).append(a.addClass("col-md-6"))), "bottom" === i.toolbarPlacement && t.append(r), t) : ("top" === i.toolbarPlacement && o.append(r), N() && o.append(e("<li>").addClass(i.collapse && D() ? "bhtc-collapse in" : "").append(n)), "default" === i.toolbarPlacement && o.append(r), D() && o.append(e("<li>").addClass(i.collapse && N() ? "bhtc-collapse" : "").append(a)), "bottom" === i.toolbarPlacement && o.append(r), t.append(o))
				},
				A = function() {
					var t, a = (n.position(), n.offset()),
						o = i.widgetPositioning.vertical,
						r = i.widgetPositioning.horizontal;
					if(i.widgetParent) t = i.widgetParent;
					else if(n.is("input")) t = n.parent();
					else {
						if(i.inline) return void(t = n);
						t = n
					}
					if(e("body").append(f), "auto" === o && (o = a.top + 1.5 * f.height() >= e(window).height() + e(window).scrollTop() && f.height() + n.outerHeight() < a.top ? "top" : "bottom"), "auto" === r && (r = t.width() < a.left + f.outerWidth() / 2 && a.left + f.outerWidth() > e(window).width() ? "right" : "left"), "top" === o ? f.addClass("bhtc-top").removeClass("bhtc-bottom") : f.addClass("bhtc-bottom").removeClass("bhtc-top"), "right" === r ? f.addClass("bhtc-pull-right") : f.removeClass("bhtc-pull-right"), "relative" !== t.css("position") && (t = t.parents().filter(function() {
							return "relative" === e(this).css("position")
						}).first()), 0 === t.length) throw new Error("datetimepicker component should be placed within a relative positioned container");
					f.css({
						top: "top" === o ? a.top - f.outerHeight() - 8 : a.top + n.outerHeight() + 8,
						left: "left" === r ? t === n ? 0 : a.left : "auto",
						right: "left" === r ? "auto" : t.outerWidth() - n.outerWidth() - (t === n ? 0 : -(e("body").width() - a.left - n.outerWidth()))
					})
				},
				$ = function(e) {
					"dp.change" === e.type && (e.date && e.date.isSame(e.oldDate) || !e.date && !e.oldDate) || n.trigger(e)
				},
				H = function(e) {
					"y" === e && (e = "YYYY"), $({
						type: "dp.update",
						change: e,
						viewDate: o.clone()
					})
				},
				O = function(e) {
					f && (e && (c = Math.max(g, Math.min(3, c + e))), f.find(".bhtc-datepicker > div").hide().filter(".bhtc-datepicker-" + v[c].clsName).show())
				},
				M = function() {
					var t = e("<tr>"),
						n = o.clone().startOf("w").startOf("d");
					!0 === i.calendarWeeks && t.append(e("<th>").addClass("bhtc-cw").text("#"));
					for(var a = 0; n.isBefore(o.clone().endOf("w")) && a < 7;) a++, t.append(e("<th>").addClass("dow").text(n.format("dd"))), n.add(1, "d");
					f.find(".bhtc-datepicker-days thead").append(t)
				},
				L = function(e) {
					return !0 === i.disabledDates[e.format("YYYY-MM-DD")]
				},
				j = function(e) {
					return !0 === i.enabledDates[e.format("YYYY-MM-DD")]
				},
				R = function(e) {
					return !0 === i.disabledHours[e.format("H")]
				},
				z = function(e) {
					return !0 === i.enabledHours[e.format("H")]
				},
				_ = function(t, n) {
					if(!t.isValid()) return !1;
					if(i.disabledDates && "d" === n && L(t)) return !1;
					if(i.enabledDates && "d" === n && !j(t)) return !1;
					if(i.minDate && t.isBefore(i.minDate, n)) return !1;
					if(i.maxDate && t.isAfter(i.maxDate, n)) return !1;
					if(i.daysOfWeekDisabled && "d" === n && -1 !== i.daysOfWeekDisabled.indexOf(t.day())) return !1;
					if(i.disabledHours && ("h" === n || "m" === n || "s" === n) && R(t)) return !1;
					if(i.enabledHours && ("h" === n || "m" === n || "s" === n) && !z(t)) return !1;
					if(i.disabledTimeIntervals && ("h" === n || "m" === n || "s" === n)) {
						var a = !1;
						if(e.each(i.disabledTimeIntervals, function() {
								if(t.isBetween(this[0], this[1])) return a = !0, !1
							}), a) return !1
					}
					return !0
				},
				F = function() {
					for(var t = [], n = o.clone().startOf("y").startOf("d"); n.isSame(o, "y");) t.push(e("<span>").attr("data-action", "selectMonth").addClass("month").text(n.format("MMM"))), n.add(1, "M");
					f.find(".bhtc-datepicker-months td").empty().append(t)
				},
				q = function() {
					var t = f.find(".bhtc-datepicker-months"),
						n = t.find("th"),
						r = t.find("tbody").find("span");
					n.eq(0).find("span").attr("title", i.tooltips.prevYear), n.eq(1).attr("title", i.tooltips.selectYear), n.eq(2).find("span").attr("title", i.tooltips.nextYear), t.find(".bhtc-disabled").removeClass("bhtc-disabled"), _(o.clone().subtract(1, "y"), "y") || n.eq(0).addClass("bhtc-disabled"), n.eq(1).text(o.year()), _(o.clone().add(1, "y"), "y") || n.eq(2).addClass("bhtc-disabled"), r.removeClass("bhtc-active"), a.isSame(o, "y") && !p && r.eq(a.month()).addClass("bhtc-active"), r.each(function(t) {
						_(o.clone().month(t), "M") || e(this).addClass("bhtc-disabled")
					})
				},
				Y = function() {
					var e = f.find(".bhtc-datepicker-years"),
						t = e.find("th"),
						n = o.clone().subtract(5, "y"),
						r = o.clone().add(6, "y"),
						s = "";
					for(t.eq(0).find("span").attr("title", i.tooltips.prevDecade), t.eq(1).attr("title", i.tooltips.selectDecade), t.eq(2).find("span").attr("title", i.tooltips.nextDecade), e.find(".bhtc-disabled").removeClass("bhtc-disabled"), i.minDate && i.minDate.isAfter(n, "y") && t.eq(0).addClass("bhtc-disabled"), t.eq(1).text(n.year() + "-" + r.year()), i.maxDate && i.maxDate.isBefore(r, "y") && t.eq(2).addClass("bhtc-disabled"); !n.isAfter(r, "y");) s += '<span data-action="selectYear" class="year' + (n.isSame(a, "y") && !p ? " bhtc-active" : "") + (_(n, "y") ? "" : " bhtc-disabled") + '">' + n.year() + "</span>", n.add(1, "y");
					e.find("td").html(s)
				},
				U = function() {
					var e = f.find(".bhtc-datepicker-decades"),
						n = e.find("th"),
						r = t({
							y: o.year() - o.year() % 100 - 1
						}),
						s = r.clone().add(100, "y"),
						l = r.clone(),
						d = "";
					for(n.eq(0).find("span").attr("title", i.tooltips.prevCentury), n.eq(2).find("span").attr("title", i.tooltips.nextCentury), e.find(".bhtc-disabled").removeClass("bhtc-disabled"), (r.isSame(t({
							y: 1900
						})) || i.minDate && i.minDate.isAfter(r, "y")) && n.eq(0).addClass("bhtc-disabled"), n.eq(1).text(r.year() + "-" + s.year()), (r.isSame(t({
							y: 2e3
						})) || i.maxDate && i.maxDate.isBefore(s, "y")) && n.eq(2).addClass("bhtc-disabled"); !r.isAfter(s, "y");) d += '<span data-action="selectDecade" class="decade' + (r.isSame(a, "y") ? " bhtc-active" : "") + (_(r, "y") ? "" : " bhtc-disabled") + '" data-selection="' + (r.year() + 6) + '">' + (r.year() + 1) + " - " + (r.year() + 12) + "</span>", r.add(12, "y");
					d += "<span></span><span></span><span></span>", e.find("td").html(d), n.eq(1).text(l.year() + 1 + "-" + r.year())
				},
				W = function() {
					var t, n, r, s, l = f.find(".bhtc-datepicker-days"),
						d = l.find("th"),
						c = [];
					if(N()) {
						for(d.eq(0).find("span").attr("title", i.tooltips.prevMonth), d.eq(1).attr("title", i.tooltips.selectMonth), d.eq(2).find("span").attr("title", i.tooltips.nextMonth), l.find(".bhtc-disabled").removeClass("bhtc-disabled"), d.eq(1).text(o.format(i.dayViewHeaderFormat)), _(o.clone().subtract(1, "M"), "M") || d.eq(0).addClass("bhtc-disabled"), _(o.clone().add(1, "M"), "M") || d.eq(2).addClass("bhtc-disabled"), t = o.clone().startOf("M").startOf("w").startOf("d"), s = 0; s < 42; s++) 0 === t.weekday() && (n = e("<tr>"), i.calendarWeeks && n.append('<td class="bhtc-cw">' + t.week() + "</td>"), c.push(n)), r = "", t.isBefore(o, "M") && (r += " bhtc-old"), t.isAfter(o, "M") && (r += " bhtc-new"), t.isSame(a, "d") && !p && (r += " bhtc-active"), _(t, "d") || (r += " bhtc-disabled"), t.isSame(x(), "d") && (r += " today"), 0 !== t.day() && 6 !== t.day() || (r += " weekend"), n && n.append('<td data-action="selectDay" data-day="' + t.format("L") + '" class="day' + r + '">' + t.date() + "</td>"), t.add(1, "d");
						l.find("tbody").empty().append(c), q(), Y(), U()
					}
				},
				V = function() {
					var t = f.find(".bhtc-timepicker-hours table"),
						n = o.clone().startOf("d"),
						i = [],
						a = e("<tr>");
					for(o.hour() > 11 && !s && n.hour(12); n.isSame(o, "d") && (s || o.hour() < 12 && n.hour() < 12 || o.hour() > 11);) n.hour() % 4 == 0 && (a = e("<tr>"), i.push(a)), a.append('<td data-action="selectHour" class="hour' + (_(n, "h") ? "" : " bhtc-disabled") + '">' + n.format(s ? "HH" : "hh") + "</td>"), n.add(1, "h");
					t.empty().append(i)
				},
				G = function() {
					for(var t = f.find(".bhtc-timepicker-minutes table"), n = o.clone().startOf("h"), a = [], r = e("<tr>"), s = 1 === i.stepping ? 5 : i.stepping; o.isSame(n, "h");) n.minute() % (4 * s) == 0 && (r = e("<tr>"), a.push(r)), r.append('<td data-action="selectMinute" class="minute' + (_(n, "m") ? "" : " bhtc-disabled") + '">' + n.format("mm") + "</td>"), n.add(s, "m");
					t.empty().append(a)
				},
				K = function() {
					for(var t = f.find(".bhtc-timepicker-seconds table"), n = o.clone().startOf("m"), i = [], a = e("<tr>"); o.isSame(n, "m");) n.second() % 20 == 0 && (a = e("<tr>"), i.push(a)), a.append('<td data-action="selectSecond" class="second' + (_(n, "s") ? "" : " bhtc-disabled") + '">' + n.format("ss") + "</td>"), n.add(5, "s");
					t.empty().append(i)
				},
				Q = function() {
					var e, t, n = f.find(".bhtc-timepicker span[data-time-component]");
					s || (e = f.find(".bhtc-timepicker [data-action=togglePeriod]"), t = a.clone().add(a.hours() >= 12 ? -12 : 12, "h"), e.text(a.format("A")), _(t, "h") ? e.removeClass("bhtc-disabled") : e.addClass("bhtc-disabled")), n.filter("[data-time-component=hours]").text(a.format(s ? "HH" : "hh")), n.filter("[data-time-component=minutes]").text(a.format("mm")), n.filter("[data-time-component=seconds]").text(a.format("ss")), V(), G(), K()
				},
				Z = function() {
					f && (W(), Q())
				},
				J = function(e) {
					var t = p ? null : a;
					if(!e) return p = !0, r.val(""), n.data("date", ""), $({
						type: "dp.change",
						date: !1,
						oldDate: t
					}), void Z();
					e = e.clone().locale(i.locale), 1 !== i.stepping && e.minutes(Math.round(e.minutes() / i.stepping) * i.stepping % 60).seconds(0), _(e) ? (a = e, o = a.clone(), r.val(a.format(l)), n.data("date", a.format(l)), p = !1, Z(), $({
						type: "dp.change",
						date: a.clone(),
						oldDate: t
					})) : (i.keepInvalid || r.val(p ? "" : a.format(l)), $({
						type: "dp.error",
						date: e
					}))
				},
				X = function() {
					var t = !1;
					return f ? (f.find(".bhtc-collapse").each(function() {
						var n = e(this).data("collapse");
						return !n || !n.transitioning || (t = !0, !1)
					}), t ? h : (u && u.hasClass("bhtc-btn") && u.toggleClass("bhtc-active"), f.hide(), e(window).off("resize", A), f.off("click", "[data-action]"), f.off("mousedown", !1), f.remove(), f = !1, $({
						type: "dp.hide",
						date: a.clone()
					}), r.blur(), h)) : h
				},
				ee = function() {
					J(null)
				},
				te = {
					next: function() {
						var e = v[c].navFnc;
						o.add(v[c].navStep, e), W(), H(e)
					},
					previous: function() {
						var e = v[c].navFnc;
						o.subtract(v[c].navStep, e), W(), H(e)
					},
					pickerSwitch: function() {
						O(1)
					},
					selectMonth: function(t) {
						var n = e(t.target).closest("tbody").find("span").index(e(t.target));
						o.month(n), c === g ? (J(a.clone().year(o.year()).month(o.month())), i.inline || X()) : (O(-1), W()), H("M")
					},
					selectYear: function(t) {
						var n = parseInt(e(t.target).text(), 10) || 0;
						o.year(n), c === g ? (J(a.clone().year(o.year())), i.inline || X()) : (O(-1), W()), H("YYYY")
					},
					selectDecade: function(t) {
						var n = parseInt(e(t.target).data("selection"), 10) || 0;
						o.year(n), c === g ? (J(a.clone().year(o.year())), i.inline || X()) : (O(-1), W()), H("YYYY")
					},
					selectDay: function(t) {
						var n = o.clone();
						e(t.target).is(".bhtc-old") && n.subtract(1, "M"), e(t.target).is(".bhtc-new") && n.add(1, "M"), J(n.date(parseInt(e(t.target).text(), 10))), D() || i.keepOpen || i.inline || X()
					},
					incrementHours: function() {
						var e = a.clone().add(1, "h");
						_(e, "h") && J(e)
					},
					incrementMinutes: function() {
						var e = a.clone().add(i.stepping, "m");
						_(e, "m") && J(e)
					},
					incrementSeconds: function() {
						var e = a.clone().add(1, "s");
						_(e, "s") && J(e)
					},
					decrementHours: function() {
						var e = a.clone().subtract(1, "h");
						_(e, "h") && J(e)
					},
					decrementMinutes: function() {
						var e = a.clone().subtract(i.stepping, "m");
						_(e, "m") && J(e)
					},
					decrementSeconds: function() {
						var e = a.clone().subtract(1, "s");
						_(e, "s") && J(e)
					},
					togglePeriod: function() {
						J(a.clone().add(a.hours() >= 12 ? -12 : 12, "h"))
					},
					togglePicker: function(t) {
						var n, a = e(t.target),
							o = a.closest("ul"),
							r = o.find(".in"),
							s = o.find(".bhtc-collapse:not(.in)");
						if(r && r.length) {
							if((n = r.data("collapse")) && n.transitioning) return;
							r.collapse ? (r.collapse("hide"), s.collapse("show")) : (r.removeClass("in"), s.addClass("in")), a.is("span") ? a.toggleClass(i.icons.time + " " + i.icons.date) : a.find("span").toggleClass(i.icons.time + " " + i.icons.date)
						}
					},
					showPicker: function() {
						f.find(".bhtc-timepicker > div:not(.bhtc-timepicker-picker)").hide(), f.find(".bhtc-timepicker .bhtc-timepicker-picker").show()
					},
					showHours: function() {
						f.find(".bhtc-timepicker .bhtc-timepicker-picker").hide(), f.find(".bhtc-timepicker .bhtc-timepicker-hours").show()
					},
					showMinutes: function() {
						f.find(".bhtc-timepicker .bhtc-timepicker-picker").hide(), f.find(".bhtc-timepicker .bhtc-timepicker-minutes").show()
					},
					showSeconds: function() {
						f.find(".bhtc-timepicker .bhtc-timepicker-picker").hide(), f.find(".bhtc-timepicker .bhtc-timepicker-seconds").show()
					},
					selectHour: function(t) {
						var n = parseInt(e(t.target).text(), 10);
						s || (a.hours() >= 12 ? 12 !== n && (n += 12) : 12 === n && (n = 0)), J(a.clone().hours(n)), te.showPicker.call(h)
					},
					selectMinute: function(t) {
						J(a.clone().minutes(parseInt(e(t.target).text(), 10))), te.showPicker.call(h)
					},
					selectSecond: function(t) {
						J(a.clone().seconds(parseInt(e(t.target).text(), 10))), te.showPicker.call(h)
					},
					clear: ee,
					today: function() {
						var e = x();
						_(e, "d") && J(e)
					},
					close: X
				},
				ne = function(t) {
					return !e(t.currentTarget).is(".bhtc-disabled") && (te[e(t.currentTarget).data("action")].apply(h, arguments), !1)
				},
				ie = function() {
					var t, n = {
						year: function(e) {
							return e.month(0).date(1).hours(0).seconds(0).minutes(0)
						},
						month: function(e) {
							return e.date(1).hours(0).seconds(0).minutes(0)
						},
						day: function(e) {
							return e.hours(0).seconds(0).minutes(0)
						},
						hour: function(e) {
							return e.seconds(0).minutes(0)
						},
						minute: function(e) {
							return e.seconds(0)
						}
					};
					return r.prop("bhtc-disabled") || !i.ignoreReadonly && r.prop("readonly") || f ? h : (void 0 !== r.val() && 0 !== r.val().trim().length ? J(oe(r.val().trim())) : i.useCurrent && p && (r.is("input") && 0 === r.val().trim().length || i.inline) && (t = x(), "string" == typeof i.useCurrent && (t = n[i.useCurrent](t)), J(t)), f = B(), M(), F(), f.find(".bhtc-timepicker-hours").hide(), f.find(".bhtc-timepicker-minutes").hide(), f.find(".bhtc-timepicker-seconds").hide(), Z(), O(), e(window).on("resize", A), f.on("click", "[data-action]", ne), f.on("mousedown", !1), u && u.hasClass("bhtc-btn") && u.toggleClass("bhtc-active"), f.show(), A(), i.focusOnShow && !r.is(":focus") && r.focus(), $({
						type: "dp.show"
					}), h)
				},
				ae = function() {
					return f ? X() : ie()
				},
				oe = function(e) {
					return e = void 0 === i.parseInputDate ? t.isMoment(e) || e instanceof Date ? t(e) : x(e) : i.parseInputDate(e), e.locale(i.locale), e
				},
				re = function(e) {
					var t, n, a, o, r = null,
						s = [],
						l = {},
						d = e.which;
					w[d] = "p";
					for(t in w) w.hasOwnProperty(t) && "p" === w[t] && (s.push(t), parseInt(t, 10) !== d && (l[t] = !0));
					for(t in i.keyBinds)
						if(i.keyBinds.hasOwnProperty(t) && "function" == typeof i.keyBinds[t] && (a = t.split(" "), a.length === s.length && C[d] === a[a.length - 1])) {
							for(o = !0, n = a.length - 2; n >= 0; n--)
								if(!(C[a[n]] in l)) {
									o = !1;
									break
								}
							if(o) {
								r = i.keyBinds[t];
								break
							}
						}
					r && (r.call(h, f), e.stopPropagation(), e.preventDefault())
				},
				se = function(e) {
					w[e.which] = "r", e.stopPropagation(), e.preventDefault()
				},
				le = function(t) {
					var n = e(t.target).val().trim(),
						i = n ? oe(n) : null;
					return J(i), t.stopImmediatePropagation(), !1
				},
				de = function() {
					if(r.off({
							change: le,
							blur: blur,
							keydown: re,
							keyup: se,
							focus: i.allowInputToggle ? X : ""
						}), n.is("input")) {
						r.off({
							focus: ie
						});
						var e = r.closest(".bhtc-input-group").children(".bhtc-input-group-addon");
						e.length > 0 && e.off("click", function() {
							r.focus()
						})
					} else u && (u.off("click", ae), u.off("mousedown", !1))
				},
				ce = function(t) {
					var n = {};
					return e.each(t, function() {
						var e = oe(this);
						e.isValid() && (n[e.format("YYYY-MM-DD")] = !0)
					}), !!Object.keys(n).length && n
				},
				he = function(t) {
					var n = {};
					return e.each(t, function() {
						n[this] = !0
					}), !!Object.keys(n).length && n
				},
				pe = function() {
					var e = i.format || "L LT";
					l = e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function(e) {
						return(a.localeData().longDateFormat(e) || e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function(e) {
							return a.localeData().longDateFormat(e) || e
						})
					}), d = i.extraFormats ? i.extraFormats.slice() : [], d.indexOf(e) < 0 && d.indexOf(l) < 0 && d.push(l), s = l.toLowerCase().indexOf("a") < 1 && l.replace(/\[.*?\]/g, "").indexOf("h") < 1, T("y") && (g = 2), T("M") && (g = 1), T("d") && (g = 0), c = Math.max(g, c), p || J(a)
				};
			if(h.destroy = function() {
					X(), de(), n.removeData("DateTimePicker"), n.removeData("date")
				}, h.toggle = ae, h.show = ie, h.hide = X, h.disable = function() {
					return X(), u && u.hasClass("bhtc-btn") && u.addClass("bhtc-disabled"), r.prop("bhtc-disabled", !0), h
				}, h.enable = function() {
					return u && u.hasClass("bhtc-btn") && u.removeClass("bhtc-disabled"), r.prop("bhtc-disabled", !1), h
				}, h.ignoreReadonly = function(e) {
					if(0 === arguments.length) return i.ignoreReadonly;
					if("boolean" != typeof e) throw new TypeError("ignoreReadonly () expects a boolean parameter");
					return i.ignoreReadonly = e, h
				}, h.options = function(t) {
					if(0 === arguments.length) return e.extend(!0, {}, i);
					if(!(t instanceof Object)) throw new TypeError("options() options parameter should be an object");
					return e.extend(!0, i, t), e.each(i, function(e, t) {
						if(void 0 === h[e]) throw new TypeError("option " + e + " is not recognized!");
						h[e](t)
					}), h
				}, h.date = function(e) {
					if(0 === arguments.length) return p ? null : a.clone();
					if(!(null === e || "string" == typeof e || t.isMoment(e) || e instanceof Date)) throw new TypeError("date() parameter must be one of [null, string, moment or Date]");
					return J(null === e ? null : oe(e)), h
				}, h.format = function(e) {
					if(0 === arguments.length) return i.format;
					if("string" != typeof e && ("boolean" != typeof e || !1 !== e)) throw new TypeError("format() expects a sting or boolean:false parameter " + e);
					return i.format = e, l && pe(), h
				}, h.timeZone = function(e) {
					return 0 === arguments.length ? i.timeZone : (i.timeZone = e, h)
				}, h.dayViewHeaderFormat = function(e) {
					if(0 === arguments.length) return i.dayViewHeaderFormat;
					if("string" != typeof e) throw new TypeError("dayViewHeaderFormat() expects a string parameter");
					return i.dayViewHeaderFormat = e, h
				}, h.extraFormats = function(e) {
					if(0 === arguments.length) return i.extraFormats;
					if(!1 !== e && !(e instanceof Array)) throw new TypeError("extraFormats() expects an array or false parameter");
					return i.extraFormats = e, d && pe(), h
				}, h.disabledDates = function(t) {
					if(0 === arguments.length) return i.disabledDates ? e.extend({}, i.disabledDates) : i.disabledDates;
					if(!t) return i.disabledDates = !1, Z(), h;
					if(!(t instanceof Array)) throw new TypeError("disabledDates() expects an array parameter");
					return i.disabledDates = ce(t), i.enabledDates = !1, Z(), h
				}, h.enabledDates = function(t) {
					if(0 === arguments.length) return i.enabledDates ? e.extend({}, i.enabledDates) : i.enabledDates;
					if(!t) return i.enabledDates = !1, Z(), h;
					if(!(t instanceof Array)) throw new TypeError("enabledDates() expects an array parameter");
					return i.enabledDates = ce(t), i.disabledDates = !1, Z(), h
				}, h.daysOfWeekDisabled = function(e) {
					if(0 === arguments.length) return i.daysOfWeekDisabled.splice(0);
					if("boolean" == typeof e && !e) return i.daysOfWeekDisabled = !1, Z(), h;
					if(!(e instanceof Array)) throw new TypeError("daysOfWeekDisabled() expects an array parameter");
					if(i.daysOfWeekDisabled = e.reduce(function(e, t) {
							return(t = parseInt(t, 10)) > 6 || t < 0 || isNaN(t) ? e : (-1 === e.indexOf(t) && e.push(t), e)
						}, []).sort(), i.useCurrent && !i.keepInvalid) {
						for(var t = 0; !_(a, "d");) {
							if(a.add(1, "d"), 7 === t) throw "Tried 7 times to find a valid date";
							t++
						}
						J(a)
					}
					return Z(), h
				}, 
	}(jQuery, moment);